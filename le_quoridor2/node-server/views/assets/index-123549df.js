(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function _n(t,e){const r=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return e?n=>!!r[n.toLowerCase()]:n=>!!r[n]}const Pc="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",kc=_n(Pc);function yr(t){if(at(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=Pt(i)?Nc(i):yr(i);if(n)for(const s in n)e[s]=n[s]}return e}else{if(Pt(t))return t;if(xt(t))return t}}const Ac=/;(?![^(]*\))/g,Rc=/:([^]+)/,Oc=/\/\*.*?\*\//gs;function Nc(t){const e={};return t.replace(Oc,"").split(Ac).forEach(r=>{if(r){const i=r.split(Rc);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function br(t){let e="";if(Pt(t))e=t;else if(at(t))for(let r=0;r<t.length;r++){const i=br(t[r]);i&&(e+=i+" ")}else if(xt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function Fc(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Pt(e)&&(t.class=br(e)),r&&(t.style=yr(r)),t}const Mc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ic=_n(Mc);function fl(t){return!!t||t===""}function Lc(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Le(t[i],e[i]);return r}function Le(t,e){if(t===e)return!0;let r=va(t),i=va(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=ki(t),i=ki(e),r||i)return t===e;if(r=at(t),i=at(e),r||i)return r&&i?Lc(t,e):!1;if(r=xt(t),i=xt(e),r||i){if(!r||!i)return!1;const n=Object.keys(t).length,s=Object.keys(e).length;if(n!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),h=e.hasOwnProperty(a);if(o&&!h||!o&&h||!Le(t[a],e[a]))return!1}}return String(t)===String(e)}function vn(t,e){return t.findIndex(r=>Le(r,e))}const te=t=>Pt(t)?t:t==null?"":at(t)||xt(t)&&(t.toString===pl||!ut(t.toString))?JSON.stringify(t,gl,2):String(t),gl=(t,e)=>e&&e.__v_isRef?gl(t,e.value):ur(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n])=>(r[`${i} =>`]=n,r),{})}:sr(e)?{[`Set(${e.size})`]:[...e.values()]}:xt(e)&&!at(e)&&!ml(e)?String(e):e,wt={},cr=[],de=()=>{},Gc=()=>!1,Dc=/^on[^a-z]/,Ii=t=>Dc.test(t),Os=t=>t.startsWith("onUpdate:"),Ot=Object.assign,Ns=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Bc=Object.prototype.hasOwnProperty,Ct=(t,e)=>Bc.call(t,e),at=Array.isArray,ur=t=>Cr(t)==="[object Map]",sr=t=>Cr(t)==="[object Set]",va=t=>Cr(t)==="[object Date]",Uc=t=>Cr(t)==="[object RegExp]",ut=t=>typeof t=="function",Pt=t=>typeof t=="string",ki=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object",Fs=t=>xt(t)&&ut(t.then)&&ut(t.catch),pl=Object.prototype.toString,Cr=t=>pl.call(t),Vc=t=>Cr(t).slice(8,-1),ml=t=>Cr(t)==="[object Object]",Ms=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bi=_n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yn=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Hc=/-(\w)/g,Wt=yn(t=>t.replace(Hc,(e,r)=>r?r.toUpperCase():"")),qc=/\B([A-Z])/g,se=yn(t=>t.replace(qc,"-$1").toLowerCase()),Li=yn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ci=yn(t=>t?`on${Li(t)}`:""),pr=(t,e)=>!Object.is(t,e),dr=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},ln=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},hn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},cn=t=>{const e=Pt(t)?Number(t):NaN;return isNaN(e)?t:e};let ya;const jc=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Qt;class Is{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qt,!e&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Qt;try{return Qt=this,e()}finally{Qt=r}}}on(){Qt=this}off(){Qt=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Kc(t){return new Is(t)}function _l(t,e=Qt){e&&e.active&&e.effects.push(t)}function vl(){return Qt}function Wc(t){Qt&&Qt.cleanups.push(t)}const Ls=t=>{const e=new Set(t);return e.w=0,e.n=0,e},yl=t=>(t.w&Ge)>0,bl=t=>(t.n&Ge)>0,zc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ge},Yc=t=>{const{deps:e}=t;if(e.length){let r=0;for(let i=0;i<e.length;i++){const n=e[i];yl(n)&&!bl(n)?n.delete(t):e[r++]=n,n.w&=~Ge,n.n&=~Ge}e.length=r}},un=new WeakMap;let _i=0,Ge=1;const as=30;let he;const Je=Symbol(""),os=Symbol("");class Gi{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,_l(this,i)}run(){if(!this.active)return this.fn();let e=he,r=Me;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=he,he=this,Me=!0,Ge=1<<++_i,_i<=as?zc(this):ba(this),this.fn()}finally{_i<=as&&Yc(this),Ge=1<<--_i,he=this.parent,Me=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){he===this?this.deferStop=!0:this.active&&(ba(this),this.onStop&&this.onStop(),this.active=!1)}}function ba(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function $c(t,e){t.effect&&(t=t.effect.fn);const r=new Gi(t);e&&(Ot(r,e),e.scope&&_l(r,e.scope)),(!e||!e.lazy)&&r.run();const i=r.run.bind(r);return i.effect=r,i}function Xc(t){t.effect.stop()}let Me=!0;const Cl=[];function Sr(){Cl.push(Me),Me=!1}function wr(){const t=Cl.pop();Me=t===void 0?!0:t}function zt(t,e,r){if(Me&&he){let i=un.get(t);i||un.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=Ls()),Sl(n)}}function Sl(t,e){let r=!1;_i<=as?bl(t)||(t.n|=Ge,r=!yl(t)):r=!t.has(he),r&&(t.add(he),he.deps.push(t))}function Pe(t,e,r,i,n,s){const a=un.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&at(t)){const h=Number(i);a.forEach((u,p)=>{(p==="length"||p>=h)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),e){case"add":at(t)?Ms(r)&&o.push(a.get("length")):(o.push(a.get(Je)),ur(t)&&o.push(a.get(os)));break;case"delete":at(t)||(o.push(a.get(Je)),ur(t)&&o.push(a.get(os)));break;case"set":ur(t)&&o.push(a.get(Je));break}if(o.length===1)o[0]&&ls(o[0]);else{const h=[];for(const u of o)u&&h.push(...u);ls(Ls(h))}}function ls(t,e){const r=at(t)?t:[...t];for(const i of r)i.computed&&Ca(i);for(const i of r)i.computed||Ca(i)}function Ca(t,e){(t!==he||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Jc(t,e){var r;return(r=un.get(t))===null||r===void 0?void 0:r.get(e)}const Qc=_n("__proto__,__v_isRef,__isVue"),wl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ki)),Zc=bn(),tu=bn(!1,!0),eu=bn(!0),ru=bn(!0,!0),Sa=iu();function iu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=yt(this);for(let s=0,a=this.length;s<a;s++)zt(i,"get",s+"");const n=i[e](...r);return n===-1||n===!1?i[e](...r.map(yt)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Sr();const i=yt(this)[e].apply(this,r);return wr(),i}}),t}function nu(t){const e=yt(this);return zt(e,"has",t),e.hasOwnProperty(t)}function bn(t=!1,e=!1){return function(i,n,s){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&s===(t?e?Rl:Al:e?kl:Pl).get(i))return i;const a=at(i);if(!t){if(a&&Ct(Sa,n))return Reflect.get(Sa,n,s);if(n==="hasOwnProperty")return nu}const o=Reflect.get(i,n,s);return(ki(n)?wl.has(n):Qc(n))||(t||zt(i,"get",n),e)?o:It(o)?a&&Ms(n)?o:o.value:xt(o)?t?Ds(o):xr(o):o}}const su=xl(),au=xl(!0);function xl(t=!1){return function(r,i,n,s){let a=r[i];if(er(a)&&It(a)&&!It(n))return!1;if(!t&&(!Ai(n)&&!er(n)&&(a=yt(a),n=yt(n)),!at(r)&&It(a)&&!It(n)))return a.value=n,!0;const o=at(r)&&Ms(i)?Number(i)<r.length:Ct(r,i),h=Reflect.set(r,i,n,s);return r===yt(s)&&(o?pr(n,a)&&Pe(r,"set",i,n):Pe(r,"add",i,n)),h}}function ou(t,e){const r=Ct(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&r&&Pe(t,"delete",e,void 0),i}function lu(t,e){const r=Reflect.has(t,e);return(!ki(e)||!wl.has(e))&&zt(t,"has",e),r}function hu(t){return zt(t,"iterate",at(t)?"length":Je),Reflect.ownKeys(t)}const Tl={get:Zc,set:su,deleteProperty:ou,has:lu,ownKeys:hu},El={get:eu,set(t,e){return!0},deleteProperty(t,e){return!0}},cu=Ot({},Tl,{get:tu,set:au}),uu=Ot({},El,{get:ru}),Gs=t=>t,Cn=t=>Reflect.getPrototypeOf(t);function Vi(t,e,r=!1,i=!1){t=t.__v_raw;const n=yt(t),s=yt(e);r||(e!==s&&zt(n,"get",e),zt(n,"get",s));const{has:a}=Cn(n),o=i?Gs:r?Vs:Ri;if(a.call(n,e))return o(t.get(e));if(a.call(n,s))return o(t.get(s));t!==n&&t.get(e)}function Hi(t,e=!1){const r=this.__v_raw,i=yt(r),n=yt(t);return e||(t!==n&&zt(i,"has",t),zt(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function qi(t,e=!1){return t=t.__v_raw,!e&&zt(yt(t),"iterate",Je),Reflect.get(t,"size",t)}function wa(t){t=yt(t);const e=yt(this);return Cn(e).has.call(e,t)||(e.add(t),Pe(e,"add",t,t)),this}function xa(t,e){e=yt(e);const r=yt(this),{has:i,get:n}=Cn(r);let s=i.call(r,t);s||(t=yt(t),s=i.call(r,t));const a=n.call(r,t);return r.set(t,e),s?pr(e,a)&&Pe(r,"set",t,e):Pe(r,"add",t,e),this}function Ta(t){const e=yt(this),{has:r,get:i}=Cn(e);let n=r.call(e,t);n||(t=yt(t),n=r.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return n&&Pe(e,"delete",t,void 0),s}function Ea(){const t=yt(this),e=t.size!==0,r=t.clear();return e&&Pe(t,"clear",void 0,void 0),r}function ji(t,e){return function(i,n){const s=this,a=s.__v_raw,o=yt(a),h=e?Gs:t?Vs:Ri;return!t&&zt(o,"iterate",Je),a.forEach((u,p)=>i.call(n,h(u),h(p),s))}}function Ki(t,e,r){return function(...i){const n=this.__v_raw,s=yt(n),a=ur(s),o=t==="entries"||t===Symbol.iterator&&a,h=t==="keys"&&a,u=n[t](...i),p=r?Gs:e?Vs:Ri;return!e&&zt(s,"iterate",h?os:Je),{next(){const{value:d,done:_}=u.next();return _?{value:d,done:_}:{value:o?[p(d[0]),p(d[1])]:p(d),done:_}},[Symbol.iterator](){return this}}}}function Ae(t){return function(...e){return t==="delete"?!1:this}}function du(){const t={get(s){return Vi(this,s)},get size(){return qi(this)},has:Hi,add:wa,set:xa,delete:Ta,clear:Ea,forEach:ji(!1,!1)},e={get(s){return Vi(this,s,!1,!0)},get size(){return qi(this)},has:Hi,add:wa,set:xa,delete:Ta,clear:Ea,forEach:ji(!1,!0)},r={get(s){return Vi(this,s,!0)},get size(){return qi(this,!0)},has(s){return Hi.call(this,s,!0)},add:Ae("add"),set:Ae("set"),delete:Ae("delete"),clear:Ae("clear"),forEach:ji(!0,!1)},i={get(s){return Vi(this,s,!0,!0)},get size(){return qi(this,!0)},has(s){return Hi.call(this,s,!0)},add:Ae("add"),set:Ae("set"),delete:Ae("delete"),clear:Ae("clear"),forEach:ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ki(s,!1,!1),r[s]=Ki(s,!0,!1),e[s]=Ki(s,!1,!0),i[s]=Ki(s,!0,!0)}),[t,r,e,i]}const[fu,gu,pu,mu]=du();function Sn(t,e){const r=e?t?mu:pu:t?gu:fu;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Ct(r,n)&&n in i?r:i,n,s)}const _u={get:Sn(!1,!1)},vu={get:Sn(!1,!0)},yu={get:Sn(!0,!1)},bu={get:Sn(!0,!0)},Pl=new WeakMap,kl=new WeakMap,Al=new WeakMap,Rl=new WeakMap;function Cu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Su(t){return t.__v_skip||!Object.isExtensible(t)?0:Cu(Vc(t))}function xr(t){return er(t)?t:wn(t,!1,Tl,_u,Pl)}function Ol(t){return wn(t,!1,cu,vu,kl)}function Ds(t){return wn(t,!0,El,yu,Al)}function wu(t){return wn(t,!0,uu,bu,Rl)}function wn(t,e,r,i,n){if(!xt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const a=Su(t);if(a===0)return t;const o=new Proxy(t,a===2?i:r);return n.set(t,o),o}function Qe(t){return er(t)?Qe(t.__v_raw):!!(t&&t.__v_isReactive)}function er(t){return!!(t&&t.__v_isReadonly)}function Ai(t){return!!(t&&t.__v_isShallow)}function Bs(t){return Qe(t)||er(t)}function yt(t){const e=t&&t.__v_raw;return e?yt(e):t}function Us(t){return ln(t,"__v_skip",!0),t}const Ri=t=>xt(t)?xr(t):t,Vs=t=>xt(t)?Ds(t):t;function Hs(t){Me&&he&&(t=yt(t),Sl(t.dep||(t.dep=Ls())))}function xn(t,e){t=yt(t);const r=t.dep;r&&ls(r)}function It(t){return!!(t&&t.__v_isRef===!0)}function tn(t){return Nl(t,!1)}function xu(t){return Nl(t,!0)}function Nl(t,e){return It(t)?t:new Tu(t,e)}class Tu{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:yt(e),this._value=r?e:Ri(e)}get value(){return Hs(this),this._value}set value(e){const r=this.__v_isShallow||Ai(e)||er(e);e=r?e:yt(e),pr(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ri(e),xn(this))}}function Eu(t){xn(t)}function Fl(t){return It(t)?t.value:t}const Pu={get:(t,e,r)=>Fl(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return It(n)&&!It(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function qs(t){return Qe(t)?t:new Proxy(t,Pu)}class ku{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=e(()=>Hs(this),()=>xn(this));this._get=r,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function Au(t){return new ku(t)}function Ru(t){const e=at(t)?new Array(t.length):{};for(const r in t)e[r]=Ml(t,r);return e}class Ou{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jc(yt(this._object),this._key)}}function Ml(t,e,r){const i=t[e];return It(i)?i:new Ou(t,e,r)}var Il;class Nu{constructor(e,r,i,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Il]=!1,this._dirty=!0,this.effect=new Gi(e,()=>{this._dirty||(this._dirty=!0,xn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=yt(this);return Hs(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Il="__v_isReadonly";function Fu(t,e,r=!1){let i,n;const s=ut(t);return s?(i=t,n=de):(i=t.get,n=t.set),new Nu(i,n,s||!n,r)}function Mu(t,...e){}function Iu(t,e){}function Ee(t,e,r,i){let n;try{n=i?t(...i):t()}catch(s){ar(s,e,r)}return n}function ee(t,e,r,i){if(ut(t)){const s=Ee(t,e,r,i);return s&&Fs(s)&&s.catch(a=>{ar(a,e,r)}),s}const n=[];for(let s=0;s<t.length;s++)n.push(ee(t[s],e,r,i));return n}function ar(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=r;for(;s;){const u=s.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](t,a,o)===!1)return}s=s.parent}const h=e.appContext.config.errorHandler;if(h){Ee(h,null,10,[t,a,o]);return}}Lu(t,r,n,i)}function Lu(t,e,r,i=!0){console.error(t)}let Oi=!1,hs=!1;const Bt=[];let me=0;const fr=[];let we=null,Ye=0;const Ll=Promise.resolve();let js=null;function Ks(t){const e=js||Ll;return t?e.then(this?t.bind(this):t):e}function Gu(t){let e=me+1,r=Bt.length;for(;e<r;){const i=e+r>>>1;Ni(Bt[i])<t?e=i+1:r=i}return e}function Tn(t){(!Bt.length||!Bt.includes(t,Oi&&t.allowRecurse?me+1:me))&&(t.id==null?Bt.push(t):Bt.splice(Gu(t.id),0,t),Gl())}function Gl(){!Oi&&!hs&&(hs=!0,js=Ll.then(Dl))}function Du(t){const e=Bt.indexOf(t);e>me&&Bt.splice(e,1)}function Ws(t){at(t)?fr.push(...t):(!we||!we.includes(t,t.allowRecurse?Ye+1:Ye))&&fr.push(t),Gl()}function Pa(t,e=Oi?me+1:0){for(;e<Bt.length;e++){const r=Bt[e];r&&r.pre&&(Bt.splice(e,1),e--,r())}}function dn(t){if(fr.length){const e=[...new Set(fr)];if(fr.length=0,we){we.push(...e);return}for(we=e,we.sort((r,i)=>Ni(r)-Ni(i)),Ye=0;Ye<we.length;Ye++)we[Ye]();we=null,Ye=0}}const Ni=t=>t.id==null?1/0:t.id,Bu=(t,e)=>{const r=Ni(t)-Ni(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Dl(t){hs=!1,Oi=!0,Bt.sort(Bu);const e=de;try{for(me=0;me<Bt.length;me++){const r=Bt[me];r&&r.active!==!1&&Ee(r,null,14)}}finally{me=0,Bt.length=0,dn(),Oi=!1,js=null,(Bt.length||fr.length)&&Dl()}}let or,Wi=[];function Bl(t,e){var r,i;or=t,or?(or.enabled=!0,Wi.forEach(({event:n,args:s})=>or.emit(n,...s)),Wi=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Bl(s,e)}),setTimeout(()=>{or||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wi=[])},3e3)):Wi=[]}function Uu(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||wt;let n=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:_}=i[p]||wt;_&&(n=r.map(m=>Pt(m)?m.trim():m)),d&&(n=r.map(hn))}let o,h=i[o=Ci(e)]||i[o=Ci(Wt(e))];!h&&s&&(h=i[o=Ci(se(e))]),h&&ee(h,t,6,n);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,ee(u,t,6,n)}}function Ul(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const s=t.emits;let a={},o=!1;if(!ut(t)){const h=u=>{const p=Ul(u,e,!0);p&&(o=!0,Ot(a,p))};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!s&&!o?(xt(t)&&i.set(t,null),null):(at(s)?s.forEach(h=>a[h]=null):Ot(a,s),xt(t)&&i.set(t,a),a)}function En(t,e){return!t||!Ii(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ct(t,e[0].toLowerCase()+e.slice(1))||Ct(t,se(e))||Ct(t,e))}let Dt=null,Pn=null;function Fi(t){const e=Dt;return Dt=t,Pn=t&&t.type.__scopeId||null,e}function kn(t){Pn=t}function An(){Pn=null}const Vu=t=>zs;function zs(t,e=Dt,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&ms(-1);const s=Fi(e);let a;try{a=t(...n)}finally{Fi(s),i._d&&ms(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function en(t){const{type:e,vnode:r,proxy:i,withProxy:n,props:s,propsOptions:[a],slots:o,attrs:h,emit:u,render:p,renderCache:d,data:_,setupState:m,ctx:f,inheritAttrs:y}=t;let C,x;const c=Fi(t);try{if(r.shapeFlag&4){const v=n||i;C=Zt(p.call(v,v,d,s,m,_,f)),x=h}else{const v=e;C=Zt(v.length>1?v(s,{attrs:h,slots:o,emit:u}):v(s,null)),x=e.props?h:qu(h)}}catch(v){Ei.length=0,ar(v,t,1),C=St(Ut)}let l=C;if(x&&y!==!1){const v=Object.keys(x),{shapeFlag:S}=l;v.length&&S&7&&(a&&v.some(Os)&&(x=ju(x,a)),l=ve(l,x))}return r.dirs&&(l=ve(l),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&(l.transition=r.transition),C=l,Fi(c),C}function Hu(t){let e;for(let r=0;r<t.length;r++){const i=t[r];if(De(i)){if(i.type!==Ut||i.children==="v-if"){if(e)return;e=i}}else return}return e}const qu=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ii(r))&&((e||(e={}))[r]=t[r]);return e},ju=(t,e)=>{const r={};for(const i in t)(!Os(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function Ku(t,e,r){const{props:i,children:n,component:s}=t,{props:a,children:o,patchFlag:h}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return i?ka(i,a,u):!!a;if(h&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const _=p[d];if(a[_]!==i[_]&&!En(u,_))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?ka(i,a,u):!0:!!a;return!1}function ka(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==t[s]&&!En(r,s))return!0}return!1}function Ys({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Vl=t=>t.__isSuspense,Wu={name:"Suspense",__isSuspense:!0,process(t,e,r,i,n,s,a,o,h,u){t==null?Yu(e,r,i,n,s,a,o,h,u):$u(t,e,r,i,n,a,o,h,u)},hydrate:Xu,create:$s,normalize:Ju},zu=Wu;function Mi(t,e){const r=t.props&&t.props[e];ut(r)&&r()}function Yu(t,e,r,i,n,s,a,o,h){const{p:u,o:{createElement:p}}=h,d=p("div"),_=t.suspense=$s(t,n,i,e,d,r,s,a,o,h);u(null,_.pendingBranch=t.ssContent,d,null,i,_,s,a),_.deps>0?(Mi(t,"onPending"),Mi(t,"onFallback"),u(null,t.ssFallback,e,r,i,null,s,a),gr(_,t.ssFallback)):_.resolve()}function $u(t,e,r,i,n,s,a,o,{p:h,um:u,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const _=e.ssContent,m=e.ssFallback,{activeBranch:f,pendingBranch:y,isInFallback:C,isHydrating:x}=d;if(y)d.pendingBranch=_,ue(_,y)?(h(y,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0?d.resolve():C&&(h(f,m,r,i,n,null,s,a,o),gr(d,m))):(d.pendingId++,x?(d.isHydrating=!1,d.activeBranch=y):u(y,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),C?(h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0?d.resolve():(h(f,m,r,i,n,null,s,a,o),gr(d,m))):f&&ue(_,f)?(h(f,_,r,i,n,d,s,a,o),d.resolve(!0)):(h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0&&d.resolve()));else if(f&&ue(_,f))h(f,_,r,i,n,d,s,a,o),gr(d,_);else if(Mi(e,"onPending"),d.pendingBranch=_,d.pendingId++,h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:c,pendingId:l}=d;c>0?setTimeout(()=>{d.pendingId===l&&d.fallback(m)},c):c===0&&d.fallback(m)}}function $s(t,e,r,i,n,s,a,o,h,u,p=!1){const{p:d,m:_,um:m,n:f,o:{parentNode:y,remove:C}}=u,x=t.props?cn(t.props.timeout):void 0,c={vnode:t,parent:e,parentComponent:r,isSVG:a,container:i,hiddenContainer:n,anchor:s,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:p,isUnmounted:!1,effects:[],resolve(l=!1){const{vnode:v,activeBranch:S,pendingBranch:P,pendingId:O,effects:w,parentComponent:k,container:T}=c;if(c.isHydrating)c.isHydrating=!1;else if(!l){const g=S&&P.transition&&P.transition.mode==="out-in";g&&(S.transition.afterLeave=()=>{O===c.pendingId&&_(P,T,b,0)});let{anchor:b}=c;S&&(b=f(S),m(S,k,c,!0)),g||_(P,T,b,0)}gr(c,P),c.pendingBranch=null,c.isInFallback=!1;let R=c.parent,N=!1;for(;R;){if(R.pendingBranch){R.effects.push(...w),N=!0;break}R=R.parent}N||Ws(w),c.effects=[],Mi(v,"onResolve")},fallback(l){if(!c.pendingBranch)return;const{vnode:v,activeBranch:S,parentComponent:P,container:O,isSVG:w}=c;Mi(v,"onFallback");const k=f(S),T=()=>{c.isInFallback&&(d(null,l,O,k,P,null,w,o,h),gr(c,l))},R=l.transition&&l.transition.mode==="out-in";R&&(S.transition.afterLeave=T),c.isInFallback=!0,m(S,P,null,!0),R||T()},move(l,v,S){c.activeBranch&&_(c.activeBranch,l,v,S),c.container=l},next(){return c.activeBranch&&f(c.activeBranch)},registerDep(l,v){const S=!!c.pendingBranch;S&&c.deps++;const P=l.vnode.el;l.asyncDep.catch(O=>{ar(O,l,0)}).then(O=>{if(l.isUnmounted||c.isUnmounted||c.pendingId!==l.suspenseId)return;l.asyncResolved=!0;const{vnode:w}=l;_s(l,O,!1),P&&(w.el=P);const k=!P&&l.subTree.el;v(l,w,y(P||l.subTree.el),P?null:f(l.subTree),c,a,h),k&&C(k),Ys(l,w.el),S&&--c.deps===0&&c.resolve()})},unmount(l,v){c.isUnmounted=!0,c.activeBranch&&m(c.activeBranch,r,l,v),c.pendingBranch&&m(c.pendingBranch,r,l,v)}};return c}function Xu(t,e,r,i,n,s,a,o,h){const u=e.suspense=$s(e,i,r,t.parentNode,document.createElement("div"),null,n,s,a,o,!0),p=h(t,u.pendingBranch=e.ssContent,r,u,s,a);return u.deps===0&&u.resolve(),p}function Ju(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=Aa(i?r.default:r),t.ssFallback=i?Aa(r.fallback):St(Ut)}function Aa(t){let e;if(ut(t)){const r=nr&&t._c;r&&(t._d=!1,ct()),t=t(),r&&(t._d=!0,e=Kt,ph())}return at(t)&&(t=Hu(t)),t=Zt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function Hl(t,e){e&&e.pendingBranch?at(t)?e.effects.push(...t):e.effects.push(t):Ws(t)}function gr(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t,n=r.el=e.el;i&&i.subTree===r&&(i.vnode.el=n,Ys(i,n))}function ql(t,e){if(Rt){let r=Rt.provides;const i=Rt.parent&&Rt.parent.provides;i===r&&(r=Rt.provides=Object.create(i)),r[t]=e}}function Si(t,e,r=!1){const i=Rt||Dt;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ut(e)?e.call(i.proxy):e}}function Qu(t,e){return Di(t,null,e)}function jl(t,e){return Di(t,null,{flush:"post"})}function Zu(t,e){return Di(t,null,{flush:"sync"})}const zi={};function wi(t,e,r){return Di(t,e,r)}function Di(t,e,{immediate:r,deep:i,flush:n,onTrack:s,onTrigger:a}=wt){const o=vl()===(Rt==null?void 0:Rt.scope)?Rt:null;let h,u=!1,p=!1;if(It(t)?(h=()=>t.value,u=Ai(t)):Qe(t)?(h=()=>t,i=!0):at(t)?(p=!0,u=t.some(l=>Qe(l)||Ai(l)),h=()=>t.map(l=>{if(It(l))return l.value;if(Qe(l))return Xe(l);if(ut(l))return Ee(l,o,2)})):ut(t)?e?h=()=>Ee(t,o,2):h=()=>{if(!(o&&o.isUnmounted))return d&&d(),ee(t,o,3,[_])}:h=de,e&&i){const l=h;h=()=>Xe(l())}let d,_=l=>{d=x.onStop=()=>{Ee(l,o,4)}},m;if(_r)if(_=de,e?r&&ee(e,o,3,[h(),p?[]:void 0,_]):h(),n==="sync"){const l=Rh();m=l.__watcherHandles||(l.__watcherHandles=[])}else return de;let f=p?new Array(t.length).fill(zi):zi;const y=()=>{if(x.active)if(e){const l=x.run();(i||u||(p?l.some((v,S)=>pr(v,f[S])):pr(l,f)))&&(d&&d(),ee(e,o,3,[l,f===zi?void 0:p&&f[0]===zi?[]:f,_]),f=l)}else x.run()};y.allowRecurse=!!e;let C;n==="sync"?C=y:n==="post"?C=()=>Gt(y,o&&o.suspense):(y.pre=!0,o&&(y.id=o.uid),C=()=>Tn(y));const x=new Gi(h,C);e?r?y():f=x.run():n==="post"?Gt(x.run.bind(x),o&&o.suspense):x.run();const c=()=>{x.stop(),o&&o.scope&&Ns(o.scope.effects,x)};return m&&m.push(c),c}function td(t,e,r){const i=this.proxy,n=Pt(t)?t.includes(".")?Kl(i,t):()=>i[t]:t.bind(i,i);let s;ut(e)?s=e:(s=e.handler,r=e);const a=Rt;Be(this);const o=Di(n,s.bind(i),r);return a?Be(a):Ie(),o}function Kl(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function Xe(t,e){if(!xt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),It(t))Xe(t.value,e);else if(at(t))for(let r=0;r<t.length;r++)Xe(t[r],e);else if(sr(t)||ur(t))t.forEach(r=>{Xe(r,e)});else if(ml(t))for(const r in t)Xe(t[r],e);return t}function Xs(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ui(()=>{t.isMounted=!0}),Fn(()=>{t.isUnmounting=!0}),t}const ie=[Function,Array],ed={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ie,onEnter:ie,onAfterEnter:ie,onEnterCancelled:ie,onBeforeLeave:ie,onLeave:ie,onAfterLeave:ie,onLeaveCancelled:ie,onBeforeAppear:ie,onAppear:ie,onAfterAppear:ie,onAppearCancelled:ie},setup(t,{slots:e}){const r=He(),i=Xs();let n;return()=>{const s=e.default&&Rn(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const y of s)if(y.type!==Ut){a=y;break}}const o=yt(t),{mode:h}=o;if(i.isLeaving)return qn(a);const u=Ra(a);if(!u)return qn(a);const p=mr(u,o,i,r);rr(u,p);const d=r.subTree,_=d&&Ra(d);let m=!1;const{getTransitionKey:f}=u.type;if(f){const y=f();n===void 0?n=y:y!==n&&(n=y,m=!0)}if(_&&_.type!==Ut&&(!ue(u,_)||m)){const y=mr(_,o,i,r);if(rr(_,y),h==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},qn(a);h==="in-out"&&u.type!==Ut&&(y.delayLeave=(C,x,c)=>{const l=Wl(i,_);l[String(_.key)]=_,C._leaveCb=()=>{x(),C._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=c})}return a}}},Js=ed;function Wl(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function mr(t,e,r,i){const{appear:n,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:h,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:d,onLeave:_,onAfterLeave:m,onLeaveCancelled:f,onBeforeAppear:y,onAppear:C,onAfterAppear:x,onAppearCancelled:c}=e,l=String(t.key),v=Wl(r,t),S=(w,k)=>{w&&ee(w,i,9,k)},P=(w,k)=>{const T=k[1];S(w,k),at(w)?w.every(R=>R.length<=1)&&T():w.length<=1&&T()},O={mode:s,persisted:a,beforeEnter(w){let k=o;if(!r.isMounted)if(n)k=y||o;else return;w._leaveCb&&w._leaveCb(!0);const T=v[l];T&&ue(t,T)&&T.el._leaveCb&&T.el._leaveCb(),S(k,[w])},enter(w){let k=h,T=u,R=p;if(!r.isMounted)if(n)k=C||h,T=x||u,R=c||p;else return;let N=!1;const g=w._enterCb=b=>{N||(N=!0,b?S(R,[w]):S(T,[w]),O.delayedLeave&&O.delayedLeave(),w._enterCb=void 0)};k?P(k,[w,g]):g()},leave(w,k){const T=String(t.key);if(w._enterCb&&w._enterCb(!0),r.isUnmounting)return k();S(d,[w]);let R=!1;const N=w._leaveCb=g=>{R||(R=!0,k(),g?S(f,[w]):S(m,[w]),w._leaveCb=void 0,v[T]===t&&delete v[T])};v[T]=t,_?P(_,[w,N]):N()},clone(w){return mr(w,e,r,i)}};return O}function qn(t){if(Bi(t))return t=ve(t),t.children=null,t}function Ra(t){return Bi(t)?t.children?t.children[0]:void 0:t}function rr(t,e){t.shapeFlag&6&&t.component?rr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rn(t,e=!1,r){let i=[],n=0;for(let s=0;s<t.length;s++){let a=t[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===At?(a.patchFlag&128&&n++,i=i.concat(Rn(a.children,e,o))):(e||a.type!==Ut)&&i.push(o!=null?ve(a,{key:o}):a)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Qs(t){return ut(t)?{setup:t,name:t.name}:t}const Ze=t=>!!t.type.__asyncLoader;function rd(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:n=200,timeout:s,suspensible:a=!0,onError:o}=t;let h=null,u,p=0;const d=()=>(p++,h=null,_()),_=()=>{let m;return h||(m=h=e().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),o)return new Promise((y,C)=>{o(f,()=>y(d()),()=>C(f),p+1)});throw f}).then(f=>m!==h&&h?h:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),u=f,f)))};return Qs({name:"AsyncComponentWrapper",__asyncLoader:_,get __asyncResolved(){return u},setup(){const m=Rt;if(u)return()=>jn(u,m);const f=c=>{h=null,ar(c,m,13,!i)};if(a&&m.suspense||_r)return _().then(c=>()=>jn(c,m)).catch(c=>(f(c),()=>i?St(i,{error:c}):null));const y=tn(!1),C=tn(),x=tn(!!n);return n&&setTimeout(()=>{x.value=!1},n),s!=null&&setTimeout(()=>{if(!y.value&&!C.value){const c=new Error(`Async component timed out after ${s}ms.`);f(c),C.value=c}},s),_().then(()=>{y.value=!0,m.parent&&Bi(m.parent.vnode)&&Tn(m.parent.update)}).catch(c=>{f(c),C.value=c}),()=>{if(y.value&&u)return jn(u,m);if(C.value&&i)return St(i,{error:C.value});if(r&&!x.value)return St(r)}}})}function jn(t,e){const{ref:r,props:i,children:n,ce:s}=e.vnode,a=St(t,i,n);return a.ref=r,a.ce=s,delete e.vnode.ce,a}const Bi=t=>t.type.__isKeepAlive,id={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=He(),i=r.ctx;if(!i.renderer)return()=>{const c=e.default&&e.default();return c&&c.length===1?c[0]:c};const n=new Map,s=new Set;let a=null;const o=r.suspense,{renderer:{p:h,m:u,um:p,o:{createElement:d}}}=i,_=d("div");i.activate=(c,l,v,S,P)=>{const O=c.component;u(c,l,v,0,o),h(O.vnode,c,l,v,O,o,S,c.slotScopeIds,P),Gt(()=>{O.isDeactivated=!1,O.a&&dr(O.a);const w=c.props&&c.props.onVnodeMounted;w&&qt(w,O.parent,c)},o)},i.deactivate=c=>{const l=c.component;u(c,_,null,1,o),Gt(()=>{l.da&&dr(l.da);const v=c.props&&c.props.onVnodeUnmounted;v&&qt(v,l.parent,c),l.isDeactivated=!0},o)};function m(c){Kn(c),p(c,r,o,!0)}function f(c){n.forEach((l,v)=>{const S=ys(l.type);S&&(!c||!c(S))&&y(v)})}function y(c){const l=n.get(c);!a||!ue(l,a)?m(l):a&&Kn(a),n.delete(c),s.delete(c)}wi(()=>[t.include,t.exclude],([c,l])=>{c&&f(v=>vi(c,v)),l&&f(v=>!vi(l,v))},{flush:"post",deep:!0});let C=null;const x=()=>{C!=null&&n.set(C,Wn(r.subTree))};return Ui(x),Nn(x),Fn(()=>{n.forEach(c=>{const{subTree:l,suspense:v}=r,S=Wn(l);if(c.type===S.type&&c.key===S.key){Kn(S);const P=S.component.da;P&&Gt(P,v);return}m(c)})}),()=>{if(C=null,!e.default)return null;const c=e.default(),l=c[0];if(c.length>1)return a=null,c;if(!De(l)||!(l.shapeFlag&4)&&!(l.shapeFlag&128))return a=null,l;let v=Wn(l);const S=v.type,P=ys(Ze(v)?v.type.__asyncResolved||{}:S),{include:O,exclude:w,max:k}=t;if(O&&(!P||!vi(O,P))||w&&P&&vi(w,P))return a=v,l;const T=v.key==null?S:v.key,R=n.get(T);return v.el&&(v=ve(v),l.shapeFlag&128&&(l.ssContent=v)),C=T,R?(v.el=R.el,v.component=R.component,v.transition&&rr(v,v.transition),v.shapeFlag|=512,s.delete(T),s.add(T)):(s.add(T),k&&s.size>parseInt(k,10)&&y(s.values().next().value)),v.shapeFlag|=256,a=v,Vl(l.type)?l:v}}},nd=id;function vi(t,e){return at(t)?t.some(r=>vi(r,e)):Pt(t)?t.split(",").includes(e):Uc(t)?t.test(e):!1}function zl(t,e){$l(t,"a",e)}function Yl(t,e){$l(t,"da",e)}function $l(t,e,r=Rt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(On(e,i,r),r){let n=r.parent;for(;n&&n.parent;)Bi(n.parent.vnode)&&sd(i,e,r,n),n=n.parent}}function sd(t,e,r,i){const n=On(e,t,i,!0);Mn(()=>{Ns(i[e],n)},r)}function Kn(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Wn(t){return t.shapeFlag&128?t.ssContent:t}function On(t,e,r=Rt,i=!1){if(r){const n=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;Sr(),Be(r);const o=ee(e,r,t,a);return Ie(),wr(),o});return i?n.unshift(s):n.push(s),s}}const ke=t=>(e,r=Rt)=>(!_r||t==="sp")&&On(t,(...i)=>e(...i),r),Xl=ke("bm"),Ui=ke("m"),Jl=ke("bu"),Nn=ke("u"),Fn=ke("bum"),Mn=ke("um"),Ql=ke("sp"),Zl=ke("rtg"),th=ke("rtc");function eh(t,e=Rt){On("ec",t,e)}function oe(t,e){const r=Dt;if(r===null)return t;const i=Dn(r)||r.proxy,n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,h,u=wt]=e[s];a&&(ut(a)&&(a={mounted:a,updated:a}),a.deep&&Xe(o),n.push({dir:a,instance:i,value:o,oldValue:void 0,arg:h,modifiers:u}))}return t}function ge(t,e,r,i){const n=t.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let h=o.dir[i];h&&(Sr(),ee(h,r,8,[t.el,o,t,e]),wr())}}const Zs="components",ad="directives";function jt(t,e){return ta(Zs,t,!0,e)||t}const rh=Symbol();function od(t){return Pt(t)?ta(Zs,t,!1)||t:t||rh}function ld(t){return ta(ad,t)}function ta(t,e,r=!0,i=!1){const n=Dt||Rt;if(n){const s=n.type;if(t===Zs){const o=ys(s,!1);if(o&&(o===e||o===Wt(e)||o===Li(Wt(e))))return s}const a=Oa(n[t]||s[t],e)||Oa(n.appContext[t],e);return!a&&i?s:a}}function Oa(t,e){return t&&(t[e]||t[Wt(e)]||t[Li(Wt(e))])}function In(t,e,r,i){let n;const s=r&&r[i];if(at(t)||Pt(t)){n=new Array(t.length);for(let a=0,o=t.length;a<o;a++)n[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,s&&s[a])}else if(xt(t))if(t[Symbol.iterator])n=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);n=new Array(a.length);for(let o=0,h=a.length;o<h;o++){const u=a[o];n[o]=e(t[u],u,o,s&&s[o])}}else n=[];return r&&(r[i]=n),n}function hd(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(at(i))for(let n=0;n<i.length;n++)t[i[n].name]=i[n].fn;else i&&(t[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return t}function cd(t,e,r={},i,n){if(Dt.isCE||Dt.parent&&Ze(Dt.parent)&&Dt.parent.isCE)return e!=="default"&&(r.name=e),St("slot",r,i&&i());let s=t[e];s&&s._c&&(s._d=!1),ct();const a=s&&ih(s(r)),o=ce(At,{key:r.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!n&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ih(t){return t.some(e=>De(e)?!(e.type===Ut||e.type===At&&!ih(e.children)):!0)?t:null}function ud(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:Ci(i)]=t[i];return r}const cs=t=>t?Sh(t)?Dn(t)||t.proxy:cs(t.parent):null,xi=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cs(t.parent),$root:t=>cs(t.root),$emit:t=>t.emit,$options:t=>ea(t),$forceUpdate:t=>t.f||(t.f=()=>Tn(t.update)),$nextTick:t=>t.n||(t.n=Ks.bind(t.proxy)),$watch:t=>td.bind(t)}),zn=(t,e)=>t!==wt&&!t.__isScriptSetup&&Ct(t,e),us={get({_:t},e){const{ctx:r,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:h}=t;let u;if(e[0]!=="$"){const m=a[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return s[e]}else{if(zn(i,e))return a[e]=1,i[e];if(n!==wt&&Ct(n,e))return a[e]=2,n[e];if((u=t.propsOptions[0])&&Ct(u,e))return a[e]=3,s[e];if(r!==wt&&Ct(r,e))return a[e]=4,r[e];ds&&(a[e]=0)}}const p=xi[e];let d,_;if(p)return e==="$attrs"&&zt(t,"get",e),p(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(r!==wt&&Ct(r,e))return a[e]=4,r[e];if(_=h.config.globalProperties,Ct(_,e))return _[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:s}=t;return zn(n,e)?(n[e]=r,!0):i!==wt&&Ct(i,e)?(i[e]=r,!0):Ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:s}},a){let o;return!!r[a]||t!==wt&&Ct(t,a)||zn(e,a)||(o=s[0])&&Ct(o,a)||Ct(i,a)||Ct(xi,a)||Ct(n.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Ct(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},dd=Ot({},us,{get(t,e){if(e!==Symbol.unscopables)return us.get(t,e,t)},has(t,e){return e[0]!=="_"&&!kc(e)}});let ds=!0;function fd(t){const e=ea(t),r=t.proxy,i=t.ctx;ds=!1,e.beforeCreate&&Na(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:a,watch:o,provide:h,inject:u,created:p,beforeMount:d,mounted:_,beforeUpdate:m,updated:f,activated:y,deactivated:C,beforeDestroy:x,beforeUnmount:c,destroyed:l,unmounted:v,render:S,renderTracked:P,renderTriggered:O,errorCaptured:w,serverPrefetch:k,expose:T,inheritAttrs:R,components:N,directives:g,filters:b}=e;if(u&&gd(u,i,null,t.appContext.config.unwrapInjectedRef),a)for(const M in a){const L=a[M];ut(L)&&(i[M]=L.bind(r))}if(n){const M=n.call(r,r);xt(M)&&(t.data=xr(M))}if(ds=!0,s)for(const M in s){const L=s[M],G=ut(L)?L.bind(r,r):ut(L.get)?L.get.bind(r,r):de,B=!ut(L)&&ut(L.set)?L.set.bind(r):de,K=Eh({get:G,set:B});Object.defineProperty(i,M,{enumerable:!0,configurable:!0,get:()=>K.value,set:X=>K.value=X})}if(o)for(const M in o)nh(o[M],i,r,M);if(h){const M=ut(h)?h.call(r):h;Reflect.ownKeys(M).forEach(L=>{ql(L,M[L])})}p&&Na(p,t,"c");function A(M,L){at(L)?L.forEach(G=>M(G.bind(r))):L&&M(L.bind(r))}if(A(Xl,d),A(Ui,_),A(Jl,m),A(Nn,f),A(zl,y),A(Yl,C),A(eh,w),A(th,P),A(Zl,O),A(Fn,c),A(Mn,v),A(Ql,k),at(T))if(T.length){const M=t.exposed||(t.exposed={});T.forEach(L=>{Object.defineProperty(M,L,{get:()=>r[L],set:G=>r[L]=G})})}else t.exposed||(t.exposed={});S&&t.render===de&&(t.render=S),R!=null&&(t.inheritAttrs=R),N&&(t.components=N),g&&(t.directives=g)}function gd(t,e,r=de,i=!1){at(t)&&(t=fs(t));for(const n in t){const s=t[n];let a;xt(s)?"default"in s?a=Si(s.from||n,s.default,!0):a=Si(s.from||n):a=Si(s),It(a)&&i?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[n]=a}}function Na(t,e,r){ee(at(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function nh(t,e,r,i){const n=i.includes(".")?Kl(r,i):()=>r[i];if(Pt(t)){const s=e[t];ut(s)&&wi(n,s)}else if(ut(t))wi(n,t.bind(r));else if(xt(t))if(at(t))t.forEach(s=>nh(s,e,r,i));else{const s=ut(t.handler)?t.handler.bind(r):e[t.handler];ut(s)&&wi(n,s,t)}}function ea(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let h;return o?h=o:!n.length&&!r&&!i?h=e:(h={},n.length&&n.forEach(u=>fn(h,u,a,!0)),fn(h,e,a)),xt(e)&&s.set(e,h),h}function fn(t,e,r,i=!1){const{mixins:n,extends:s}=e;s&&fn(t,s,r,!0),n&&n.forEach(a=>fn(t,a,r,!0));for(const a in e)if(!(i&&a==="expose")){const o=pd[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const pd={data:Fa,props:ze,emits:ze,methods:ze,computed:ze,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:ze,directives:ze,watch:_d,provide:Fa,inject:md};function Fa(t,e){return e?t?function(){return Ot(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function md(t,e){return ze(fs(t),fs(e))}function fs(t){if(at(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Vt(t,e){return t?[...new Set([].concat(t,e))]:e}function ze(t,e){return t?Ot(Ot(Object.create(null),t),e):e}function _d(t,e){if(!t)return e;if(!e)return t;const r=Ot(Object.create(null),t);for(const i in e)r[i]=Vt(t[i],e[i]);return r}function vd(t,e,r,i=!1){const n={},s={};ln(s,Ln,1),t.propsDefaults=Object.create(null),sh(t,e,n,s);for(const a in t.propsOptions[0])a in n||(n[a]=void 0);r?t.props=i?n:Ol(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function yd(t,e,r,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=t,o=yt(n),[h]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let _=p[d];if(En(t.emitsOptions,_))continue;const m=e[_];if(h)if(Ct(s,_))m!==s[_]&&(s[_]=m,u=!0);else{const f=Wt(_);n[f]=gs(h,o,f,m,t,!1)}else m!==s[_]&&(s[_]=m,u=!0)}}}else{sh(t,e,n,s)&&(u=!0);let p;for(const d in o)(!e||!Ct(e,d)&&((p=se(d))===d||!Ct(e,p)))&&(h?r&&(r[d]!==void 0||r[p]!==void 0)&&(n[d]=gs(h,o,d,void 0,t,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!Ct(e,d))&&(delete s[d],u=!0)}u&&Pe(t,"set","$attrs")}function sh(t,e,r,i){const[n,s]=t.propsOptions;let a=!1,o;if(e)for(let h in e){if(bi(h))continue;const u=e[h];let p;n&&Ct(n,p=Wt(h))?!s||!s.includes(p)?r[p]=u:(o||(o={}))[p]=u:En(t.emitsOptions,h)||(!(h in i)||u!==i[h])&&(i[h]=u,a=!0)}if(s){const h=yt(r),u=o||wt;for(let p=0;p<s.length;p++){const d=s[p];r[d]=gs(n,h,d,u[d],t,!Ct(u,d))}}return a}function gs(t,e,r,i,n,s){const a=t[r];if(a!=null){const o=Ct(a,"default");if(o&&i===void 0){const h=a.default;if(a.type!==Function&&ut(h)){const{propsDefaults:u}=n;r in u?i=u[r]:(Be(n),i=u[r]=h.call(null,e),Ie())}else i=h}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===se(r))&&(i=!0))}return i}function ah(t,e,r=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const s=t.props,a={},o=[];let h=!1;if(!ut(t)){const p=d=>{h=!0;const[_,m]=ah(d,e,!0);Ot(a,_),m&&o.push(...m)};!r&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!h)return xt(t)&&i.set(t,cr),cr;if(at(s))for(let p=0;p<s.length;p++){const d=Wt(s[p]);Ma(d)&&(a[d]=wt)}else if(s)for(const p in s){const d=Wt(p);if(Ma(d)){const _=s[p],m=a[d]=at(_)||ut(_)?{type:_}:Object.assign({},_);if(m){const f=Ga(Boolean,m.type),y=Ga(String,m.type);m[0]=f>-1,m[1]=y<0||f<y,(f>-1||Ct(m,"default"))&&o.push(d)}}}const u=[a,o];return xt(t)&&i.set(t,u),u}function Ma(t){return t[0]!=="$"}function Ia(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function La(t,e){return Ia(t)===Ia(e)}function Ga(t,e){return at(e)?e.findIndex(r=>La(r,t)):ut(e)&&La(e,t)?0:-1}const oh=t=>t[0]==="_"||t==="$stable",ra=t=>at(t)?t.map(Zt):[Zt(t)],bd=(t,e,r)=>{if(e._n)return e;const i=zs((...n)=>ra(e(...n)),r);return i._c=!1,i},lh=(t,e,r)=>{const i=t._ctx;for(const n in t){if(oh(n))continue;const s=t[n];if(ut(s))e[n]=bd(n,s,i);else if(s!=null){const a=ra(s);e[n]=()=>a}}},hh=(t,e)=>{const r=ra(e);t.slots.default=()=>r},Cd=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=yt(e),ln(e,"_",r)):lh(e,t.slots={})}else t.slots={},e&&hh(t,e);ln(t.slots,Ln,1)},Sd=(t,e,r)=>{const{vnode:i,slots:n}=t;let s=!0,a=wt;if(i.shapeFlag&32){const o=e._;o?r&&o===1?s=!1:(Ot(n,e),!r&&o===1&&delete n._):(s=!e.$stable,lh(e,n)),a=e}else e&&(hh(t,e),a={default:1});if(s)for(const o in n)!oh(o)&&!(o in a)&&delete n[o]};function ch(){return{app:null,config:{isNativeTag:Gc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wd=0;function xd(t,e){return function(i,n=null){ut(i)||(i=Object.assign({},i)),n!=null&&!xt(n)&&(n=null);const s=ch(),a=new Set;let o=!1;const h=s.app={_uid:wd++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Nh,get config(){return s.config},set config(u){},use(u,...p){return a.has(u)||(u&&ut(u.install)?(a.add(u),u.install(h,...p)):ut(u)&&(a.add(u),u(h,...p))),h},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),h},component(u,p){return p?(s.components[u]=p,h):s.components[u]},directive(u,p){return p?(s.directives[u]=p,h):s.directives[u]},mount(u,p,d){if(!o){const _=St(i,n);return _.appContext=s,p&&e?e(_,u):t(_,u,d),o=!0,h._container=u,u.__vue_app__=h,Dn(_.component)||_.component.proxy}},unmount(){o&&(t(null,h._container),delete h._container.__vue_app__)},provide(u,p){return s.provides[u]=p,h}};return h}}function gn(t,e,r,i,n=!1){if(at(t)){t.forEach((_,m)=>gn(_,e&&(at(e)?e[m]:e),r,i,n));return}if(Ze(i)&&!n)return;const s=i.shapeFlag&4?Dn(i.component)||i.component.proxy:i.el,a=n?null:s,{i:o,r:h}=t,u=e&&e.r,p=o.refs===wt?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==h&&(Pt(u)?(p[u]=null,Ct(d,u)&&(d[u]=null)):It(u)&&(u.value=null)),ut(h))Ee(h,o,12,[a,p]);else{const _=Pt(h),m=It(h);if(_||m){const f=()=>{if(t.f){const y=_?Ct(d,h)?d[h]:p[h]:h.value;n?at(y)&&Ns(y,s):at(y)?y.includes(s)||y.push(s):_?(p[h]=[s],Ct(d,h)&&(d[h]=p[h])):(h.value=[s],t.k&&(p[t.k]=h.value))}else _?(p[h]=a,Ct(d,h)&&(d[h]=a)):m&&(h.value=a,t.k&&(p[t.k]=a))};a?(f.id=-1,Gt(f,r)):f()}}}let Re=!1;const Yi=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",$i=t=>t.nodeType===8;function Td(t){const{mt:e,p:r,o:{patchProp:i,createText:n,nextSibling:s,parentNode:a,remove:o,insert:h,createComment:u}}=t,p=(x,c)=>{if(!c.hasChildNodes()){r(null,x,c),dn(),c._vnode=x;return}Re=!1,d(c.firstChild,x,null,null,null),dn(),c._vnode=x,Re&&console.error("Hydration completed but contains mismatches.")},d=(x,c,l,v,S,P=!1)=>{const O=$i(x)&&x.data==="[",w=()=>y(x,c,l,v,S,O),{type:k,ref:T,shapeFlag:R,patchFlag:N}=c;let g=x.nodeType;c.el=x,N===-2&&(P=!1,c.dynamicChildren=null);let b=null;switch(k){case ir:g!==3?c.children===""?(h(c.el=n(""),a(x),x),b=x):b=w():(x.data!==c.children&&(Re=!0,x.data=c.children),b=s(x));break;case Ut:g!==8||O?b=w():b=s(x);break;case tr:if(O&&(x=s(x),g=x.nodeType),g===1||g===3){b=x;const E=!c.children.length;for(let A=0;A<c.staticCount;A++)E&&(c.children+=b.nodeType===1?b.outerHTML:b.data),A===c.staticCount-1&&(c.anchor=b),b=s(b);return O?s(b):b}else w();break;case At:O?b=f(x,c,l,v,S,P):b=w();break;default:if(R&1)g!==1||c.type.toLowerCase()!==x.tagName.toLowerCase()?b=w():b=_(x,c,l,v,S,P);else if(R&6){c.slotScopeIds=S;const E=a(x);if(e(c,E,null,l,v,Yi(E),P),b=O?C(x):s(x),b&&$i(b)&&b.data==="teleport end"&&(b=s(b)),Ze(c)){let A;O?(A=St(At),A.anchor=b?b.previousSibling:E.lastChild):A=x.nodeType===3?Gn(""):St("div"),A.el=x,c.component.subTree=A}}else R&64?g!==8?b=w():b=c.type.hydrate(x,c,l,v,S,P,t,m):R&128&&(b=c.type.hydrate(x,c,l,v,Yi(a(x)),S,P,t,d))}return T!=null&&gn(T,null,v,c),b},_=(x,c,l,v,S,P)=>{P=P||!!c.dynamicChildren;const{type:O,props:w,patchFlag:k,shapeFlag:T,dirs:R}=c,N=O==="input"&&R||O==="option";if(N||k!==-1){if(R&&ge(c,null,l,"created"),w)if(N||!P||k&48)for(const b in w)(N&&b.endsWith("value")||Ii(b)&&!bi(b))&&i(x,b,null,w[b],!1,void 0,l);else w.onClick&&i(x,"onClick",null,w.onClick,!1,void 0,l);let g;if((g=w&&w.onVnodeBeforeMount)&&qt(g,l,c),R&&ge(c,null,l,"beforeMount"),((g=w&&w.onVnodeMounted)||R)&&Hl(()=>{g&&qt(g,l,c),R&&ge(c,null,l,"mounted")},v),T&16&&!(w&&(w.innerHTML||w.textContent))){let b=m(x.firstChild,c,x,l,v,S,P);for(;b;){Re=!0;const E=b;b=b.nextSibling,o(E)}}else T&8&&x.textContent!==c.children&&(Re=!0,x.textContent=c.children)}return x.nextSibling},m=(x,c,l,v,S,P,O)=>{O=O||!!c.dynamicChildren;const w=c.children,k=w.length;for(let T=0;T<k;T++){const R=O?w[T]:w[T]=Zt(w[T]);if(x)x=d(x,R,v,S,P,O);else{if(R.type===ir&&!R.children)continue;Re=!0,r(null,R,l,null,v,S,Yi(l),P)}}return x},f=(x,c,l,v,S,P)=>{const{slotScopeIds:O}=c;O&&(S=S?S.concat(O):O);const w=a(x),k=m(s(x),c,w,l,v,S,P);return k&&$i(k)&&k.data==="]"?s(c.anchor=k):(Re=!0,h(c.anchor=u("]"),w,k),k)},y=(x,c,l,v,S,P)=>{if(Re=!0,c.el=null,P){const k=C(x);for(;;){const T=s(x);if(T&&T!==k)o(T);else break}}const O=s(x),w=a(x);return o(x),r(null,c,w,O,l,v,Yi(w),S),O},C=x=>{let c=0;for(;x;)if(x=s(x),x&&$i(x)&&(x.data==="["&&c++,x.data==="]")){if(c===0)return s(x);c--}return x};return[p,d]}const Gt=Hl;function uh(t){return fh(t)}function dh(t){return fh(t,Td)}function fh(t,e){const r=jc();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:h,setText:u,setElementText:p,parentNode:d,nextSibling:_,setScopeId:m=de,insertStaticContent:f}=t,y=(F,D,V,H=null,q=null,j=null,J=!1,$=null,Q=!!D.dynamicChildren)=>{if(F===D)return;F&&!ue(F,D)&&(H=I(F),X(F,q,j,!0),F=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:W,ref:nt,shapeFlag:Z}=D;switch(W){case ir:C(F,D,V,H);break;case Ut:x(F,D,V,H);break;case tr:F==null&&c(D,V,H,J);break;case At:N(F,D,V,H,q,j,J,$,Q);break;default:Z&1?S(F,D,V,H,q,j,J,$,Q):Z&6?g(F,D,V,H,q,j,J,$,Q):(Z&64||Z&128)&&W.process(F,D,V,H,q,j,J,$,Q,Y)}nt!=null&&q&&gn(nt,F&&F.ref,j,D||F,!D)},C=(F,D,V,H)=>{if(F==null)i(D.el=o(D.children),V,H);else{const q=D.el=F.el;D.children!==F.children&&u(q,D.children)}},x=(F,D,V,H)=>{F==null?i(D.el=h(D.children||""),V,H):D.el=F.el},c=(F,D,V,H)=>{[F.el,F.anchor]=f(F.children,D,V,H,F.el,F.anchor)},l=({el:F,anchor:D},V,H)=>{let q;for(;F&&F!==D;)q=_(F),i(F,V,H),F=q;i(D,V,H)},v=({el:F,anchor:D})=>{let V;for(;F&&F!==D;)V=_(F),n(F),F=V;n(D)},S=(F,D,V,H,q,j,J,$,Q)=>{J=J||D.type==="svg",F==null?P(D,V,H,q,j,J,$,Q):k(F,D,q,j,J,$,Q)},P=(F,D,V,H,q,j,J,$)=>{let Q,W;const{type:nt,props:Z,shapeFlag:st,transition:lt,dirs:dt}=F;if(Q=F.el=a(F.type,j,Z&&Z.is,Z),st&8?p(Q,F.children):st&16&&w(F.children,Q,null,H,q,j&&nt!=="foreignObject",J,$),dt&&ge(F,null,H,"created"),O(Q,F,F.scopeId,J,H),Z){for(const pt in Z)pt!=="value"&&!bi(pt)&&s(Q,pt,null,Z[pt],j,F.children,H,q,it);"value"in Z&&s(Q,"value",null,Z.value),(W=Z.onVnodeBeforeMount)&&qt(W,H,F)}dt&&ge(F,null,H,"beforeMount");const bt=(!q||q&&!q.pendingBranch)&&lt&&!lt.persisted;bt&&lt.beforeEnter(Q),i(Q,D,V),((W=Z&&Z.onVnodeMounted)||bt||dt)&&Gt(()=>{W&&qt(W,H,F),bt&&lt.enter(Q),dt&&ge(F,null,H,"mounted")},q)},O=(F,D,V,H,q)=>{if(V&&m(F,V),H)for(let j=0;j<H.length;j++)m(F,H[j]);if(q){let j=q.subTree;if(D===j){const J=q.vnode;O(F,J,J.scopeId,J.slotScopeIds,q.parent)}}},w=(F,D,V,H,q,j,J,$,Q=0)=>{for(let W=Q;W<F.length;W++){const nt=F[W]=$?Fe(F[W]):Zt(F[W]);y(null,nt,D,V,H,q,j,J,$)}},k=(F,D,V,H,q,j,J)=>{const $=D.el=F.el;let{patchFlag:Q,dynamicChildren:W,dirs:nt}=D;Q|=F.patchFlag&16;const Z=F.props||wt,st=D.props||wt;let lt;V&&qe(V,!1),(lt=st.onVnodeBeforeUpdate)&&qt(lt,V,D,F),nt&&ge(D,F,V,"beforeUpdate"),V&&qe(V,!0);const dt=q&&D.type!=="foreignObject";if(W?T(F.dynamicChildren,W,$,V,H,dt,j):J||L(F,D,$,null,V,H,dt,j,!1),Q>0){if(Q&16)R($,D,Z,st,V,H,q);else if(Q&2&&Z.class!==st.class&&s($,"class",null,st.class,q),Q&4&&s($,"style",Z.style,st.style,q),Q&8){const bt=D.dynamicProps;for(let pt=0;pt<bt.length;pt++){const kt=bt[pt],$t=Z[kt],re=st[kt];(re!==$t||kt==="value")&&s($,kt,$t,re,q,F.children,V,H,it)}}Q&1&&F.children!==D.children&&p($,D.children)}else!J&&W==null&&R($,D,Z,st,V,H,q);((lt=st.onVnodeUpdated)||nt)&&Gt(()=>{lt&&qt(lt,V,D,F),nt&&ge(D,F,V,"updated")},H)},T=(F,D,V,H,q,j,J)=>{for(let $=0;$<D.length;$++){const Q=F[$],W=D[$],nt=Q.el&&(Q.type===At||!ue(Q,W)||Q.shapeFlag&70)?d(Q.el):V;y(Q,W,nt,null,H,q,j,J,!0)}},R=(F,D,V,H,q,j,J)=>{if(V!==H){if(V!==wt)for(const $ in V)!bi($)&&!($ in H)&&s(F,$,V[$],null,J,D.children,q,j,it);for(const $ in H){if(bi($))continue;const Q=H[$],W=V[$];Q!==W&&$!=="value"&&s(F,$,W,Q,J,D.children,q,j,it)}"value"in H&&s(F,"value",V.value,H.value)}},N=(F,D,V,H,q,j,J,$,Q)=>{const W=D.el=F?F.el:o(""),nt=D.anchor=F?F.anchor:o("");let{patchFlag:Z,dynamicChildren:st,slotScopeIds:lt}=D;lt&&($=$?$.concat(lt):lt),F==null?(i(W,V,H),i(nt,V,H),w(D.children,V,nt,q,j,J,$,Q)):Z>0&&Z&64&&st&&F.dynamicChildren?(T(F.dynamicChildren,st,V,q,j,J,$),(D.key!=null||q&&D===q.subTree)&&ia(F,D,!0)):L(F,D,V,nt,q,j,J,$,Q)},g=(F,D,V,H,q,j,J,$,Q)=>{D.slotScopeIds=$,F==null?D.shapeFlag&512?q.ctx.activate(D,V,H,J,Q):b(D,V,H,q,j,J,Q):E(F,D,Q)},b=(F,D,V,H,q,j,J)=>{const $=F.component=Ch(F,H,q);if(Bi(F)&&($.ctx.renderer=Y),wh($),$.asyncDep){if(q&&q.registerDep($,A),!F.el){const Q=$.subTree=St(Ut);x(null,Q,D,V)}return}A($,F,D,V,q,j,J)},E=(F,D,V)=>{const H=D.component=F.component;if(Ku(F,D,V))if(H.asyncDep&&!H.asyncResolved){M(H,D,V);return}else H.next=D,Du(H.update),H.update();else D.el=F.el,H.vnode=D},A=(F,D,V,H,q,j,J)=>{const $=()=>{if(F.isMounted){let{next:nt,bu:Z,u:st,parent:lt,vnode:dt}=F,bt=nt,pt;qe(F,!1),nt?(nt.el=dt.el,M(F,nt,J)):nt=dt,Z&&dr(Z),(pt=nt.props&&nt.props.onVnodeBeforeUpdate)&&qt(pt,lt,nt,dt),qe(F,!0);const kt=en(F),$t=F.subTree;F.subTree=kt,y($t,kt,d($t.el),I($t),F,q,j),nt.el=kt.el,bt===null&&Ys(F,kt.el),st&&Gt(st,q),(pt=nt.props&&nt.props.onVnodeUpdated)&&Gt(()=>qt(pt,lt,nt,dt),q)}else{let nt;const{el:Z,props:st}=D,{bm:lt,m:dt,parent:bt}=F,pt=Ze(D);if(qe(F,!1),lt&&dr(lt),!pt&&(nt=st&&st.onVnodeBeforeMount)&&qt(nt,bt,D),qe(F,!0),Z&&ot){const kt=()=>{F.subTree=en(F),ot(Z,F.subTree,F,q,null)};pt?D.type.__asyncLoader().then(()=>!F.isUnmounted&&kt()):kt()}else{const kt=F.subTree=en(F);y(null,kt,V,H,F,q,j),D.el=kt.el}if(dt&&Gt(dt,q),!pt&&(nt=st&&st.onVnodeMounted)){const kt=D;Gt(()=>qt(nt,bt,kt),q)}(D.shapeFlag&256||bt&&Ze(bt.vnode)&&bt.vnode.shapeFlag&256)&&F.a&&Gt(F.a,q),F.isMounted=!0,D=V=H=null}},Q=F.effect=new Gi($,()=>Tn(W),F.scope),W=F.update=()=>Q.run();W.id=F.uid,qe(F,!0),W()},M=(F,D,V)=>{D.component=F;const H=F.vnode.props;F.vnode=D,F.next=null,yd(F,D.props,H,V),Sd(F,D.children,V),Sr(),Pa(),wr()},L=(F,D,V,H,q,j,J,$,Q=!1)=>{const W=F&&F.children,nt=F?F.shapeFlag:0,Z=D.children,{patchFlag:st,shapeFlag:lt}=D;if(st>0){if(st&128){B(W,Z,V,H,q,j,J,$,Q);return}else if(st&256){G(W,Z,V,H,q,j,J,$,Q);return}}lt&8?(nt&16&&it(W,q,j),Z!==W&&p(V,Z)):nt&16?lt&16?B(W,Z,V,H,q,j,J,$,Q):it(W,q,j,!0):(nt&8&&p(V,""),lt&16&&w(Z,V,H,q,j,J,$,Q))},G=(F,D,V,H,q,j,J,$,Q)=>{F=F||cr,D=D||cr;const W=F.length,nt=D.length,Z=Math.min(W,nt);let st;for(st=0;st<Z;st++){const lt=D[st]=Q?Fe(D[st]):Zt(D[st]);y(F[st],lt,V,null,q,j,J,$,Q)}W>nt?it(F,q,j,!0,!1,Z):w(D,V,H,q,j,J,$,Q,Z)},B=(F,D,V,H,q,j,J,$,Q)=>{let W=0;const nt=D.length;let Z=F.length-1,st=nt-1;for(;W<=Z&&W<=st;){const lt=F[W],dt=D[W]=Q?Fe(D[W]):Zt(D[W]);if(ue(lt,dt))y(lt,dt,V,null,q,j,J,$,Q);else break;W++}for(;W<=Z&&W<=st;){const lt=F[Z],dt=D[st]=Q?Fe(D[st]):Zt(D[st]);if(ue(lt,dt))y(lt,dt,V,null,q,j,J,$,Q);else break;Z--,st--}if(W>Z){if(W<=st){const lt=st+1,dt=lt<nt?D[lt].el:H;for(;W<=st;)y(null,D[W]=Q?Fe(D[W]):Zt(D[W]),V,dt,q,j,J,$,Q),W++}}else if(W>st)for(;W<=Z;)X(F[W],q,j,!0),W++;else{const lt=W,dt=W,bt=new Map;for(W=dt;W<=st;W++){const Xt=D[W]=Q?Fe(D[W]):Zt(D[W]);Xt.key!=null&&bt.set(Xt.key,W)}let pt,kt=0;const $t=st-dt+1;let re=!1,pa=0;const Er=new Array($t);for(W=0;W<$t;W++)Er[W]=0;for(W=lt;W<=Z;W++){const Xt=F[W];if(kt>=$t){X(Xt,q,j,!0);continue}let fe;if(Xt.key!=null)fe=bt.get(Xt.key);else for(pt=dt;pt<=st;pt++)if(Er[pt-dt]===0&&ue(Xt,D[pt])){fe=pt;break}fe===void 0?X(Xt,q,j,!0):(Er[fe-dt]=W+1,fe>=pa?pa=fe:re=!0,y(Xt,D[fe],V,null,q,j,J,$,Q),kt++)}const ma=re?Ed(Er):cr;for(pt=ma.length-1,W=$t-1;W>=0;W--){const Xt=dt+W,fe=D[Xt],_a=Xt+1<nt?D[Xt+1].el:H;Er[W]===0?y(null,fe,V,_a,q,j,J,$,Q):re&&(pt<0||W!==ma[pt]?K(fe,V,_a,2):pt--)}}},K=(F,D,V,H,q=null)=>{const{el:j,type:J,transition:$,children:Q,shapeFlag:W}=F;if(W&6){K(F.component.subTree,D,V,H);return}if(W&128){F.suspense.move(D,V,H);return}if(W&64){J.move(F,D,V,Y);return}if(J===At){i(j,D,V);for(let Z=0;Z<Q.length;Z++)K(Q[Z],D,V,H);i(F.anchor,D,V);return}if(J===tr){l(F,D,V);return}if(H!==2&&W&1&&$)if(H===0)$.beforeEnter(j),i(j,D,V),Gt(()=>$.enter(j),q);else{const{leave:Z,delayLeave:st,afterLeave:lt}=$,dt=()=>i(j,D,V),bt=()=>{Z(j,()=>{dt(),lt&&lt()})};st?st(j,dt,bt):bt()}else i(j,D,V)},X=(F,D,V,H=!1,q=!1)=>{const{type:j,props:J,ref:$,children:Q,dynamicChildren:W,shapeFlag:nt,patchFlag:Z,dirs:st}=F;if($!=null&&gn($,null,V,F,!0),nt&256){D.ctx.deactivate(F);return}const lt=nt&1&&st,dt=!Ze(F);let bt;if(dt&&(bt=J&&J.onVnodeBeforeUnmount)&&qt(bt,D,F),nt&6)rt(F.component,V,H);else{if(nt&128){F.suspense.unmount(V,H);return}lt&&ge(F,null,D,"beforeUnmount"),nt&64?F.type.remove(F,D,V,q,Y,H):W&&(j!==At||Z>0&&Z&64)?it(W,D,V,!1,!0):(j===At&&Z&384||!q&&nt&16)&&it(Q,D,V),H&&z(F)}(dt&&(bt=J&&J.onVnodeUnmounted)||lt)&&Gt(()=>{bt&&qt(bt,D,F),lt&&ge(F,null,D,"unmounted")},V)},z=F=>{const{type:D,el:V,anchor:H,transition:q}=F;if(D===At){et(V,H);return}if(D===tr){v(F);return}const j=()=>{n(V),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(F.shapeFlag&1&&q&&!q.persisted){const{leave:J,delayLeave:$}=q,Q=()=>J(V,j);$?$(F.el,j,Q):Q()}else j()},et=(F,D)=>{let V;for(;F!==D;)V=_(F),n(F),F=V;n(D)},rt=(F,D,V)=>{const{bum:H,scope:q,update:j,subTree:J,um:$}=F;H&&dr(H),q.stop(),j&&(j.active=!1,X(J,F,D,V)),$&&Gt($,D),Gt(()=>{F.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},it=(F,D,V,H=!1,q=!1,j=0)=>{for(let J=j;J<F.length;J++)X(F[J],D,V,H,q)},I=F=>F.shapeFlag&6?I(F.component.subTree):F.shapeFlag&128?F.suspense.next():_(F.anchor||F.el),U=(F,D,V)=>{F==null?D._vnode&&X(D._vnode,null,null,!0):y(D._vnode||null,F,D,null,null,null,V),Pa(),dn(),D._vnode=F},Y={p:y,um:X,m:K,r:z,mt:b,mc:w,pc:L,pbc:T,n:I,o:t};let ht,ot;return e&&([ht,ot]=e(Y)),{render:U,hydrate:ht,createApp:xd(U,ht)}}function qe({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function ia(t,e,r=!1){const i=t.children,n=e.children;if(at(i)&&at(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=Fe(n[s]),o.el=a.el),r||ia(a,o)),o.type===ir&&(o.el=a.el)}}function Ed(t){const e=t.slice(),r=[0];let i,n,s,a,o;const h=t.length;for(i=0;i<h;i++){const u=t[i];if(u!==0){if(n=r[r.length-1],t[n]<u){e[i]=n,r.push(i);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,t[r[o]]<u?s=o+1:a=o;u<t[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const Pd=t=>t.__isTeleport,Ti=t=>t&&(t.disabled||t.disabled===""),Da=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ps=(t,e)=>{const r=t&&t.to;return Pt(r)?e?e(r):null:r},kd={__isTeleport:!0,process(t,e,r,i,n,s,a,o,h,u){const{mc:p,pc:d,pbc:_,o:{insert:m,querySelector:f,createText:y,createComment:C}}=u,x=Ti(e.props);let{shapeFlag:c,children:l,dynamicChildren:v}=e;if(t==null){const S=e.el=y(""),P=e.anchor=y("");m(S,r,i),m(P,r,i);const O=e.target=ps(e.props,f),w=e.targetAnchor=y("");O&&(m(w,O),a=a||Da(O));const k=(T,R)=>{c&16&&p(l,T,R,n,s,a,o,h)};x?k(r,P):O&&k(O,w)}else{e.el=t.el;const S=e.anchor=t.anchor,P=e.target=t.target,O=e.targetAnchor=t.targetAnchor,w=Ti(t.props),k=w?r:P,T=w?S:O;if(a=a||Da(P),v?(_(t.dynamicChildren,v,k,n,s,a,o),ia(t,e,!0)):h||d(t,e,k,T,n,s,a,o,!1),x)w||Xi(e,r,S,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=ps(e.props,f);R&&Xi(e,R,null,u,0)}else w&&Xi(e,P,O,u,1)}gh(e)},remove(t,e,r,i,{um:n,o:{remove:s}},a){const{shapeFlag:o,children:h,anchor:u,targetAnchor:p,target:d,props:_}=t;if(d&&s(p),(a||!Ti(_))&&(s(u),o&16))for(let m=0;m<h.length;m++){const f=h[m];n(f,e,r,!0,!!f.dynamicChildren)}},move:Xi,hydrate:Ad};function Xi(t,e,r,{o:{insert:i},m:n},s=2){s===0&&i(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:h,children:u,props:p}=t,d=s===2;if(d&&i(a,e,r),(!d||Ti(p))&&h&16)for(let _=0;_<u.length;_++)n(u[_],e,r,2);d&&i(o,e,r)}function Ad(t,e,r,i,n,s,{o:{nextSibling:a,parentNode:o,querySelector:h}},u){const p=e.target=ps(e.props,h);if(p){const d=p._lpa||p.firstChild;if(e.shapeFlag&16)if(Ti(e.props))e.anchor=u(a(t),e,o(t),r,i,n,s),e.targetAnchor=d;else{e.anchor=a(t);let _=d;for(;_;)if(_=a(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,p._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(d,e,p,r,i,n,s)}gh(e)}return e.anchor&&a(e.anchor)}const Rd=kd;function gh(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const At=Symbol(void 0),ir=Symbol(void 0),Ut=Symbol(void 0),tr=Symbol(void 0),Ei=[];let Kt=null;function ct(t=!1){Ei.push(Kt=t?null:[])}function ph(){Ei.pop(),Kt=Ei[Ei.length-1]||null}let nr=1;function ms(t){nr+=t}function mh(t){return t.dynamicChildren=nr>0?Kt||cr:null,ph(),nr>0&&Kt&&Kt.push(t),t}function ft(t,e,r,i,n,s){return mh(tt(t,e,r,i,n,s,!0))}function ce(t,e,r,i,n){return mh(St(t,e,r,i,n,!0))}function De(t){return t?t.__v_isVNode===!0:!1}function ue(t,e){return t.type===e.type&&t.key===e.key}function Od(t){}const Ln="__vInternal",_h=({key:t})=>t??null,rn=({ref:t,ref_key:e,ref_for:r})=>t!=null?Pt(t)||It(t)||ut(t)?{i:Dt,r:t,k:e,f:!!r}:t:null;function tt(t,e=null,r=null,i=0,n=null,s=t===At?0:1,a=!1,o=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_h(e),ref:e&&rn(e),scopeId:Pn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Dt};return o?(na(h,r),s&128&&t.normalize(h)):r&&(h.shapeFlag|=Pt(r)?8:16),nr>0&&!a&&Kt&&(h.patchFlag>0||s&6)&&h.patchFlag!==32&&Kt.push(h),h}const St=Nd;function Nd(t,e=null,r=null,i=0,n=null,s=!1){if((!t||t===rh)&&(t=Ut),De(t)){const o=ve(t,e,!0);return r&&na(o,r),nr>0&&!s&&Kt&&(o.shapeFlag&6?Kt[Kt.indexOf(t)]=o:Kt.push(o)),o.patchFlag|=-2,o}if(Bd(t)&&(t=t.__vccOpts),e){e=vh(e);let{class:o,style:h}=e;o&&!Pt(o)&&(e.class=br(o)),xt(h)&&(Bs(h)&&!at(h)&&(h=Ot({},h)),e.style=yr(h))}const a=Pt(t)?1:Vl(t)?128:Pd(t)?64:xt(t)?4:ut(t)?2:0;return tt(t,e,r,i,n,a,s,!0)}function vh(t){return t?Bs(t)||Ln in t?Ot({},t):t:null}function ve(t,e,r=!1){const{props:i,ref:n,patchFlag:s,children:a}=t,o=e?bh(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&_h(o),ref:e&&e.ref?r&&n?at(n)?n.concat(rn(e)):[n,rn(e)]:rn(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==At?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ve(t.ssContent),ssFallback:t.ssFallback&&ve(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Gn(t=" ",e=0){return St(ir,null,t,e)}function yh(t,e){const r=St(tr,null,t);return r.staticCount=e,r}function Tt(t="",e=!1){return e?(ct(),ce(Ut,null,t)):St(Ut,null,t)}function Zt(t){return t==null||typeof t=="boolean"?St(Ut):at(t)?St(At,null,t.slice()):typeof t=="object"?Fe(t):St(ir,null,String(t))}function Fe(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ve(t)}function na(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(at(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),na(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!(Ln in e)?e._ctx=Dt:n===3&&Dt&&(Dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:Dt},r=32):(e=String(e),i&64?(r=16,e=[Gn(e)]):r=8);t.children=e,t.shapeFlag|=r}function bh(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=br([e.class,i.class]));else if(n==="style")e.style=yr([e.style,i.style]);else if(Ii(n)){const s=e[n],a=i[n];a&&s!==a&&!(at(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=i[n])}return e}function qt(t,e,r,i=null){ee(t,e,7,[r,i])}const Fd=ch();let Md=0;function Ch(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||Fd,s={uid:Md++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Is(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ah(i,n),emitsOptions:Ul(i,n),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Uu.bind(null,s),t.ce&&t.ce(s),s}let Rt=null;const He=()=>Rt||Dt,Be=t=>{Rt=t,t.scope.on()},Ie=()=>{Rt&&Rt.scope.off(),Rt=null};function Sh(t){return t.vnode.shapeFlag&4}let _r=!1;function wh(t,e=!1){_r=e;const{props:r,children:i}=t.vnode,n=Sh(t);vd(t,r,n,e),Cd(t,i);const s=n?Id(t,e):void 0;return _r=!1,s}function Id(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Us(new Proxy(t.ctx,us));const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?Th(t):null;Be(t),Sr();const s=Ee(i,t,0,[t.props,n]);if(wr(),Ie(),Fs(s)){if(s.then(Ie,Ie),e)return s.then(a=>{_s(t,a,e)}).catch(a=>{ar(a,t,0)});t.asyncDep=s}else _s(t,s,e)}else xh(t,e)}function _s(t,e,r){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:xt(e)&&(t.setupState=qs(e)),xh(t,r)}let pn,vs;function Ld(t){pn=t,vs=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,dd))}}const Gd=()=>!pn;function xh(t,e,r){const i=t.type;if(!t.render){if(!e&&pn&&!i.render){const n=i.template||ea(t).template;if(n){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:h}=i,u=Ot(Ot({isCustomElement:s,delimiters:o},a),h);i.render=pn(n,u)}}t.render=i.render||de,vs&&vs(t)}Be(t),Sr(),fd(t),wr(),Ie()}function Dd(t){return new Proxy(t.attrs,{get(e,r){return zt(t,"get","$attrs"),e[r]}})}function Th(t){const e=i=>{t.exposed=i||{}};let r;return{get attrs(){return r||(r=Dd(t))},slots:t.slots,emit:t.emit,expose:e}}function Dn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(qs(Us(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in xi)return xi[r](t)},has(e,r){return r in e||r in xi}}))}function ys(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function Bd(t){return ut(t)&&"__vccOpts"in t}const Eh=(t,e)=>Fu(t,e,_r);function Ud(){return null}function Vd(){return null}function Hd(t){}function qd(t,e){return null}function jd(){return Ph().slots}function Kd(){return Ph().attrs}function Ph(){const t=He();return t.setupContext||(t.setupContext=Th(t))}function Wd(t,e){const r=at(t)?t.reduce((i,n)=>(i[n]={},i),{}):t;for(const i in e){const n=r[i];n?at(n)||ut(n)?r[i]={type:n,default:e[i]}:n.default=e[i]:n===null&&(r[i]={default:e[i]})}return r}function zd(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function Yd(t){const e=He();let r=t();return Ie(),Fs(r)&&(r=r.catch(i=>{throw Be(e),i})),[r,()=>Be(e)]}function kh(t,e,r){const i=arguments.length;return i===2?xt(e)&&!at(e)?De(e)?St(t,null,[e]):St(t,e):St(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&De(r)&&(r=[r]),St(t,e,r))}const Ah=Symbol(""),Rh=()=>Si(Ah);function $d(){}function Xd(t,e,r,i){const n=r[i];if(n&&Oh(n,t))return n;const s=e();return s.memo=t.slice(),r[i]=s}function Oh(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(pr(r[i],e[i]))return!1;return nr>0&&Kt&&Kt.push(t),!0}const Nh="3.2.47",Jd={createComponentInstance:Ch,setupComponent:wh,renderComponentRoot:en,setCurrentRenderingInstance:Fi,isVNode:De,normalizeVNode:Zt},Qd=Jd,Zd=null,tf=null,ef="http://www.w3.org/2000/svg",$e=typeof document<"u"?document:null,Ba=$e&&$e.createElement("template"),rf={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e?$e.createElementNS(ef,t):$e.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>$e.createTextNode(t),createComment:t=>$e.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$e.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,s){const a=r?r.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{Ba.innerHTML=i?`<svg>${t}</svg>`:t;const o=Ba.content;if(i){const h=o.firstChild;for(;h.firstChild;)o.appendChild(h.firstChild);o.removeChild(h)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function nf(t,e,r){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function sf(t,e,r){const i=t.style,n=Pt(r);if(r&&!n){if(e&&!Pt(e))for(const s in e)r[s]==null&&bs(i,s,"");for(const s in r)bs(i,s,r[s])}else{const s=i.display;n?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=s)}}const Ua=/\s*!important$/;function bs(t,e,r){if(at(r))r.forEach(i=>bs(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=af(t,e);Ua.test(r)?t.setProperty(se(i),r.replace(Ua,""),"important"):t[i]=r}}const Va=["Webkit","Moz","ms"],Yn={};function af(t,e){const r=Yn[e];if(r)return r;let i=Wt(e);if(i!=="filter"&&i in t)return Yn[e]=i;i=Li(i);for(let n=0;n<Va.length;n++){const s=Va[n]+i;if(s in t)return Yn[e]=s}return e}const Ha="http://www.w3.org/1999/xlink";function of(t,e,r,i,n){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Ha,e.slice(6,e.length)):t.setAttributeNS(Ha,e,r);else{const s=Ic(e);r==null||s&&!fl(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function lf(t,e,r,i,n,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,n,s),t[e]=r??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const h=r??"";(t.value!==h||t.tagName==="OPTION")&&(t.value=h),r==null&&t.removeAttribute(e);return}let o=!1;if(r===""||r==null){const h=typeof t[e];h==="boolean"?r=fl(r):r==null&&h==="string"?(r="",o=!0):h==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(e)}function Te(t,e,r,i){t.addEventListener(e,r,i)}function hf(t,e,r,i){t.removeEventListener(e,r,i)}function cf(t,e,r,i,n=null){const s=t._vei||(t._vei={}),a=s[e];if(i&&a)a.value=i;else{const[o,h]=uf(e);if(i){const u=s[e]=gf(i,n);Te(t,o,u,h)}else a&&(hf(t,o,a,h),s[e]=void 0)}}const qa=/(?:Once|Passive|Capture)$/;function uf(t){let e;if(qa.test(t)){e={};let i;for(;i=t.match(qa);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):se(t.slice(2)),e]}let $n=0;const df=Promise.resolve(),ff=()=>$n||(df.then(()=>$n=0),$n=Date.now());function gf(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;ee(pf(i,r.value),e,5,[i])};return r.value=t,r.attached=ff(),r}function pf(t,e){if(at(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const ja=/^on[a-z]/,mf=(t,e,r,i,n=!1,s,a,o,h)=>{e==="class"?nf(t,i,n):e==="style"?sf(t,r,i):Ii(e)?Os(e)||cf(t,e,r,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_f(t,e,i,n))?lf(t,e,i,s,a,o,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),of(t,e,i,n))};function _f(t,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&ja.test(e)&&ut(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ja.test(e)&&Pt(r)?!1:e in t}function Fh(t,e){const r=Qs(t);class i extends Bn{constructor(s){super(r,s,e)}}return i.def=r,i}const vf=t=>Fh(t,Xh),yf=typeof HTMLElement<"u"?HTMLElement:class{};class Bn extends yf{constructor(e,r={},i){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ks(()=>{this._connected||(ws(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const n of i)this._setAttr(n.attributeName)}).observe(this,{attributes:!0});const e=(i,n=!1)=>{const{props:s,styles:a}=i;let o;if(s&&!at(s))for(const h in s){const u=s[h];(u===Number||u&&u.type===Number)&&(h in this._props&&(this._props[h]=cn(this._props[h])),(o||(o=Object.create(null)))[Wt(h)]=!0)}this._numberProps=o,n&&this._resolveProps(i),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,i=at(r)?r:Object.keys(r||{});for(const n of Object.keys(this))n[0]!=="_"&&i.includes(n)&&this._setProp(n,this[n],!0,!1);for(const n of i.map(Wt))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s)}})}_setAttr(e){let r=this.getAttribute(e);const i=Wt(e);this._numberProps&&this._numberProps[i]&&(r=cn(r)),this._setProp(i,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,n=!0){r!==this._props[e]&&(this._props[e]=r,n&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(se(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(se(e),r+""):r||this.removeAttribute(se(e))))}_update(){ws(this._createVNode(),this.shadowRoot)}_createVNode(){const e=St(this._def,Ot({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};r.emit=(s,...a)=>{i(s,a),se(s)!==s&&i(se(s),a)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof Bn){r.parent=n._instance,r.provides=n._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const i=document.createElement("style");i.textContent=r,this.shadowRoot.appendChild(i)})}}function bf(t="$style"){{const e=He();if(!e)return wt;const r=e.type.__cssModules;if(!r)return wt;const i=r[t];return i||wt}}function Cf(t){const e=He();if(!e)return;const r=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Ss(s,n))},i=()=>{const n=t(e.proxy);Cs(e.subTree,n),r(n)};jl(i),Ui(()=>{const n=new MutationObserver(i);n.observe(e.subTree.el.parentNode,{childList:!0}),Mn(()=>n.disconnect())})}function Cs(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Cs(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ss(t.el,e);else if(t.type===At)t.children.forEach(r=>Cs(r,e));else if(t.type===tr){let{el:r,anchor:i}=t;for(;r&&(Ss(r,e),r!==i);)r=r.nextSibling}}function Ss(t,e){if(t.nodeType===1){const r=t.style;for(const i in e)r.setProperty(`--${i}`,e[i])}}const Oe="transition",Pr="animation",sa=(t,{slots:e})=>kh(Js,Ih(t),e);sa.displayName="Transition";const Mh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Sf=sa.props=Ot({},Js.props,Mh),je=(t,e=[])=>{at(t)?t.forEach(r=>r(...e)):t&&t(...e)},Ka=t=>t?at(t)?t.some(e=>e.length>1):t.length>1:!1;function Ih(t){const e={};for(const N in t)N in Mh||(e[N]=t[N]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:h=s,appearActiveClass:u=a,appearToClass:p=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:m=`${r}-leave-to`}=t,f=wf(n),y=f&&f[0],C=f&&f[1],{onBeforeEnter:x,onEnter:c,onEnterCancelled:l,onLeave:v,onLeaveCancelled:S,onBeforeAppear:P=x,onAppear:O=c,onAppearCancelled:w=l}=e,k=(N,g,b)=>{Ne(N,g?p:o),Ne(N,g?u:a),b&&b()},T=(N,g)=>{N._isLeaving=!1,Ne(N,d),Ne(N,m),Ne(N,_),g&&g()},R=N=>(g,b)=>{const E=N?O:c,A=()=>k(g,N,b);je(E,[g,A]),Wa(()=>{Ne(g,N?h:s),Se(g,N?p:o),Ka(E)||za(g,i,y,A)})};return Ot(e,{onBeforeEnter(N){je(x,[N]),Se(N,s),Se(N,a)},onBeforeAppear(N){je(P,[N]),Se(N,h),Se(N,u)},onEnter:R(!1),onAppear:R(!0),onLeave(N,g){N._isLeaving=!0;const b=()=>T(N,g);Se(N,d),Gh(),Se(N,_),Wa(()=>{N._isLeaving&&(Ne(N,d),Se(N,m),Ka(v)||za(N,i,C,b))}),je(v,[N,b])},onEnterCancelled(N){k(N,!1),je(l,[N])},onAppearCancelled(N){k(N,!0),je(w,[N])},onLeaveCancelled(N){T(N),je(S,[N])}})}function wf(t){if(t==null)return null;if(xt(t))return[Xn(t.enter),Xn(t.leave)];{const e=Xn(t);return[e,e]}}function Xn(t){return cn(t)}function Se(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function Ne(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function Wa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xf=0;function za(t,e,r,i){const n=t._endId=++xf,s=()=>{n===t._endId&&i()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:h}=Lh(t,e);if(!a)return i();const u=a+"end";let p=0;const d=()=>{t.removeEventListener(u,_),s()},_=m=>{m.target===t&&++p>=h&&d()};setTimeout(()=>{p<h&&d()},o+1),t.addEventListener(u,_)}function Lh(t,e){const r=window.getComputedStyle(t),i=f=>(r[f]||"").split(", "),n=i(`${Oe}Delay`),s=i(`${Oe}Duration`),a=Ya(n,s),o=i(`${Pr}Delay`),h=i(`${Pr}Duration`),u=Ya(o,h);let p=null,d=0,_=0;e===Oe?a>0&&(p=Oe,d=a,_=s.length):e===Pr?u>0&&(p=Pr,d=u,_=h.length):(d=Math.max(a,u),p=d>0?a>u?Oe:Pr:null,_=p?p===Oe?s.length:h.length:0);const m=p===Oe&&/\b(transform|all)(,|$)/.test(i(`${Oe}Property`).toString());return{type:p,timeout:d,propCount:_,hasTransform:m}}function Ya(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>$a(r)+$a(t[i])))}function $a(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Gh(){return document.body.offsetHeight}const Dh=new WeakMap,Bh=new WeakMap,Uh={name:"TransitionGroup",props:Ot({},Sf,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=He(),i=Xs();let n,s;return Nn(()=>{if(!n.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Rf(n[0].el,r.vnode.el,a))return;n.forEach(Pf),n.forEach(kf);const o=n.filter(Af);Gh(),o.forEach(h=>{const u=h.el,p=u.style;Se(u,a),p.transform=p.webkitTransform=p.transitionDuration="";const d=u._moveCb=_=>{_&&_.target!==u||(!_||/transform$/.test(_.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,Ne(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=yt(t),o=Ih(a);let h=a.tag||At;n=s,s=e.default?Rn(e.default()):[];for(let u=0;u<s.length;u++){const p=s[u];p.key!=null&&rr(p,mr(p,o,i,r))}if(n)for(let u=0;u<n.length;u++){const p=n[u];rr(p,mr(p,o,i,r)),Dh.set(p,p.el.getBoundingClientRect())}return St(h,null,s)}}},Tf=t=>delete t.mode;Uh.props;const Ef=Uh;function Pf(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function kf(t){Bh.set(t,t.el.getBoundingClientRect())}function Af(t){const e=Dh.get(t),r=Bh.get(t),i=e.left-r.left,n=e.top-r.top;if(i||n){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",t}}function Rf(t,e,r){const i=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=e.nodeType===1?e:e.parentNode;n.appendChild(i);const{hasTransform:s}=Lh(i);return n.removeChild(i),s}const Ue=t=>{const e=t.props["onUpdate:modelValue"]||!1;return at(e)?r=>dr(e,r):e};function Of(t){t.target.composing=!0}function Xa(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ve={created(t,{modifiers:{lazy:e,trim:r,number:i}},n){t._assign=Ue(n);const s=i||n.props&&n.props.type==="number";Te(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),s&&(o=hn(o)),t._assign(o)}),r&&Te(t,"change",()=>{t.value=t.value.trim()}),e||(Te(t,"compositionstart",Of),Te(t,"compositionend",Xa),Te(t,"change",Xa))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:i,number:n}},s){if(t._assign=Ue(s),t.composing||document.activeElement===t&&t.type!=="range"&&(r||i&&t.value.trim()===e||(n||t.type==="number")&&hn(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},aa={deep:!0,created(t,e,r){t._assign=Ue(r),Te(t,"change",()=>{const i=t._modelValue,n=vr(t),s=t.checked,a=t._assign;if(at(i)){const o=vn(i,n),h=o!==-1;if(s&&!h)a(i.concat(n));else if(!s&&h){const u=[...i];u.splice(o,1),a(u)}}else if(sr(i)){const o=new Set(i);s?o.add(n):o.delete(n),a(o)}else a(Hh(t,s))})},mounted:Ja,beforeUpdate(t,e,r){t._assign=Ue(r),Ja(t,e,r)}};function Ja(t,{value:e,oldValue:r},i){t._modelValue=e,at(e)?t.checked=vn(e,i.props.value)>-1:sr(e)?t.checked=e.has(i.props.value):e!==r&&(t.checked=Le(e,Hh(t,!0)))}const xe={created(t,{value:e},r){t.checked=Le(e,r.props.value),t._assign=Ue(r),Te(t,"change",()=>{t._assign(vr(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t._assign=Ue(i),e!==r&&(t.checked=Le(e,i.props.value))}},Vh={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const n=sr(e);Te(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?hn(vr(a)):vr(a));t._assign(t.multiple?n?new Set(s):s:s[0])}),t._assign=Ue(i)},mounted(t,{value:e}){Qa(t,e)},beforeUpdate(t,e,r){t._assign=Ue(r)},updated(t,{value:e}){Qa(t,e)}};function Qa(t,e){const r=t.multiple;if(!(r&&!at(e)&&!sr(e))){for(let i=0,n=t.options.length;i<n;i++){const s=t.options[i],a=vr(s);if(r)at(e)?s.selected=vn(e,a)>-1:s.selected=e.has(a);else if(Le(vr(s),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function vr(t){return"_value"in t?t._value:t.value}function Hh(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const qh={created(t,e,r){Ji(t,e,r,null,"created")},mounted(t,e,r){Ji(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){Ji(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){Ji(t,e,r,i,"updated")}};function jh(t,e){switch(t){case"SELECT":return Vh;case"TEXTAREA":return Ve;default:switch(e){case"checkbox":return aa;case"radio":return xe;default:return Ve}}}function Ji(t,e,r,i,n){const a=jh(t.tagName,r.props&&r.props.type)[n];a&&a(t,e,r,i)}function Nf(){Ve.getSSRProps=({value:t})=>({value:t}),xe.getSSRProps=({value:t},e)=>{if(e.props&&Le(e.props.value,t))return{checked:!0}},aa.getSSRProps=({value:t},e)=>{if(at(t)){if(e.props&&vn(t,e.props.value)>-1)return{checked:!0}}else if(sr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},qh.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=jh(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const Ff=["ctrl","shift","alt","meta"],Mf={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ff.some(r=>t[`${r}Key`]&&!e.includes(r))},If=(t,e)=>(r,...i)=>{for(let n=0;n<e.length;n++){const s=Mf[e[n]];if(s&&s(r,e))return}return t(r,...i)},Lf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kh=(t,e)=>r=>{if(!("key"in r))return;const i=se(r.key);if(e.some(n=>n===i||Lf[n]===i))return t(r)},Wh={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):kr(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),kr(t,!0),i.enter(t)):i.leave(t,()=>{kr(t,!1)}):kr(t,e))},beforeUnmount(t,{value:e}){kr(t,e)}};function kr(t,e){t.style.display=e?t._vod:"none"}function Gf(){Wh.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const zh=Ot({patchProp:mf},rf);let Pi,Za=!1;function Yh(){return Pi||(Pi=uh(zh))}function $h(){return Pi=Za?Pi:dh(zh),Za=!0,Pi}const ws=(...t)=>{Yh().render(...t)},Xh=(...t)=>{$h().hydrate(...t)},Jh=(...t)=>{const e=Yh().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=Qh(i);if(!n)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.innerHTML="";const a=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e},Df=(...t)=>{const e=$h().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=Qh(i);if(n)return r(n,!0,n instanceof SVGElement)},e};function Qh(t){return Pt(t)?document.querySelector(t):t}let to=!1;const Bf=()=>{to||(to=!0,Nf(),Gf())},Uf=()=>{},Vf=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Js,Comment:Ut,EffectScope:Is,Fragment:At,KeepAlive:nd,ReactiveEffect:Gi,Static:tr,Suspense:zu,Teleport:Rd,Text:ir,Transition:sa,TransitionGroup:Ef,VueElement:Bn,assertNumber:Iu,callWithAsyncErrorHandling:ee,callWithErrorHandling:Ee,camelize:Wt,capitalize:Li,cloneVNode:ve,compatUtils:tf,compile:Uf,computed:Eh,createApp:Jh,createBlock:ce,createCommentVNode:Tt,createElementBlock:ft,createElementVNode:tt,createHydrationRenderer:dh,createPropsRestProxy:zd,createRenderer:uh,createSSRApp:Df,createSlots:hd,createStaticVNode:yh,createTextVNode:Gn,createVNode:St,customRef:Au,defineAsyncComponent:rd,defineComponent:Qs,defineCustomElement:Fh,defineEmits:Vd,defineExpose:Hd,defineProps:Ud,defineSSRCustomElement:vf,get devtools(){return or},effect:$c,effectScope:Kc,getCurrentInstance:He,getCurrentScope:vl,getTransitionRawChildren:Rn,guardReactiveProps:vh,h:kh,handleError:ar,hydrate:Xh,initCustomFormatter:$d,initDirectivesForSSR:Bf,inject:Si,isMemoSame:Oh,isProxy:Bs,isReactive:Qe,isReadonly:er,isRef:It,isRuntimeOnly:Gd,isShallow:Ai,isVNode:De,markRaw:Us,mergeDefaults:Wd,mergeProps:bh,nextTick:Ks,normalizeClass:br,normalizeProps:Fc,normalizeStyle:yr,onActivated:zl,onBeforeMount:Xl,onBeforeUnmount:Fn,onBeforeUpdate:Jl,onDeactivated:Yl,onErrorCaptured:eh,onMounted:Ui,onRenderTracked:th,onRenderTriggered:Zl,onScopeDispose:Wc,onServerPrefetch:Ql,onUnmounted:Mn,onUpdated:Nn,openBlock:ct,popScopeId:An,provide:ql,proxyRefs:qs,pushScopeId:kn,queuePostFlushCb:Ws,reactive:xr,readonly:Ds,ref:tn,registerRuntimeCompiler:Ld,render:ws,renderList:In,renderSlot:cd,resolveComponent:jt,resolveDirective:ld,resolveDynamicComponent:od,resolveFilter:Zd,resolveTransitionHooks:mr,setBlockTracking:ms,setDevtoolsHook:Bl,setTransitionHooks:rr,shallowReactive:Ol,shallowReadonly:wu,shallowRef:xu,ssrContextKey:Ah,ssrUtils:Qd,stop:Xc,toDisplayString:te,toHandlerKey:Ci,toHandlers:ud,toRaw:yt,toRef:Ml,toRefs:Ru,transformVNodeArgs:Od,triggerRef:Eu,unref:Fl,useAttrs:Kd,useCssModule:bf,useCssVars:Cf,useSSRContext:Rh,useSlots:jd,useTransitionState:Xs,vModelCheckbox:aa,vModelDynamic:qh,vModelRadio:xe,vModelSelect:Vh,vModelText:Ve,vShow:Wh,version:Nh,warn:Mu,watch:wi,watchEffect:Qu,watchPostEffect:jl,watchSyncEffect:Zu,withAsyncContext:Yd,withCtx:zs,withDefaults:qd,withDirectives:oe,withKeys:Kh,withMemo:Xd,withModifiers:If,withScopeId:Vu},Symbol.toStringTag,{value:"Module"}));const ye=Object.create(null);ye.open="0";ye.close="1";ye.ping="2";ye.pong="3";ye.message="4";ye.upgrade="5";ye.noop="6";const nn=Object.create(null);Object.keys(ye).forEach(t=>{nn[ye[t]]=t});const Hf={type:"error",data:"parser error"},qf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jf=typeof ArrayBuffer=="function",Kf=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Zh=({type:t,data:e},r,i)=>qf&&e instanceof Blob?r?i(e):eo(e,i):jf&&(e instanceof ArrayBuffer||Kf(e))?r?i(e):eo(new Blob([e]),i):i(ye[t]+(e||"")),eo=(t,e)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];e("b"+(i||""))},r.readAsDataURL(t)},ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ro.length;t++)yi[ro.charCodeAt(t)]=t;const Wf=t=>{let e=t.length*.75,r=t.length,i,n=0,s,a,o,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),p=new Uint8Array(u);for(i=0;i<r;i+=4)s=yi[t.charCodeAt(i)],a=yi[t.charCodeAt(i+1)],o=yi[t.charCodeAt(i+2)],h=yi[t.charCodeAt(i+3)],p[n++]=s<<2|a>>4,p[n++]=(a&15)<<4|o>>2,p[n++]=(o&3)<<6|h&63;return u},zf=typeof ArrayBuffer=="function",tc=(t,e)=>{if(typeof t!="string")return{type:"message",data:ec(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Yf(t.substring(1),e)}:nn[r]?t.length>1?{type:nn[r],data:t.substring(1)}:{type:nn[r]}:Hf},Yf=(t,e)=>{if(zf){const r=Wf(t);return ec(r,e)}else return{base64:!0,data:t}},ec=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},rc=String.fromCharCode(30),$f=(t,e)=>{const r=t.length,i=new Array(r);let n=0;t.forEach((s,a)=>{Zh(s,!1,o=>{i[a]=o,++n===r&&e(i.join(rc))})})},Xf=(t,e)=>{const r=t.split(rc),i=[];for(let n=0;n<r.length;n++){const s=tc(r[n],e);if(i.push(s),s.type==="error")break}return i},ic=4;function Mt(t){if(t)return Jf(t)}function Jf(t){for(var e in Mt.prototype)t[e]=Mt.prototype[e];return t}Mt.prototype.on=Mt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Mt.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Mt.prototype.off=Mt.prototype.removeListener=Mt.prototype.removeAllListeners=Mt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===e||i.fn===e){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Mt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,e)}return this};Mt.prototype.emitReserved=Mt.prototype.emit;Mt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Mt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ne=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function nc(t,...e){return e.reduce((r,i)=>(t.hasOwnProperty(i)&&(r[i]=t[i]),r),{})}const Qf=ne.setTimeout,Zf=ne.clearTimeout;function Un(t,e){e.useNativeTimers?(t.setTimeoutFn=Qf.bind(ne),t.clearTimeoutFn=Zf.bind(ne)):(t.setTimeoutFn=ne.setTimeout.bind(ne),t.clearTimeoutFn=ne.clearTimeout.bind(ne))}const t0=1.33;function e0(t){return typeof t=="string"?r0(t):Math.ceil((t.byteLength||t.size)*t0)}function r0(t){let e=0,r=0;for(let i=0,n=t.length;i<n;i++)e=t.charCodeAt(i),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(i++,r+=4);return r}class i0 extends Error{constructor(e,r,i){super(e),this.description=r,this.context=i,this.type="TransportError"}}class sc extends Mt{constructor(e){super(),this.writable=!1,Un(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,i){return super.emitReserved("error",new i0(e,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=tc(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const ac="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xs=64,n0={};let io=0,Qi=0,no;function so(t){let e="";do e=ac[t%xs]+e,t=Math.floor(t/xs);while(t>0);return e}function oc(){const t=so(+new Date);return t!==no?(io=0,no=t):t+"."+so(io++)}for(;Qi<xs;Qi++)n0[ac[Qi]]=Qi;function lc(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function s0(t){let e={},r=t.split("&");for(let i=0,n=r.length;i<n;i++){let s=r[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let hc=!1;try{hc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const a0=hc;function cc(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||a0))return new XMLHttpRequest}catch{}if(!e)try{return new ne[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function o0(){}const l0=function(){return new cc({xdomain:!1}).responseType!=null}();class h0 extends sc{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let n=location.port;n||(n=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==i}const r=e&&e.forceBase64;this.supportsBinary=l0&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Xf(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,$f(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=oc()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const n=lc(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new _e(this.uri(),e)}doWrite(e,r){const i=this.request({method:"POST",data:e});i.on("success",r),i.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=e}}class _e extends Mt{constructor(e,r){super(),Un(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=nc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new cc(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=_e.requestsCount++,_e.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=o0,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete _e.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}_e.requestsCount=0;_e.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ao);else if(typeof addEventListener=="function"){const t="onpagehide"in ne?"pagehide":"unload";addEventListener(t,ao,!1)}}function ao(){for(let t in _e.requests)_e.requests.hasOwnProperty(t)&&_e.requests[t].abort()}const uc=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Zi=ne.WebSocket||ne.MozWebSocket,oo=!0,c0="arraybuffer",lo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class u0 extends sc{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,i=lo?{}:nc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=oo&&!lo?r?new Zi(e,r):new Zi(e):new Zi(e,r,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType||c0,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],n=r===e.length-1;Zh(i,this.supportsBinary,s=>{const a={};try{oo&&this.ws.send(s)}catch{}n&&uc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=oc()),this.supportsBinary||(e.b64=1);const n=lc(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}check(){return!!Zi}}const d0={websocket:u0,polling:h0},f0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ts(t){const e=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let n=f0.exec(t||""),s={},a=14;for(;a--;)s[g0[a]]=n[a]||"";return r!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=p0(s,s.path),s.queryKey=m0(s,s.query),s}function p0(t,e){const r=/\/{2,9}/g,i=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function m0(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(r[n]=s)}),r}let dc=class lr extends Mt{constructor(e,r={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Ts(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Ts(r.host).host),Un(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=s0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=ic,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new d0[e](i)}open(){let e;if(this.opts.rememberUpgrade&&lr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),i=!1;lr.priorWebsocketSuccess=!1;const n=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;lr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=r.name,this.emitReserved("upgradeError",_)}}))};function s(){i||(i=!0,p(),r.close(),r=null)}const a=d=>{const _=new Error("probe error: "+d);_.transport=r.name,s(),this.emitReserved("upgradeError",_)};function o(){a("transport closed")}function h(){a("socket closed")}function u(d){r&&d.name!==r.name&&s()}const p=()=>{r.removeListener("open",n),r.removeListener("error",a),r.removeListener("close",o),this.off("close",h),this.off("upgrading",u)};r.once("open",n),r.once("error",a),r.once("close",o),this.once("close",h),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",lr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(r+=e0(n)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(e,r,i){return this.sendPacket("message",e,r,i),this}send(e,r,i){return this.sendPacket("message",e,r,i),this}sendPacket(e,r,i,n){if(typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){lr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let i=0;const n=e.length;for(;i<n;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}};dc.protocol=ic;function _0(t,e="",r){let i=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),i=Ts(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(r&&r.port===i.port?"":":"+i.port),i}const v0=typeof ArrayBuffer=="function",y0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,fc=Object.prototype.toString,b0=typeof Blob=="function"||typeof Blob<"u"&&fc.call(Blob)==="[object BlobConstructor]",C0=typeof File=="function"||typeof File<"u"&&fc.call(File)==="[object FileConstructor]";function oa(t){return v0&&(t instanceof ArrayBuffer||y0(t))||b0&&t instanceof Blob||C0&&t instanceof File}function sn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(sn(t[r]))return!0;return!1}if(oa(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return sn(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&sn(t[r]))return!0;return!1}function S0(t){const e=[],r=t.data,i=t;return i.data=Es(r,e),i.attachments=e.length,{packet:i,buffers:e}}function Es(t,e){if(!t)return t;if(oa(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=Es(t[i],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Es(t[i],e));return r}return t}function w0(t,e){return t.data=Ps(t.data,e),delete t.attachments,t}function Ps(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Ps(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Ps(t[r],e));return t}const x0=5;var vt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(vt||(vt={}));class T0{constructor(e){this.replacer=e}encode(e){return(e.type===vt.EVENT||e.type===vt.ACK)&&sn(e)?this.encodeAsBinary({type:e.type===vt.EVENT?vt.BINARY_EVENT:vt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===vt.BINARY_EVENT||e.type===vt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=S0(e),i=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(i),n}}class la extends Mt{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const i=r.type===vt.BINARY_EVENT;i||r.type===vt.BINARY_ACK?(r.type=i?vt.EVENT:vt.ACK,this.reconstructor=new E0(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(oa(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const i={type:Number(e.charAt(0))};if(vt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===vt.BINARY_EVENT||i.type===vt.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(s,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););i.nsp=e.substring(s,r)}else i.nsp="/";const n=e.charAt(r+1);if(n!==""&&Number(n)==n){const s=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}i.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(la.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case vt.CONNECT:return typeof r=="object";case vt.DISCONNECT:return r===void 0;case vt.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case vt.EVENT:case vt.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case vt.ACK:case vt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class E0{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=w0(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const P0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:la,Encoder:T0,get PacketType(){return vt},protocol:x0},Symbol.toStringTag,{value:"Module"}));function le(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const k0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gc extends Mt{constructor(e,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[le(e,"open",this.onopen.bind(this)),le(e,"packet",this.onpacket.bind(this)),le(e,"error",this.onerror.bind(this)),le(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(k0.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:vt.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const a=this.ids++,o=r.pop();this._registerAckCallback(a,o),i.id=a}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,r){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,[null,...a])}}emitWithAck(e,...r){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((n,s)=>{r.push((a,o)=>i?a?s(a):n(o):n(a)),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...s)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case vt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vt.EVENT:case vt.BINARY_EVENT:this.onevent(e);break;case vt.ACK:case vt.BINARY_ACK:this.onack(e);break;case vt.DISCONNECT:this.ondisconnect();break;case vt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let i=!1;return function(...n){i||(i=!0,r.packet({type:vt.ACK,id:e,data:n}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,e.data)}}}function Tr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Tr.prototype.reset=function(){this.attempts=0};Tr.prototype.setMin=function(t){this.ms=t};Tr.prototype.setMax=function(t){this.max=t};Tr.prototype.setJitter=function(t){this.jitter=t};class ks extends Mt{constructor(e,r){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Un(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Tr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||P0;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new dc(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=le(r,"open",function(){i.onopen(),e&&e()}),s=le(r,"error",a=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",a),e?e(a):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&n();const o=this.setTimeoutFn(()=>{n(),r.close(),r.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(le(e,"ping",this.onping.bind(this)),le(e,"data",this.ondata.bind(this)),le(e,"error",this.onerror.bind(this)),le(e,"close",this.onclose.bind(this)),le(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){uc(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new gc(this,e,r),this.nsps[e]=i),i}_destroy(e){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let i=0;i<r.length;i++)this.engine.write(r[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ar={};function an(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=_0(t,e.path||"/socket.io"),i=r.source,n=r.id,s=r.path,a=Ar[n]&&s in Ar[n].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let h;return o?h=new ks(i,e):(Ar[n]||(Ar[n]=new ks(i,e)),h=Ar[n]),r.query&&!e.query&&(e.query=r.queryKey),h.socket(r.path,e)}Object.assign(an,{Manager:ks,Socket:gc,io:an,connect:an});class mn{constructor(){const e=xr({host:!1,roomId:null,username:"",socketId:"",turn:!1,color:null,positionStart:null,win:!1});Object.assign(this,e)}isHost(e){this.host=!0,this.turn=!0,this.socketId=e}}class A0{constructor(){const e=xr({nb_Players:2,nb_Squares:9,nb_Walls:5,new_nb_Walls:5});Object.assign(this,e)}}const Yt=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},R0={props:{socket:{required:!0},roomID:void 0},data(){return{players:[]}},mounted(){this.roomID&&(this.socket.emit("get users",this.roomID),this.socket.on("list users",t=>{this.players=t}))}},O0=tt("h2",null,"Liste des joueurs en attentes",-1),N0=tt("div",{class:"spinner-border"},null,-1),F0={id:"user-list"};function M0(t,e,r,i,n,s){return ct(),ft("div",null,[O0,N0,tt("ul",F0,[(ct(!0),ft(At,null,In(n.players,a=>(ct(),ft("li",{key:a.username},te(a.username),1))),128))])])}const ha=Yt(R0,[["render",M0]]);const I0={props:["revele","toggleModale","socket"],data(){return{player:new mn,game:new A0,state:"initGame"}},components:{ListeUserComponent:ha},methods:{createRoom(){this.game.new_nb_Walls=this.game.nb_Walls,this.player.isHost(this.socket.id),this.socket.emit("playerData",this.player,this.game),this.socket.on("room id",t=>{this.player.roomId=t,this.state="wait",this.$emit("event-roomId",{roomId:t,player:this.player,game:this.game})}),console.log(this.player)},deserter(){console.log("deserter"),this.socket.emit("deserter",this.player),this.state="initGame",this.player=new mn}}},ae=t=>(kn("data-v-3de9ba79"),t=t(),An(),t),L0={key:0,class:"overlay"},G0={key:1,class:"bloc-modale"},D0={key:0},B0=ae(()=>tt("label",{for:"username"},"nom :",-1)),U0=ae(()=>tt("label",{for:"nbPlayersInput"},"Number of players : ",-1)),V0=["value"],H0=ae(()=>tt("label",{for:"twoPlayers"}," 2 joueurs ",-1)),q0=["value"],j0=ae(()=>tt("label",{for:"fourPlayers"}," 4 joueurs ",-1)),K0=ae(()=>tt("label",{for:"nbSquares"},"Nombre cellules : ",-1)),W0=["value"],z0=ae(()=>tt("label",{for:"septCells"}," 7 cellules ",-1)),Y0=["value"],$0=ae(()=>tt("label",{for:"nineCells"}," 9 cellules ",-1)),X0=["value"],J0=ae(()=>tt("label",{for:"elevenCells"}," 11 cellules ",-1)),Q0=["value"],Z0=ae(()=>tt("label",{for:"treizeCells"}," 13 cellules ",-1)),t1=ae(()=>tt("label",{for:"nbWallsInput"},"Number of walls:",-1)),e1=["min","max"],r1=ae(()=>tt("br",null,null,-1)),i1=ae(()=>tt("br",null,null,-1));function n1(t,e,r,i,n,s){const a=jt("ListeUserComponent");return ct(),ft(At,null,[r.revele?(ct(),ft("div",L0)):Tt("",!0),r.revele?(ct(),ft("div",G0,[n.state==="initGame"?(ct(),ft("div",D0,[tt("div",null,[B0,oe(tt("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>n.player.username=o)},null,512),[[Ve,n.player.username]])]),tt("div",null,[tt("div",null,[U0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=o=>n.game.nb_Players=o),id:"twoPlayers",name:"twoPlayers",value:parseInt(2),checked:""},null,8,V0),[[xe,n.game.nb_Players]]),H0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=o=>n.game.nb_Players=o),id:"fourPlayers",name:"fourPlayers",value:parseInt(4)},null,8,q0),[[xe,n.game.nb_Players]]),j0])]),tt("div",null,[K0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=o=>n.game.nb_Squares=o),id:"septCells",name:"septCells",value:parseInt(7)},null,8,W0),[[xe,n.game.nb_Squares]]),z0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=o=>n.game.nb_Squares=o),id:"nineCells",name:"nineCells",value:parseInt(9)},null,8,Y0),[[xe,n.game.nb_Squares]]),$0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>n.game.nb_Squares=o),id:"elevenCells",name:"elevenCells",value:parseInt(11)},null,8,X0),[[xe,n.game.nb_Squares]]),J0,oe(tt("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>n.game.nb_Squares=o),id:"treizeCells",name:"treizeCells",value:parseInt(13)},null,8,Q0),[[xe,n.game.nb_Squares]]),Z0]),tt("div",null,[t1,oe(tt("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>n.game.nb_Walls=o),type:"range",id:"nbWalls",name:"nbWalls",min:parseInt(3),max:parseInt(10)},null,8,e1),[[Ve,n.game.nb_Walls,void 0,{number:!0}]])]),tt("button",{class:"pointer btn btn-success",onClick:e[8]||(e[8]=(...o)=>s.createRoom&&s.createRoom(...o))},"Créer la partie"),r1,tt("div",null,te(n.game),1),i1,tt("div",null,te(n.player),1)])):Tt("",!0),n.state==="initGame"?(ct(),ft("button",{key:1,onClick:e[9]||(e[9]=(...o)=>r.toggleModale&&r.toggleModale(...o)),class:"btn-closei btn btn-danger"},"X")):Tt("",!0),n.state==="wait"?(ct(),ft("button",{key:2,onClick:[e[10]||(e[10]=(...o)=>r.toggleModale&&r.toggleModale(...o)),e[11]||(e[11]=(...o)=>s.deserter&&s.deserter(...o))],class:"btn-closei btn btn-danger"},"Quitter")):Tt("",!0),n.state==="wait"?(ct(),ce(a,{key:3,roomID:n.player.roomId,socket:r.socket},null,8,["roomID","socket"])):Tt("",!0)])):Tt("",!0)],64)}const s1=Yt(I0,[["render",n1],["__scopeId","data-v-3de9ba79"]]),a1={props:["socket","player"],data(){return{rooms:[],roomId:null,game:null}},created(){this.socket.emit("get rooms",this.roomId),console.log(this.rooms),this.socket.on("list rooms",t=>{this.rooms=t})},methods:{joinRoom(t,e){this.roomId=t,this.game=e,console.log("[List] : "+this.roomId),this.$emit("event-roomId",{roomId:this.roomId,state:"waitPlayers",game:this.game})}}},o1=tt("h2",null,"Liste des salons disponibles",-1),l1={id:"room-list"},h1={class:"card text-white bg-primary mb-3",style:{"max-width":"18rem"}},c1={class:"card-header"},u1=["onClick"],d1={class:"card-body"},f1={class:"card-title"},g1={class:"card-text"};function p1(t,e,r,i,n,s){return ct(),ft("div",null,[o1,tt("ul",l1,[(ct(!0),ft(At,null,In(n.rooms,a=>(ct(),ft("li",{key:a.id},[tt("div",h1,[tt("div",c1,[tt("button",{onClick:o=>s.joinRoom(a.id,a.info),class:"pointer btn btn-success"},"Join",8,u1)]),tt("div",d1,[tt("h5",f1,te(a.id),1),tt("p",g1,te(a.info),1)])])]))),128))])])}const pc=Yt(a1,[["render",p1]]);const m1={props:["revele","toggleModale","socket"],data(){return{player:new mn,state:"setUsername",game:null}},components:{ListeRoomComponent:pc,ListeUserComponent:ha},methods:{validateName(){this.player.socketId=this.socket.id,this.state="setRoom"},setRoomId(t){this.player.roomId=t.roomId,this.socket.emit("playerData",this.player),this.state=t.state,this.game=t.game,this.$emit("event-roomId",{roomId:t.roomId,player:this.player,game:this.game}),console.log("[Join] : "+t.roomId),console.log("[Join] : "+this.player.socketId)},deserter(){console.log("deserter"),this.socket.emit("deserter",this.player),this.state="setUsername",this.player=new mn}}},_1=t=>(kn("data-v-ffd1654e"),t=t(),An(),t),v1={key:0,class:"overlay"},y1={key:1,class:"bloc-modale"},b1={key:2},C1=_1(()=>tt("label",{for:"username"},"nom :",-1));function S1(t,e,r,i,n,s){const a=jt("ListeRoomComponent"),o=jt("ListeUserComponent");return ct(),ft(At,null,[r.revele?(ct(),ft("div",v1)):Tt("",!0),r.revele?(ct(),ft("div",y1,[n.state!=="waitPlayers"?(ct(),ft("button",{key:0,onClick:e[0]||(e[0]=(...h)=>r.toggleModale&&r.toggleModale(...h)),class:"btn-closei btn btn-danger"},"X")):Tt("",!0),n.state==="waitPlayers"?(ct(),ft("button",{key:1,onClick:[e[1]||(e[1]=(...h)=>r.toggleModale&&r.toggleModale(...h)),e[2]||(e[2]=(...h)=>s.deserter&&s.deserter(...h))],class:"btn-closei btn btn-danger"},"Quitter")):Tt("",!0),n.state==="setUsername"?(ct(),ft("div",b1,[tt("div",null,[C1,oe(tt("input",{type:"text",id:"username","onUpdate:modelValue":e[3]||(e[3]=h=>n.player.username=h)},null,512),[[Ve,n.player.username]])]),tt("button",{onClick:e[4]||(e[4]=(...h)=>s.validateName&&s.validateName(...h)),class:"pointer btn btn-success"},"Rejoindre un salon")])):Tt("",!0),n.state==="setRoom"?(ct(),ce(a,{key:3,socket:r.socket,player:n.player,onEventRoomId:s.setRoomId},null,8,["socket","player","onEventRoomId"])):Tt("",!0),n.state==="waitPlayers"?(ct(),ce(o,{key:4,roomID:n.player.roomId,socket:r.socket},null,8,["roomID","socket"])):Tt("",!0)])):Tt("",!0)],64)}const w1=Yt(m1,[["render",S1],["__scopeId","data-v-ffd1654e"]]);var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(e,n);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var on={exports:{}},Rr={},Jn={},Qn={},ho;function mt(){return ho||(ho=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;var e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof As<"u"?As:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.0.1",isBrowser:r(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return t.Konva.angleDeg?n*e:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(n){t.glob.Konva=n}};const i=n=>{t.Konva[n.prototype.getClassName()]=n};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(Qn)),Qn}var Zn={},co;function Nt(){return co||(co=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=mt();class r{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){var S=this.m;return{x:S[0]*v.x+S[2]*v.y+S[4],y:S[1]*v.x+S[3]*v.y+S[5]}}translate(v,S){return this.m[4]+=this.m[0]*v+this.m[2]*S,this.m[5]+=this.m[1]*v+this.m[3]*S,this}scale(v,S){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=S,this.m[3]*=S,this}rotate(v){var S=Math.cos(v),P=Math.sin(v),O=this.m[0]*S+this.m[2]*P,w=this.m[1]*S+this.m[3]*P,k=this.m[0]*-P+this.m[2]*S,T=this.m[1]*-P+this.m[3]*S;return this.m[0]=O,this.m[1]=w,this.m[2]=k,this.m[3]=T,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,S){var P=this.m[0]+this.m[2]*S,O=this.m[1]+this.m[3]*S,w=this.m[2]+this.m[0]*v,k=this.m[3]+this.m[1]*v;return this.m[0]=P,this.m[1]=O,this.m[2]=w,this.m[3]=k,this}multiply(v){var S=this.m[0]*v.m[0]+this.m[2]*v.m[1],P=this.m[1]*v.m[0]+this.m[3]*v.m[1],O=this.m[0]*v.m[2]+this.m[2]*v.m[3],w=this.m[1]*v.m[2]+this.m[3]*v.m[3],k=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],T=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=S,this.m[1]=P,this.m[2]=O,this.m[3]=w,this.m[4]=k,this.m[5]=T,this}invert(){var v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*v,P=-this.m[1]*v,O=-this.m[2]*v,w=this.m[0]*v,k=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),T=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=P,this.m[2]=O,this.m[3]=w,this.m[4]=k,this.m[5]=T,this}getMatrix(){return this.m}decompose(){var v=this.m[0],S=this.m[1],P=this.m[2],O=this.m[3],w=this.m[4],k=this.m[5],T=v*O-S*P;let R={x:w,y:k,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||S!=0){var N=Math.sqrt(v*v+S*S);R.rotation=S>0?Math.acos(v/N):-Math.acos(v/N),R.scaleX=N,R.scaleY=T/N,R.skewX=(v*P+S*O)/T,R.skewY=0}else if(P!=0||O!=0){var g=Math.sqrt(P*P+O*O);R.rotation=Math.PI/2-(O>0?Math.acos(-P/g):-Math.acos(P/g)),R.scaleX=T/g,R.scaleY=g,R.skewX=0,R.skewY=(v*P+S*O)/T}return R.rotation=t.Util._getRotation(R.rotation),R}}t.Transform=r;var i="[object Array]",n="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,h=180/Math.PI,u="#",p="",d="0",_="Konva warning: ",m="Konva error: ",f="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,x=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};t.Util={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===i},_isNumber(l){return Object.prototype.toString.call(l)===n&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===s},_isBoolean(l){return Object.prototype.toString.call(l)===a},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;var v=l[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){x.push(l),x.length===1&&c(function(){const v=x;x=[],v.forEach(function(S){S()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,v){var S=t.Util.createImageElement();S.onload=function(){v(S)},S.src=l},_rgbToHex(l,v,S){return((1<<24)+(l<<16)+(v<<8)+S).toString(16).slice(1)},_hexToRgb(l){l=l.replace(u,p);var v=parseInt(l,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){for(var l=(Math.random()*16777215<<0).toString(16);l.length<6;)l=d+l;return u+l},getRGB(l){var v;return l in y?(v=y[l],{r:v[0],g:v[1],b:v[2]}):l[0]===u?this._hexToRgb(l.substring(1)):l.substr(0,4)===f?(v=C.exec(l.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",t.Util._namedColorToRBA(l)||t.Util._hex3ColorToRGBA(l)||t.Util._hex4ColorToRGBA(l)||t.Util._hex6ColorToRGBA(l)||t.Util._hex8ColorToRGBA(l)||t.Util._rgbColorToRGBA(l)||t.Util._rgbaColorToRGBA(l)||t.Util._hslColorToRGBA(l)},_namedColorToRBA(l){var v=y[l.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];var v=l.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];var v=l.split(/ *, */).map((S,P)=>S.slice(-1)==="%"?P===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[v,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),P=Number(S[0])/360,O=Number(S[1])/100,w=Number(S[2])/100;let k,T,R;if(O===0)return R=w*255,{r:Math.round(R),g:Math.round(R),b:Math.round(R),a:1};w<.5?k=w*(1+O):k=w+O-w*O;const N=2*w-k,g=[0,0,0];for(let b=0;b<3;b++)T=P+1/3*-(b-1),T<0&&T++,T>1&&T--,6*T<1?R=N+(k-N)*6*T:2*T<1?R=k:3*T<2?R=N+(k-N)*(2/3-T)*6:R=N,g[b]=R*255;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}},haveIntersection(l,v){return!(v.x>l.x+l.width||v.x+v.width<l.x||v.y>l.y+l.height||v.y+v.height<l.y)},cloneObject(l){var v={};for(var S in l)this._isPlainObject(l[S])?v[S]=this.cloneObject(l[S]):this._isArray(l[S])?v[S]=this.cloneArray(l[S]):v[S]=l[S];return v},cloneArray(l){return l.slice(0)},degToRad(l){return l*o},radToDeg(l){return l*h},_degToRad(l){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(l)},_radToDeg(l){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(l)},_getRotation(l){return e.Konva.angleDeg?t.Util.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(m+l)},error(l){console.error(m+l)},warn(l){e.Konva.showWarnings&&console.warn(_+l)},each(l,v){for(var S in l)v(S,l[S])},_inRange(l,v,S){return v<=l&&l<S},_getProjectionToSegment(l,v,S,P,O,w){var k,T,R,N=(l-S)*(l-S)+(v-P)*(v-P);if(N==0)k=l,T=v,R=(O-S)*(O-S)+(w-P)*(w-P);else{var g=((O-l)*(S-l)+(w-v)*(P-v))/N;g<0?(k=l,T=v,R=(l-O)*(l-O)+(v-w)*(v-w)):g>1?(k=S,T=P,R=(S-O)*(S-O)+(P-w)*(P-w)):(k=l+g*(S-l),T=v+g*(P-v),R=(k-O)*(k-O)+(T-w)*(T-w))}return[k,T,R]},_getProjectionToLine(l,v,S){var P=t.Util.cloneObject(l),O=Number.MAX_VALUE;return v.forEach(function(w,k){if(!(!S&&k===v.length-1)){var T=v[(k+1)%v.length],R=t.Util._getProjectionToSegment(w.x,w.y,T.x,T.y,l.x,l.y),N=R[0],g=R[1],b=R[2];b<O&&(P.x=N,P.y=g,O=b)}}),P},_prepareArrayForTween(l,v,S){var P,O=[],w=[];if(l.length>v.length){var k=v;v=l,l=k}for(P=0;P<l.length;P+=2)O.push({x:l[P],y:l[P+1]});for(P=0;P<v.length;P+=2)w.push({x:v[P],y:v[P+1]});var T=[];return w.forEach(function(R){var N=t.Util._getProjectionToLine(R,O,S);T.push(N.x),T.push(N.y)}),T},_prepareToStringify(l){var v;l.visitedByCircularReferenceRemoval=!0;for(var S in l)if(l.hasOwnProperty(S)&&l[S]&&typeof l[S]=="object"){if(v=Object.getOwnPropertyDescriptor(l,S),l[S].visitedByCircularReferenceRemoval||t.Util._isElement(l[S]))if(v.configurable)delete l[S];else return null;else if(t.Util._prepareToStringify(l[S])===null)if(v.configurable)delete l[S];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,v){for(var S in v)l[S]=v[S];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999},releaseCanvas(...l){e.Konva.releaseCanvasOnDestroy&&l.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(l,v,S,P){let O=0,w=0,k=0,T=0;typeof P=="number"?O=w=k=T=Math.min(P,v/2,S/2):(O=Math.min(P[0]||0,v/2,S/2),w=Math.min(P[1]||0,v/2,S/2),T=Math.min(P[2]||0,v/2,S/2),k=Math.min(P[3]||0,v/2,S/2)),l.moveTo(O,0),l.lineTo(v-w,0),l.arc(v-w,w,w,Math.PI*3/2,0,!1),l.lineTo(v,S-T),l.arc(v-T,S-T,T,0,Math.PI/2,!1),l.lineTo(k,S),l.arc(k,S-k,k,Math.PI/2,Math.PI,!1),l.lineTo(0,O),l.arc(O,O,O,Math.PI,Math.PI*3/2,!1)}}}(Zn)),Zn}var Or={},ts={},Et={},uo;function _t(){if(uo)return Et;uo=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.getComponentValidator=Et.getBooleanValidator=Et.getNumberArrayValidator=Et.getFunctionValidator=Et.getStringOrGradientValidator=Et.getStringValidator=Et.getNumberOrAutoValidator=Et.getNumberOrArrayOfNumbersValidator=Et.getNumberValidator=Et.alphaComponent=Et.RGBComponent=void 0;const t=mt(),e=Nt();function r(f){return e.Util._isString(f)?'"'+f+'"':Object.prototype.toString.call(f)==="[object Number]"||e.Util._isBoolean(f)?f:Object.prototype.toString.call(f)}function i(f){return f>255?255:f<0?0:Math.round(f)}Et.RGBComponent=i;function n(f){return f>1?1:f<1e-4?1e-4:f}Et.alphaComponent=n;function s(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isNumber(f)||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),f}}Et.getNumberValidator=s;function a(f){if(t.Konva.isUnminified)return function(y,C){let x=e.Util._isNumber(y),c=e.Util._isArray(y)&&y.length==f;return!x&&!c&&e.Util.warn(r(y)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+f+")"),y}}Et.getNumberOrArrayOfNumbersValidator=a;function o(){if(t.Konva.isUnminified)return function(f,y){var C=e.Util._isNumber(f),x=f==="auto";return C||x||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),f}}Et.getNumberOrAutoValidator=o;function h(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isString(f)||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),f}}Et.getStringValidator=h;function u(){if(t.Konva.isUnminified)return function(f,y){const C=e.Util._isString(f),x=Object.prototype.toString.call(f)==="[object CanvasGradient]"||f&&f.addColorStop;return C||x||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),f}}Et.getStringOrGradientValidator=u;function p(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isFunction(f)||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),f}}Et.getFunctionValidator=p;function d(){if(t.Konva.isUnminified)return function(f,y){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&f instanceof C||(e.Util._isArray(f)?f.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),f}}Et.getNumberArrayValidator=d;function _(){if(t.Konva.isUnminified)return function(f,y){var C=f===!0||f===!1;return C||e.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),f}}Et.getBooleanValidator=_;function m(f){if(t.Konva.isUnminified)return function(y,C){return y==null||e.Util.isObject(y)||e.Util.warn(r(y)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+f),y}}return Et.getComponentValidator=m,Et}var fo;function gt(){return fo||(fo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Nt(),r=_t();var i="get",n="set";t.Factory={addGetterSetter(s,a,o,h,u){t.Factory.addGetter(s,a,o),t.Factory.addSetter(s,a,h,u),t.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){var h=i+e.Util._capitalize(a);s.prototype[h]=s.prototype[h]||function(){var u=this.attrs[a];return u===void 0?o:u}},addSetter(s,a,o,h){var u=n+e.Util._capitalize(a);s.prototype[u]||t.Factory.overWriteSetter(s,a,o,h)},overWriteSetter(s,a,o,h){var u=n+e.Util._capitalize(a);s.prototype[u]=function(p){return o&&p!==void 0&&p!==null&&(p=o.call(this,p,a)),this._setAttr(a,p),h&&h.call(this),this}},addComponentsGetterSetter(s,a,o,h,u){var p=o.length,d=e.Util._capitalize,_=i+d(a),m=n+d(a),f,y;s.prototype[_]=function(){var x={};for(f=0;f<p;f++)y=o[f],x[y]=this.getAttr(a+d(y));return x};var C=(0,r.getComponentValidator)(o);s.prototype[m]=function(x){var c=this.attrs[a],l;h&&(x=h.call(this,x)),C&&C.call(this,x,a);for(l in x)x.hasOwnProperty(l)&&this._setAttr(a+d(l),x[l]);return x||o.forEach(v=>{this._setAttr(a+d(v),void 0)}),this._fireChangeEvent(a,c,x),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){var o=e.Util._capitalize(a),h=n+o,u=i+o;s.prototype[a]=function(){return arguments.length?(this[h](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,a,o,h){e.Util.error("Adding deprecated "+a);var u=i+e.Util._capitalize(a),p=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){e.Util.error(p);var d=this.attrs[a];return d===void 0?o:d},t.Factory.addSetter(s,a,h,function(){e.Util.error(p)}),t.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){e.Util.each(a,function(o,h){var u=s.prototype[h],p=i+e.Util._capitalize(o),d=n+e.Util._capitalize(o);function _(){u.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}s.prototype[o]=_,s.prototype[p]=_,s.prototype[d]=_})},afterSetFilter(){this._filterUpToDate=!1}}}(ts)),ts}var be={},Ce={},go;function _c(){if(go)return Ce;go=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.HitContext=Ce.SceneContext=Ce.Context=void 0;const t=Nt(),e=mt();function r(x){var c=[],l=x.length,v=t.Util,S,P;for(S=0;S<l;S++)P=x[S],v._isNumber(P)?P=Math.round(P*1e3)/1e3:v._isString(P)||(P=P+""),c.push(P);return c}var i=",",n="(",s=")",a="([",o="])",h=";",u="()",p="=",d=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const m=100;let f=class{constructor(c){this.canvas=c,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,l){var v=this.traceArr,S=v.length,P="",O,w,k,T;for(O=0;O<S;O++)w=v[O],k=w.method,k?(T=w.args,P+=k,c?P+=u:t.Util._isArray(T[0])?P+=a+T.join(i)+o:(l&&(T=T.map(R=>typeof R=="number"?Math.floor(R):R)),P+=n+T.join(i)+s)):(P+=w.property,c||(P+=p+w.val)),P+=h;return P}clearTrace(){this.traceArr=[]}_trace(c){var l=this.traceArr,v;l.push(c),v=l.length,v>=m&&l.shift()}reset(){var c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){var l=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(c){const l=c.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(c){var l=c.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(c){const l=c.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}setAttr(c,l){this._context[c]=l}arc(c,l,v,S,P,O){this._context.arc(c,l,v,S,P,O)}arcTo(c,l,v,S,P){this._context.arcTo(c,l,v,S,P)}beginPath(){this._context.beginPath()}bezierCurveTo(c,l,v,S,P,O){this._context.bezierCurveTo(c,l,v,S,P,O)}clearRect(c,l,v,S){this._context.clearRect(c,l,v,S)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(c,l){var v=arguments;if(v.length===2)return this._context.createImageData(c,l);if(v.length===1)return this._context.createImageData(c)}createLinearGradient(c,l,v,S){return this._context.createLinearGradient(c,l,v,S)}createPattern(c,l){return this._context.createPattern(c,l)}createRadialGradient(c,l,v,S,P,O){return this._context.createRadialGradient(c,l,v,S,P,O)}drawImage(c,l,v,S,P,O,w,k,T){var R=arguments,N=this._context;R.length===3?N.drawImage(c,l,v):R.length===5?N.drawImage(c,l,v,S,P):R.length===9&&N.drawImage(c,l,v,S,P,O,w,k,T)}ellipse(c,l,v,S,P,O,w,k){this._context.ellipse(c,l,v,S,P,O,w,k)}isPointInPath(c,l,v,S){return v?this._context.isPointInPath(v,c,l,S):this._context.isPointInPath(c,l,S)}fill(c){c?this._context.fill(c):this._context.fill()}fillRect(c,l,v,S){this._context.fillRect(c,l,v,S)}strokeRect(c,l,v,S){this._context.strokeRect(c,l,v,S)}fillText(c,l,v,S){S?this._context.fillText(c,l,v,S):this._context.fillText(c,l,v)}measureText(c){return this._context.measureText(c)}getImageData(c,l,v,S){return this._context.getImageData(c,l,v,S)}lineTo(c,l){this._context.lineTo(c,l)}moveTo(c,l){this._context.moveTo(c,l)}rect(c,l,v,S){this._context.rect(c,l,v,S)}putImageData(c,l,v){this._context.putImageData(c,l,v)}quadraticCurveTo(c,l,v,S){this._context.quadraticCurveTo(c,l,v,S)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,l){this._context.scale(c,l)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,l,v,S,P,O){this._context.setTransform(c,l,v,S,P,O)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,l,v,S){this._context.strokeText(c,l,v,S)}transform(c,l,v,S,P,O){this._context.transform(c,l,v,S,P,O)}translate(c,l){this._context.translate(c,l)}_enableTrace(){var c=this,l=d.length,v=this.setAttr,S,P,O=function(w){var k=c[w],T;c[w]=function(){return P=r(Array.prototype.slice.call(arguments,0)),T=k.apply(c,arguments),c._trace({method:w,args:P}),T}};for(S=0;S<l;S++)O(d[S]);c.setAttr=function(){v.apply(c,arguments);var w=arguments[0],k=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(k=k/this.canvas.getPixelRatio()),c._trace({property:w,val:k})}}_applyGlobalCompositeOperation(c){const l=c.attrs.globalCompositeOperation;var v=!l||l==="source-over";v||this.setAttr("globalCompositeOperation",l)}};Ce.Context=f,_.forEach(function(x){Object.defineProperty(f.prototype,x,{get(){return this._context[x]},set(c){this._context[x]=c}})});class y extends f{constructor(c,{willReadFrequently:l=!1}={}){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(c){var l=c.fill();this.setAttr("fillStyle",l),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){var l=c._getLinearGradient();l&&(this.setAttr("fillStyle",l),c._fillFunc(this))}_fillRadialGradient(c){const l=c._getRadialGradient();l&&(this.setAttr("fillStyle",l),c._fillFunc(this))}_fill(c){const l=c.fill(),v=c.getFillPriority();if(l&&v==="color"){this._fillColor(c);return}const S=c.getFillPatternImage();if(S&&v==="pattern"){this._fillPattern(c);return}const P=c.getFillLinearGradientColorStops();if(P&&v==="linear-gradient"){this._fillLinearGradient(c);return}const O=c.getFillRadialGradientColorStops();if(O&&v==="radial-gradient"){this._fillRadialGradient(c);return}l?this._fillColor(c):S?this._fillPattern(c):P?this._fillLinearGradient(c):O&&this._fillRadialGradient(c)}_strokeLinearGradient(c){const l=c.getStrokeLinearGradientStartPoint(),v=c.getStrokeLinearGradientEndPoint(),S=c.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(l.x,l.y,v.x,v.y);if(S){for(var O=0;O<S.length;O+=2)P.addColorStop(S[O],S[O+1]);this.setAttr("strokeStyle",P)}}_stroke(c){var l=c.dash(),v=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!v){this.save();var S=this.getCanvas().getPixelRatio();this.setTransform(S,0,0,S,0,0)}this._applyLineCap(c),l&&c.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var P=c.getStrokeLinearGradientColorStops();P?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),v||this.restore()}}_applyShadow(c){var l,v,S,P=(l=c.getShadowRGBA())!==null&&l!==void 0?l:"black",O=(v=c.getShadowBlur())!==null&&v!==void 0?v:5,w=(S=c.getShadowOffset())!==null&&S!==void 0?S:{x:0,y:0},k=c.getAbsoluteScale(),T=this.canvas.getPixelRatio(),R=k.x*T,N=k.y*T;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",O*Math.min(Math.abs(R),Math.abs(N))),this.setAttr("shadowOffsetX",w.x*R),this.setAttr("shadowOffsetY",w.y*N)}}Ce.SceneContext=y;class C extends f{constructor(c){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:!0})}_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){const P=c.getStrokeScaleEnabled();if(!P){this.save();var l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(c);var v=c.hitStrokeWidth(),S=v==="auto"?c.strokeWidth():v;this.setAttr("lineWidth",S),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),P||this.restore()}}}return Ce.HitContext=C,Ce}var po;function Vn(){if(po)return be;po=1,Object.defineProperty(be,"__esModule",{value:!0}),be.HitCanvas=be.SceneCanvas=be.Canvas=void 0;const t=Nt(),e=_c(),r=mt(),i=gt(),n=_t();var s;function a(){if(s)return s;var p=t.Util.createCanvasElement(),d=p.getContext("2d");return s=function(){var _=r.Konva._global.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return _/m}(),t.Util.releaseCanvas(p),s}let o=class{constructor(d){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var _=d||{},m=_.pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=m,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(d){var _=this.pixelRatio;this.pixelRatio=d,this.setSize(this.getWidth()/_,this.getHeight()/_)}setWidth(d){this.width=this._canvas.width=d*this.pixelRatio,this._canvas.style.width=d+"px";var _=this.pixelRatio,m=this.getContext()._context;m.scale(_,_)}setHeight(d){this.height=this._canvas.height=d*this.pixelRatio,this._canvas.style.height=d+"px";var _=this.pixelRatio,m=this.getContext()._context;m.scale(_,_)}getWidth(){return this.width}getHeight(){return this.height}setSize(d,_){this.setWidth(d||0),this.setHeight(_||0)}toDataURL(d,_){try{return this._canvas.toDataURL(d,_)}catch{try{return this._canvas.toDataURL()}catch(f){return t.Util.error("Unable to get data URL. "+f.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};be.Canvas=o,i.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,n.getNumberValidator)());class h extends o{constructor(d={width:0,height:0,willReadFrequently:!1}){super(d),this.context=new e.SceneContext(this,{willReadFrequently:d.willReadFrequently}),this.setSize(d.width,d.height)}}be.SceneCanvas=h;class u extends o{constructor(d={width:0,height:0}){super(d),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(d.width,d.height)}}return be.HitCanvas=u,be}var es={},mo;function ca(){return mo||(mo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=mt(),r=Nt();t.DD={get isDragging(){var i=!1;return t.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return t.DD._dragElements.forEach(n=>{i=n.node}),i},_dragElements:new Map,_drag(i){const n=[];t.DD._dragElements.forEach((s,a)=>{const{node:o}=s,h=o.getStage();h.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=r.Util._getFirstPointerId(i));const u=h._changedPointerPositions.find(_=>_.id===s.pointerId);if(u){if(s.dragStatus!=="dragging"){var p=o.dragDistance(),d=Math.max(Math.abs(u.x-s.startPointerPos.x),Math.abs(u.y-s.startPointerPos.y));if(d<p||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),n.push(o)}}),n.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const n=[];t.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(p=>p.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const u=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;u&&n.indexOf(u)===-1&&n.push(u)}),n.forEach(s=>{s.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((n,s)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:i},!0),n.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(es)),es}var _o;function Ft(){if(_o)return Or;_o=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Node=void 0;const t=Nt(),e=gt(),r=Vn(),i=mt(),n=ca(),s=_t();var a="absoluteOpacity",o="allEventListeners",h="absoluteTransform",u="absoluteScale",p="canvas",d="Change",_="children",m="konva",f="listening",y="mouseenter",C="mouseleave",x="set",c="Shape",l=" ",v="stage",S="transform",P="Stage",O="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(l);let k=1,T=class Rs{constructor(g){this._id=k++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(g),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(g){(g===S||g===h)&&this._cache.get(g)?this._cache.get(g).dirty=!0:g?this._cache.delete(g):this._cache.clear()}_getCache(g,b){var E=this._cache.get(g),A=g===S||g===h,M=E===void 0||A&&E.dirty===!0;return M&&(E=b.call(this),this._cache.set(g,E)),E}_calculate(g,b,E){if(!this._attachedDepsListeners.get(g)){const A=b.map(M=>M+"Change.konva").join(l);this.on(A,()=>{this._clearCache(g)}),this._attachedDepsListeners.set(g,!0)}return this._getCache(g,E)}_getCanvasCache(){return this._cache.get(p)}_clearSelfAndDescendantCache(g){this._clearCache(g),g===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(p)){const{scene:g,filter:b,hit:E}=this._cache.get(p);t.Util.releaseCanvas(g,b,E),this._cache.delete(p)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(g){var b=g||{},E={};(b.x===void 0||b.y===void 0||b.width===void 0||b.height===void 0)&&(E=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var A=Math.ceil(b.width||E.width),M=Math.ceil(b.height||E.height),L=b.pixelRatio,G=b.x===void 0?Math.floor(E.x):b.x,B=b.y===void 0?Math.floor(E.y):b.y,K=b.offset||0,X=b.drawBorder||!1,z=b.hitCanvasPixelRatio||1;if(!A||!M){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}A+=K*2+1,M+=K*2+1,G-=K,B-=K;var et=new r.SceneCanvas({pixelRatio:L,width:A,height:M}),rt=new r.SceneCanvas({pixelRatio:L,width:0,height:0,willReadFrequently:!0}),it=new r.HitCanvas({pixelRatio:z,width:A,height:M}),I=et.getContext(),U=it.getContext();return it.isCache=!0,et.isCache=!0,this._cache.delete(p),this._filterUpToDate=!1,b.imageSmoothingEnabled===!1&&(et.getContext()._context.imageSmoothingEnabled=!1,rt.getContext()._context.imageSmoothingEnabled=!1),I.save(),U.save(),I.translate(-G,-B),U.translate(-G,-B),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this.drawScene(et,this),this.drawHit(it,this),this._isUnderCache=!1,I.restore(),U.restore(),X&&(I.save(),I.beginPath(),I.rect(0,0,A,M),I.closePath(),I.setAttr("strokeStyle","red"),I.setAttr("lineWidth",5),I.stroke(),I.restore()),this._cache.set(p,{scene:et,filter:rt,hit:it,x:G,y:B}),this._requestDraw(),this}isCached(){return this._cache.has(p)}getClientRect(g){throw new Error('abstract "getClientRect" method call')}_transformedRect(g,b){var E=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}],A,M,L,G,B=this.getAbsoluteTransform(b);return E.forEach(function(K){var X=B.point(K);A===void 0&&(A=L=X.x,M=G=X.y),A=Math.min(A,X.x),M=Math.min(M,X.y),L=Math.max(L,X.x),G=Math.max(G,X.y)}),{x:A,y:M,width:L-A,height:G-M}}_drawCachedSceneCanvas(g){g.save(),g._applyOpacity(this),g._applyGlobalCompositeOperation(this);const b=this._getCanvasCache();g.translate(b.x,b.y);var E=this._getCachedSceneCanvas(),A=E.pixelRatio;g.drawImage(E._canvas,0,0,E.width/A,E.height/A),g.restore()}_drawCachedHitCanvas(g){var b=this._getCanvasCache(),E=b.hit;g.save(),g.translate(b.x,b.y),g.drawImage(E._canvas,0,0,E.width/E.pixelRatio,E.height/E.pixelRatio),g.restore()}_getCachedSceneCanvas(){var g=this.filters(),b=this._getCanvasCache(),E=b.scene,A=b.filter,M=A.getContext(),L,G,B,K;if(g){if(!this._filterUpToDate){var X=E.pixelRatio;A.setSize(E.width/E.pixelRatio,E.height/E.pixelRatio);try{for(L=g.length,M.clear(),M.drawImage(E._canvas,0,0,E.getWidth()/X,E.getHeight()/X),G=M.getImageData(0,0,A.getWidth(),A.getHeight()),B=0;B<L;B++){if(K=g[B],typeof K!="function"){t.Util.error("Filter should be type of function, but got "+typeof K+" instead. Please check correct filters");continue}K.call(this,G),M.putImageData(G,0,0)}}catch(z){t.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return E}on(g,b){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var E=g.split(l),A=E.length,M,L,G,B,K;for(M=0;M<A;M++)L=E[M],G=L.split("."),B=G[0],K=G[1]||"",this.eventListeners[B]||(this.eventListeners[B]=[]),this.eventListeners[B].push({name:K,handler:b});return this}off(g,b){var E=(g||"").split(l),A=E.length,M,L,G,B,K,X;if(this._cache&&this._cache.delete(o),!g)for(L in this.eventListeners)this._off(L);for(M=0;M<A;M++)if(G=E[M],B=G.split("."),K=B[0],X=B[1],K)this.eventListeners[K]&&this._off(K,X,b);else for(L in this.eventListeners)this._off(L,X,b);return this}dispatchEvent(g){var b={target:this,type:g.type,evt:g};return this.fire(g.type,b),this}addEventListener(g,b){return this.on(g,function(E){b.call(this,E.evt)}),this}removeEventListener(g){return this.off(g),this}_delegate(g,b,E){var A=this;this.on(g,function(M){for(var L=M.target.findAncestors(b,!0,A),G=0;G<L.length;G++)M=t.Util.cloneObject(M),M.currentTarget=L[G],E.call(L[G],M)})}remove(){return this.isDragging()&&this.stopDrag(),n.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var g=this.getParent();g&&g.children&&(g.children.splice(this.index,1),g._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(g){var b="get"+t.Util._capitalize(g);return t.Util._isFunction(this[b])?this[b]():this.attrs[g]}getAncestors(){for(var g=this.getParent(),b=[];g;)b.push(g),g=g.getParent();return b}getAttrs(){return this.attrs||{}}setAttrs(g){return this._batchTransformChanges(()=>{var b,E;if(!g)return this;for(b in g)b!==_&&(E=x+t.Util._capitalize(b),t.Util._isFunction(this[E])?this[E](g[b]):this._setAttr(b,g[b]))}),this}isListening(){return this._getCache(f,this._isListening)}_isListening(g){if(!this.listening())return!1;const E=this.getParent();return E&&E!==g&&this!==g?E._isListening(g):!0}isVisible(){return this._getCache(O,this._isVisible)}_isVisible(g){if(!this.visible())return!1;const E=this.getParent();return E&&E!==g&&this!==g?E._isVisible(g):!0}shouldDrawHit(g,b=!1){if(g)return this._isVisible(g)&&this._isListening(g);var E=this.getLayer(),A=!1;n.DD._dragElements.forEach(L=>{L.dragStatus==="dragging"&&(L.node.nodeType==="Stage"||L.node.getLayer()===E)&&(A=!0)});var M=!b&&!i.Konva.hitOnDragEnabled&&A;return this.isListening()&&this.isVisible()&&!M}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var g=this.getDepth(),b=this,E=0,A,M,L,G;function B(K){for(A=[],M=K.length,L=0;L<M;L++)G=K[L],E++,G.nodeType!==c&&(A=A.concat(G.getChildren().slice())),G._id===b._id&&(L=M);A.length>0&&A[0].getDepth()<=g&&B(A)}return b.nodeType!==P&&B(b.getStage().getChildren()),E}getDepth(){for(var g=0,b=this.parent;b;)g++,b=b.parent;return g}_batchTransformChanges(g){this._batchingTransformChange=!0,g(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(S),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(g){return this._batchTransformChanges(()=>{this.x(g.x),this.y(g.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var g=this.getStage().getPointerPosition();if(!g)return null;var b=this.getAbsoluteTransform().copy();return b.invert(),b.point(g)}getAbsolutePosition(g){let b=!1,E=this.parent;for(;E;){if(E.isCached()){b=!0;break}E=E.parent}b&&!g&&(g=!0);var A=this.getAbsoluteTransform(g).getMatrix(),M=new t.Transform,L=this.offset();return M.m=A.slice(),M.translate(L.x,L.y),M.getTranslation()}setAbsolutePosition(g){var b=this._clearTransform();this.attrs.x=b.x,this.attrs.y=b.y,delete b.x,delete b.y,this._clearCache(S);var E=this._getAbsoluteTransform().copy();return E.invert(),E.translate(g.x,g.y),g={x:this.attrs.x+E.getTranslation().x,y:this.attrs.y+E.getTranslation().y},this._setTransform(b),this.setPosition({x:g.x,y:g.y}),this._clearCache(S),this._clearSelfAndDescendantCache(h),this}_setTransform(g){var b;for(b in g)this.attrs[b]=g[b]}_clearTransform(){var g={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,g}move(g){var b=g.x,E=g.y,A=this.x(),M=this.y();return b!==void 0&&(A+=b),E!==void 0&&(M+=E),this.setPosition({x:A,y:M}),this}_eachAncestorReverse(g,b){var E=[],A=this.getParent(),M,L;if(!(b&&b._id===this._id)){for(E.unshift(this);A&&(!b||A._id!==b._id);)E.unshift(A),A=A.parent;for(M=E.length,L=0;L<M;L++)g(E[L])}}rotate(g){return this.rotation(this.rotation()+g),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var g=this.index,b=this.parent.getChildren().length;return g<b-1?(this.parent.children.splice(g,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var g=this.index,b=this.parent.getChildren().length;return g<b-1?(this.parent.children.splice(g,1),this.parent.children.splice(g+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.splice(g-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(g){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(g<0||g>=this.parent.children.length)&&t.Util.warn("Unexpected value "+g+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var b=this.index;return this.parent.children.splice(b,1),this.parent.children.splice(g,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var g=this.opacity(),b=this.getParent();return b&&!b._isUnderCache&&(g*=b.getAbsoluteOpacity()),g}moveTo(g){return this.getParent()!==g&&(this._remove(),g.add(this)),this}toObject(){var g={},b=this.getAttrs(),E,A,M,L,G;g.attrs={};for(E in b)A=b[E],G=t.Util.isObject(A)&&!t.Util._isPlainObject(A)&&!t.Util._isArray(A),!G&&(M=typeof this[E]=="function"&&this[E],delete b[E],L=M?M.call(this):null,b[E]=A,L!==A&&(g.attrs[E]=A));return g.className=this.getClassName(),t.Util._prepareToStringify(g)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(g,b,E){var A=[];b&&this._isMatch(g)&&A.push(this);for(var M=this.parent;M;){if(M===E)return A;M._isMatch(g)&&A.push(M),M=M.parent}return A}isAncestorOf(g){return!1}findAncestor(g,b,E){return this.findAncestors(g,b,E)[0]}_isMatch(g){if(!g)return!1;if(typeof g=="function")return g(this);var b=g.replace(/ /g,"").split(","),E=b.length,A,M;for(A=0;A<E;A++)if(M=b[A],t.Util.isValidSelector(M)||(t.Util.warn('Selector "'+M+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),M.charAt(0)==="#"){if(this.id()===M.slice(1))return!0}else if(M.charAt(0)==="."){if(this.hasName(M.slice(1)))return!0}else if(this.className===M||this.nodeType===M)return!0;return!1}getLayer(){var g=this.getParent();return g?g.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){var g=this.getParent();if(g)return g.getStage()}fire(g,b={},E){return b.target=b.target||this,E?this._fireAndBubble(g,b):this._fire(g,b),this}getAbsoluteTransform(g){return g?this._getAbsoluteTransform(g):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(g){var b;if(g)return b=new t.Transform,this._eachAncestorReverse(function(A){var M=A.transformsEnabled();M==="all"?b.multiply(A.getTransform()):M==="position"&&b.translate(A.x()-A.offsetX(),A.y()-A.offsetY())},g),b;b=this._cache.get(h)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(b):b.reset();var E=this.transformsEnabled();if(E==="all")b.multiply(this.getTransform());else if(E==="position"){const A=this.attrs.x||0,M=this.attrs.y||0,L=this.attrs.offsetX||0,G=this.attrs.offsetY||0;b.translate(A-L,M-G)}return b.dirty=!1,b}getAbsoluteScale(g){for(var b=this;b;)b._isUnderCache&&(g=b),b=b.getParent();const A=this.getAbsoluteTransform(g).decompose();return{x:A.scaleX,y:A.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(S,this._getTransform)}_getTransform(){var g,b,E=this._cache.get(S)||new t.Transform;E.reset();var A=this.x(),M=this.y(),L=i.Konva.getAngle(this.rotation()),G=(g=this.attrs.scaleX)!==null&&g!==void 0?g:1,B=(b=this.attrs.scaleY)!==null&&b!==void 0?b:1,K=this.attrs.skewX||0,X=this.attrs.skewY||0,z=this.attrs.offsetX||0,et=this.attrs.offsetY||0;return(A!==0||M!==0)&&E.translate(A,M),L!==0&&E.rotate(L),(K!==0||X!==0)&&E.skew(K,X),(G!==1||B!==1)&&E.scale(G,B),(z!==0||et!==0)&&E.translate(-1*z,-1*et),E.dirty=!1,E}clone(g){var b=t.Util.cloneObject(this.attrs),E,A,M,L,G;for(E in g)b[E]=g[E];var B=new this.constructor(b);for(E in this.eventListeners)for(A=this.eventListeners[E],M=A.length,L=0;L<M;L++)G=A[L],G.name.indexOf(m)<0&&(B.eventListeners[E]||(B.eventListeners[E]=[]),B.eventListeners[E].push(G));return B}_toKonvaCanvas(g){g=g||{};var b=this.getClientRect(),E=this.getStage(),A=g.x!==void 0?g.x:Math.floor(b.x),M=g.y!==void 0?g.y:Math.floor(b.y),L=g.pixelRatio||1,G=new r.SceneCanvas({width:g.width||Math.ceil(b.width)||(E?E.width():0),height:g.height||Math.ceil(b.height)||(E?E.height():0),pixelRatio:L}),B=G.getContext();return g.imageSmoothingEnabled===!1&&(B._context.imageSmoothingEnabled=!1),B.save(),(A||M)&&B.translate(-1*A,-1*M),this.drawScene(G),B.restore(),G}toCanvas(g){return this._toKonvaCanvas(g)._canvas}toDataURL(g){g=g||{};var b=g.mimeType||null,E=g.quality||null,A=this._toKonvaCanvas(g).toDataURL(b,E);return g.callback&&g.callback(A),A}toImage(g){return new Promise((b,E)=>{try{const A=g==null?void 0:g.callback;A&&delete g.callback,t.Util._urlToImage(this.toDataURL(g),function(M){b(M),A==null||A(M)})}catch(A){E(A)}})}toBlob(g){return new Promise((b,E)=>{try{const A=g==null?void 0:g.callback;A&&delete g.callback,this.toCanvas(g).toBlob(M=>{b(M),A==null||A(M)})}catch(A){E(A)}})}setSize(g){return this.width(g.width),this.height(g.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(g,b,E){var A=this.eventListeners[g],M,L,G;for(M=0;M<A.length;M++)if(L=A[M].name,G=A[M].handler,(L!=="konva"||b==="konva")&&(!b||L===b)&&(!E||E===G)){if(A.splice(M,1),A.length===0){delete this.eventListeners[g];break}M--}}_fireChangeEvent(g,b,E){this._fire(g+d,{oldVal:b,newVal:E})}addName(g){if(!this.hasName(g)){var b=this.name(),E=b?b+" "+g:g;this.name(E)}return this}hasName(g){if(!g)return!1;const b=this.name();if(!b)return!1;var E=(b||"").split(/\s/g);return E.indexOf(g)!==-1}removeName(g){var b=(this.name()||"").split(/\s/g),E=b.indexOf(g);return E!==-1&&(b.splice(E,1),this.name(b.join(" "))),this}setAttr(g,b){var E=this[x+t.Util._capitalize(g)];return t.Util._isFunction(E)?E.call(this,b):this._setAttr(g,b),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const g=this.getLayer()||this.getStage();g==null||g.batchDraw()}}_setAttr(g,b){var E=this.attrs[g];E===b&&!t.Util.isObject(b)||(b==null?delete this.attrs[g]:this.attrs[g]=b,this._shouldFireChangeEvents&&this._fireChangeEvent(g,E,b),this._requestDraw())}_setComponentAttr(g,b,E){var A;E!==void 0&&(A=this.attrs[g],A||(this.attrs[g]=this.getAttr(g)),this.attrs[g][b]=E,this._fireChangeEvent(g,A,E))}_fireAndBubble(g,b,E){b&&this.nodeType===c&&(b.target=this);var A=(g===y||g===C)&&(E&&(this===E||this.isAncestorOf&&this.isAncestorOf(E))||this.nodeType==="Stage"&&!E);if(!A){this._fire(g,b);var M=(g===y||g===C)&&E&&E.isAncestorOf&&E.isAncestorOf(this)&&!E.isAncestorOf(this.parent);(b&&!b.cancelBubble||!b)&&this.parent&&this.parent.isListening()&&!M&&(E&&E.parent?this._fireAndBubble.call(this.parent,g,b,E):this._fireAndBubble.call(this.parent,g,b))}}_getProtoListeners(g){var b,E,A;const M=(b=this._cache.get(o))!==null&&b!==void 0?b:{};let L=M==null?void 0:M[g];if(L===void 0){L=[];let G=Object.getPrototypeOf(this);for(;G;){const B=(A=(E=G.eventListeners)===null||E===void 0?void 0:E[g])!==null&&A!==void 0?A:[];L.push(...B),G=Object.getPrototypeOf(G)}M[g]=L,this._cache.set(o,M)}return L}_fire(g,b){b=b||{},b.currentTarget=this,b.type=g;const E=this._getProtoListeners(g);if(E)for(var A=0;A<E.length;A++)E[A].handler.call(this,b);const M=this.eventListeners[g];if(M)for(var A=0;A<M.length;A++)M[A].handler.call(this,b)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(g){var b=g?g.pointerId:void 0,E=this.getStage(),A=this.getAbsolutePosition(),M=E._getPointerById(b)||E._changedPointerPositions[0]||A;n.DD._dragElements.set(this._id,{node:this,startPointerPos:M,offset:{x:M.x-A.x,y:M.y-A.y},dragStatus:"ready",pointerId:b})}startDrag(g,b=!0){n.DD._dragElements.has(this._id)||this._createDragElement(g);const E=n.DD._dragElements.get(this._id);E.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:g&&g.evt},b)}_setDragPosition(g,b){const E=this.getStage()._getPointerById(b.pointerId);if(E){var A={x:E.x-b.offset.x,y:E.y-b.offset.y},M=this.dragBoundFunc();if(M!==void 0){const L=M.call(this,A,g);L?A=L:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==A.x||this._lastPos.y!==A.y)&&(this.setAbsolutePosition(A),this._requestDraw()),this._lastPos=A}}stopDrag(g){const b=n.DD._dragElements.get(this._id);b&&(b.dragStatus="stopped"),n.DD._endDragBefore(g),n.DD._endDragAfter(g)}setDraggable(g){this._setAttr("draggable",g),this._dragChange()}isDragging(){const g=n.DD._dragElements.get(this._id);return g?g.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(g){var b=g.evt.button!==void 0,E=!b||i.Konva.dragButtons.indexOf(g.evt.button)>=0;if(E&&!this.isDragging()){var A=!1;n.DD._dragElements.forEach(M=>{this.isAncestorOf(M.node)&&(A=!0)}),A||this._createDragElement(g)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var g=this.getStage();if(!g)return;const b=n.DD._dragElements.get(this._id),E=b&&b.dragStatus==="dragging",A=b&&b.dragStatus==="ready";E?this.stopDrag():A&&n.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(g={x:0,y:0}){const b=this.getStage();if(!b)return!1;const E={x:-g.x,y:-g.y,width:b.width()+2*g.x,height:b.height()+2*g.y};return t.Util.haveIntersection(E,this.getClientRect())}static create(g,b){return t.Util._isString(g)&&(g=JSON.parse(g)),this._createNode(g,b)}static _createNode(g,b){var E=Rs.prototype.getClassName.call(g),A=g.children,M,L,G;b&&(g.attrs.container=b),i.Konva[E]||(t.Util.warn('Can not find a node with class name "'+E+'". Fallback to "Shape".'),E="Shape");const B=i.Konva[E];if(M=new B(g.attrs),A)for(L=A.length,G=0;G<L;G++)M.add(Rs._createNode(A[G]));return M}};Or.Node=T,T.prototype.nodeType="Node",T.prototype._attrsAffectingSize=[],T.prototype.eventListeners={},T.prototype.on.call(T.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(S),this._clearSelfAndDescendantCache(h)}),T.prototype.on.call(T.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(O)}),T.prototype.on.call(T.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(f)}),T.prototype.on.call(T.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const R=e.Factory.addGetterSetter;return R(T,"zIndex"),R(T,"absolutePosition"),R(T,"position"),R(T,"x",0,(0,s.getNumberValidator)()),R(T,"y",0,(0,s.getNumberValidator)()),R(T,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),R(T,"opacity",1,(0,s.getNumberValidator)()),R(T,"name","",(0,s.getStringValidator)()),R(T,"id","",(0,s.getStringValidator)()),R(T,"rotation",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(T,"scale",["x","y"]),R(T,"scaleX",1,(0,s.getNumberValidator)()),R(T,"scaleY",1,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(T,"skew",["x","y"]),R(T,"skewX",0,(0,s.getNumberValidator)()),R(T,"skewY",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(T,"offset",["x","y"]),R(T,"offsetX",0,(0,s.getNumberValidator)()),R(T,"offsetY",0,(0,s.getNumberValidator)()),R(T,"dragDistance",null,(0,s.getNumberValidator)()),R(T,"width",0,(0,s.getNumberValidator)()),R(T,"height",0,(0,s.getNumberValidator)()),R(T,"listening",!0,(0,s.getBooleanValidator)()),R(T,"preventDefault",!0,(0,s.getBooleanValidator)()),R(T,"filters",null,function(N){return this._filterUpToDate=!1,N}),R(T,"visible",!0,(0,s.getBooleanValidator)()),R(T,"transformsEnabled","all",(0,s.getStringValidator)()),R(T,"size"),R(T,"dragBoundFunc"),R(T,"draggable",!1,(0,s.getBooleanValidator)()),e.Factory.backCompat(T,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Or}var Nr={},vo;function Hn(){if(vo)return Nr;vo=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Container=void 0;const t=gt(),e=Ft(),r=_t();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const a=this.children||[];var o=[];return a.forEach(function(h){s(h)&&o.push(h)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(var a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){var a=this._generalFind(s,!0);return a.length>0?a[0]:void 0}_generalFind(s,a){var o=[];return this._descendants(h=>{const u=h._isMatch(s);return u&&o.push(h),!!(u&&a)}),o}_descendants(s){let a=!1;const o=this.getChildren();for(const h of o){if(a=s(h),a)return!0;if(h.hasChildren()&&(a=h._descendants(s),a))return!0}return!1}toObject(){var s=e.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(a=>{s.children.push(a.toObject())}),s}isAncestorOf(s){for(var a=s.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(s){var a=e.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(o){a.add(o.clone())}),a}getAllIntersections(s){var a=[];return this.find("Shape").forEach(function(o){o.isVisible()&&o.intersects(s)&&a.push(o)}),a}_clearSelfAndDescendantCache(s){var a;super._clearSelfAndDescendantCache(s),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(o){o._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(a,o){a.index=o}),this._requestDraw()}drawScene(s,a){var o=this.getLayer(),h=s||o&&o.getCanvas(),u=h&&h.getContext(),p=this._getCanvasCache(),d=p&&p.scene,_=h&&h.isCache;if(!this.isVisible()&&!_)return this;if(d){u.save();var m=this.getAbsoluteTransform(a).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",h,a);return this}drawHit(s,a){if(!this.shouldDrawHit(a))return this;var o=this.getLayer(),h=s||o&&o.hitCanvas,u=h&&h.getContext(),p=this._getCanvasCache(),d=p&&p.hit;if(d){u.save();var _=this.getAbsoluteTransform(a).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",h,a);return this}_drawChildren(s,a,o){var h,u=a&&a.getContext(),p=this.clipWidth(),d=this.clipHeight(),_=this.clipFunc(),m=p&&d||_;const f=o===this;if(m){u.save();var y=this.getAbsoluteTransform(o),C=y.getMatrix();if(u.transform(C[0],C[1],C[2],C[3],C[4],C[5]),u.beginPath(),_)_.call(this,u,this);else{var x=this.clipX(),c=this.clipY();u.rect(x,c,p,d)}u.clip(),C=y.copy().invert().getMatrix(),u.transform(C[0],C[1],C[2],C[3],C[4],C[5])}var l=!f&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";l&&(u.save(),u._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(v){v[s](a,o)}),l&&u.restore(),m&&u.restore()}getClientRect(s){var a;s=s||{};var o=s.skipTransform,h=s.relativeTo,u,p,d,_,m={x:1/0,y:1/0,width:0,height:0},f=this;(a=this.children)===null||a===void 0||a.forEach(function(l){if(l.visible()){var v=l.getClientRect({relativeTo:f,skipShadow:s.skipShadow,skipStroke:s.skipStroke});v.width===0&&v.height===0||(u===void 0?(u=v.x,p=v.y,d=v.x+v.width,_=v.y+v.height):(u=Math.min(u,v.x),p=Math.min(p,v.y),d=Math.max(d,v.x+v.width),_=Math.max(_,v.y+v.height)))}});for(var y=this.find("Shape"),C=!1,x=0;x<y.length;x++){var c=y[x];if(c._isVisible(this)){C=!0;break}}return C&&u!==void 0?m={x:u,y:p,width:d-u,height:_-p}:m={x:0,y:0,width:0,height:0},o?m:this._transformedRect(m,h)}};return Nr.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),Nr}var rs={},Jt={},yo;function vc(){if(yo)return Jt;yo=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.releaseCapture=Jt.setPointerCapture=Jt.hasPointerCapture=Jt.createEvent=Jt.getCapturedShape=void 0;const t=mt(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function i(h){return e.get(h)}Jt.getCapturedShape=i;function n(h){return{evt:h,pointerId:h.pointerId}}Jt.createEvent=n;function s(h,u){return e.get(h)===u}Jt.hasPointerCapture=s;function a(h,u){o(h),u.getStage()&&(e.set(h,u),r&&u._fire("gotpointercapture",n(new PointerEvent("gotpointercapture"))))}Jt.setPointerCapture=a;function o(h,u){const p=e.get(h);if(!p)return;const d=p.getStage();d&&d.content,e.delete(h),r&&p._fire("lostpointercapture",n(new PointerEvent("lostpointercapture")))}return Jt.releaseCapture=o,Jt}var bo;function T1(){return bo||(bo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Nt(),r=gt(),i=Hn(),n=mt(),s=Vn(),a=ca(),o=mt(),h=vc();var u="Stage",p="string",d="px",_="mouseout",m="mouseleave",f="mouseover",y="mouseenter",C="mousemove",x="mousedown",c="mouseup",l="pointermove",v="pointerdown",S="pointerup",P="pointercancel",O="lostpointercapture",w="pointerout",k="pointerleave",T="pointerover",R="pointerenter",N="contextmenu",g="touchstart",b="touchend",E="touchmove",A="touchcancel",M="wheel",L=5,G=[[y,"_pointerenter"],[x,"_pointerdown"],[C,"_pointermove"],[c,"_pointerup"],[m,"_pointerleave"],[g,"_pointerdown"],[E,"_pointermove"],[b,"_pointerup"],[A,"_pointercancel"],[f,"_pointerover"],[M,"_wheel"],[N,"_contextmenu"],[v,"_pointerdown"],[l,"_pointermove"],[S,"_pointerup"],[P,"_pointercancel"],[O,"_lostpointercapture"]];const B={mouse:{[w]:_,[k]:m,[T]:f,[R]:y,[l]:C,[v]:x,[S]:c,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[k]:"touchleave",[T]:"touchover",[R]:"touchenter",[l]:E,[v]:g,[S]:b,[P]:A,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[k]:k,[T]:T,[R]:R,[l]:l,[v]:v,[S]:S,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=it=>it.indexOf("pointer")>=0?"pointer":it.indexOf("touch")>=0?"touch":"mouse",X=it=>{const I=K(it);if(I==="pointer")return n.Konva.pointerEventsEnabled&&B.pointer;if(I==="touch")return B.touch;if(I==="mouse")return B.mouse};function z(it={}){return(it.clipFunc||it.clipWidth||it.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),it}const et="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class rt extends i.Container{constructor(I){super(z(I)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{z(this.attrs)}),this._checkVisibility()}_validateAdd(I){const U=I.getType()==="Layer",Y=I.getType()==="FastLayer";U||Y||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const I=this.visible()?"":"none";this.content.style.display=I}setContainer(I){if(typeof I===p){if(I.charAt(0)==="."){var U=I.slice(1);I=document.getElementsByClassName(U)[0]}else{var Y;I.charAt(0)!=="#"?Y=I:Y=I.slice(1),I=document.getElementById(Y)}if(!I)throw"Can not find container in document with id "+Y}return this._setAttr("container",I),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),I.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var I=this.children,U=I.length,Y;for(Y=0;Y<U;Y++)I[Y].clear();return this}clone(I){return I||(I={}),I.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,I)}destroy(){super.destroy();var I=this.content;I&&e.Util._isInDocument(I)&&this.container().removeChild(I);var U=t.stages.indexOf(this);return U>-1&&t.stages.splice(U,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const I=this._pointerPositions[0]||this._changedPointerPositions[0];return I?{x:I.x,y:I.y}:(e.Util.warn(et),null)}_getPointerById(I){return this._pointerPositions.find(U=>U.id===I)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(I){I=I||{},I.x=I.x||0,I.y=I.y||0,I.width=I.width||this.width(),I.height=I.height||this.height();var U=new s.SceneCanvas({width:I.width,height:I.height,pixelRatio:I.pixelRatio||1}),Y=U.getContext()._context,ht=this.children;return(I.x||I.y)&&Y.translate(-1*I.x,-1*I.y),ht.forEach(function(ot){if(ot.isVisible()){var F=ot._toKonvaCanvas(I);Y.drawImage(F._canvas,I.x,I.y,F.getWidth()/F.getPixelRatio(),F.getHeight()/F.getPixelRatio())}}),U}getIntersection(I){if(!I)return null;var U=this.children,Y=U.length,ht=Y-1,ot;for(ot=ht;ot>=0;ot--){const F=U[ot].getIntersection(I);if(F)return F}return null}_resizeDOM(){var I=this.width(),U=this.height();this.content&&(this.content.style.width=I+d,this.content.style.height=U+d),this.bufferCanvas.setSize(I,U),this.bufferHitCanvas.setSize(I,U),this.children.forEach(Y=>{Y.setSize({width:I,height:U}),Y.draw()})}add(I,...U){if(arguments.length>1){for(var Y=0;Y<arguments.length;Y++)this.add(arguments[Y]);return this}super.add(I);var ht=this.children.length;return ht>L&&e.Util.warn("The stage has "+ht+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),I.setSize({width:this.width(),height:this.height()}),I.draw(),n.Konva.isBrowser&&this.content.appendChild(I.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(I){return h.hasPointerCapture(I,this)}setPointerCapture(I){h.setPointerCapture(I,this)}releaseCapture(I){h.releaseCapture(I,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&G.forEach(([I,U])=>{this.content.addEventListener(I,Y=>{this[U](Y)},{passive:!1})})}_pointerenter(I){this.setPointersPositions(I);const U=X(I.type);this._fire(U.pointerenter,{evt:I,target:this,currentTarget:this})}_pointerover(I){this.setPointersPositions(I);const U=X(I.type);this._fire(U.pointerover,{evt:I,target:this,currentTarget:this})}_getTargetShape(I){let U=this[I+"targetShape"];return U&&!U.getStage()&&(U=null),U}_pointerleave(I){const U=X(I.type),Y=K(I.type);if(U){this.setPointersPositions(I);var ht=this._getTargetShape(Y),ot=!a.DD.isDragging||n.Konva.hitOnDragEnabled;ht&&ot?(ht._fireAndBubble(U.pointerout,{evt:I}),ht._fireAndBubble(U.pointerleave,{evt:I}),this._fire(U.pointerleave,{evt:I,target:this,currentTarget:this}),this[Y+"targetShape"]=null):ot&&(this._fire(U.pointerleave,{evt:I,target:this,currentTarget:this}),this._fire(U.pointerout,{evt:I,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(I){const U=X(I.type),Y=K(I.type);if(U){this.setPointersPositions(I);var ht=!1;this._changedPointerPositions.forEach(ot=>{var F=this.getIntersection(ot);if(a.DD.justDragged=!1,n.Konva["_"+Y+"ListenClick"]=!0,!(F&&F.isListening()))return;n.Konva.capturePointerEventsEnabled&&F.setPointerCapture(ot.id),this[Y+"ClickStartShape"]=F,F._fireAndBubble(U.pointerdown,{evt:I,pointerId:ot.id}),ht=!0;const V=I.type.indexOf("touch")>=0;F.preventDefault()&&I.cancelable&&V&&I.preventDefault()}),ht||this._fire(U.pointerdown,{evt:I,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(I){const U=X(I.type),Y=K(I.type);if(!U)return;a.DD.isDragging&&a.DD.node.preventDefault()&&I.cancelable&&I.preventDefault(),this.setPointersPositions(I);var ht=!a.DD.isDragging||n.Konva.hitOnDragEnabled;if(!ht)return;var ot={};let F=!1;var D=this._getTargetShape(Y);this._changedPointerPositions.forEach(V=>{const H=h.getCapturedShape(V.id)||this.getIntersection(V),q=V.id,j={evt:I,pointerId:q};var J=D!==H;if(J&&D&&(D._fireAndBubble(U.pointerout,Object.assign({},j),H),D._fireAndBubble(U.pointerleave,Object.assign({},j),H)),H){if(ot[H._id])return;ot[H._id]=!0}H&&H.isListening()?(F=!0,J&&(H._fireAndBubble(U.pointerover,Object.assign({},j),D),H._fireAndBubble(U.pointerenter,Object.assign({},j),D),this[Y+"targetShape"]=H),H._fireAndBubble(U.pointermove,Object.assign({},j))):D&&(this._fire(U.pointerover,{evt:I,target:this,currentTarget:this,pointerId:q}),this[Y+"targetShape"]=null)}),F||this._fire(U.pointermove,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(I){const U=X(I.type),Y=K(I.type);if(!U)return;this.setPointersPositions(I);const ht=this[Y+"ClickStartShape"],ot=this[Y+"ClickEndShape"];var F={};let D=!1;this._changedPointerPositions.forEach(V=>{const H=h.getCapturedShape(V.id)||this.getIntersection(V);if(H){if(H.releaseCapture(V.id),F[H._id])return;F[H._id]=!0}const q=V.id,j={evt:I,pointerId:q};let J=!1;n.Konva["_"+Y+"InDblClickWindow"]?(J=!0,clearTimeout(this[Y+"DblTimeout"])):a.DD.justDragged||(n.Konva["_"+Y+"InDblClickWindow"]=!0,clearTimeout(this[Y+"DblTimeout"])),this[Y+"DblTimeout"]=setTimeout(function(){n.Konva["_"+Y+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),H&&H.isListening()?(D=!0,this[Y+"ClickEndShape"]=H,H._fireAndBubble(U.pointerup,Object.assign({},j)),n.Konva["_"+Y+"ListenClick"]&&ht&&ht===H&&(H._fireAndBubble(U.pointerclick,Object.assign({},j)),J&&ot&&ot===H&&H._fireAndBubble(U.pointerdblclick,Object.assign({},j)))):(this[Y+"ClickEndShape"]=null,n.Konva["_"+Y+"ListenClick"]&&this._fire(U.pointerclick,{evt:I,target:this,currentTarget:this,pointerId:q}),J&&this._fire(U.pointerdblclick,{evt:I,target:this,currentTarget:this,pointerId:q}))}),D||this._fire(U.pointerup,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+Y+"ListenClick"]=!1,I.cancelable&&Y!=="touch"&&I.preventDefault()}_contextmenu(I){this.setPointersPositions(I);var U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(N,{evt:I}):this._fire(N,{evt:I,target:this,currentTarget:this})}_wheel(I){this.setPointersPositions(I);var U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(M,{evt:I}):this._fire(M,{evt:I,target:this,currentTarget:this})}_pointercancel(I){this.setPointersPositions(I);const U=h.getCapturedShape(I.pointerId)||this.getIntersection(this.getPointerPosition());U&&U._fireAndBubble(S,h.createEvent(I)),h.releaseCapture(I.pointerId)}_lostpointercapture(I){h.releaseCapture(I.pointerId)}setPointersPositions(I){var U=this._getContentPosition(),Y=null,ht=null;I=I||window.event,I.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(I.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-U.left)/U.scaleX,y:(ot.clientY-U.top)/U.scaleY})}),Array.prototype.forEach.call(I.changedTouches||I.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-U.left)/U.scaleX,y:(ot.clientY-U.top)/U.scaleY})})):(Y=(I.clientX-U.left)/U.scaleX,ht=(I.clientY-U.top)/U.scaleY,this.pointerPos={x:Y,y:ht},this._pointerPositions=[{x:Y,y:ht,id:e.Util._getFirstPointerId(I)}],this._changedPointerPositions=[{x:Y,y:ht,id:e.Util._getFirstPointerId(I)}])}_setPointerPosition(I){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(I)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var I=this.content.getBoundingClientRect();return{top:I.top,left:I.left,scaleX:I.width/this.content.clientWidth||1,scaleY:I.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var I=this.container();if(!I)throw"Stage has no container. A container is required.";I.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),I.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(I){I.batchDraw()}),this}}t.Stage=rt,rt.prototype.nodeType=u,(0,o._registerNode)(rt),r.Factory.addGetterSetter(rt,"container")}(rs)),rs}var Fr={},is={},Co;function Lt(){return Co||(Co=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=mt(),r=Nt(),i=gt(),n=Ft(),s=_t(),a=mt(),o=vc();var h="hasShadow",u="shadowRGBA",p="patternImage",d="linearGradient",_="radialGradient";let m;function f(){return m||(m=r.Util.createCanvasElement().getContext("2d"),m)}t.shapes={};function y(k){k.fill()}function C(k){k.stroke()}function x(k){k.fill()}function c(k){k.stroke()}function l(){this._clearCache(h)}function v(){this._clearCache(u)}function S(){this._clearCache(p)}function P(){this._clearCache(d)}function O(){this._clearCache(_)}class w extends n.Node{constructor(T){super(T);let R;for(;R=r.Util.getRandomColor(),!(R&&!(R in t.shapes)););this.colorKey=R,t.shapes[R]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var T=f();const R=T.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(R&&R.setTransform){const N=new r.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(e.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const g=N.getMatrix(),b=typeof DOMMatrix>"u"?{a:g[0],b:g[1],c:g[2],d:g[3],e:g[4],f:g[5]}:new DOMMatrix(g);R.setTransform(b)}return R}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){var T=this.fillLinearGradientColorStops();if(T){for(var R=f(),N=this.fillLinearGradientStartPoint(),g=this.fillLinearGradientEndPoint(),b=R.createLinearGradient(N.x,N.y,g.x,g.y),E=0;E<T.length;E+=2)b.addColorStop(T[E],T[E+1]);return b}}_getRadialGradient(){return this._getCache(_,this.__getRadialGradient)}__getRadialGradient(){var T=this.fillRadialGradientColorStops();if(T){for(var R=f(),N=this.fillRadialGradientStartPoint(),g=this.fillRadialGradientEndPoint(),b=R.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),g.x,g.y,this.fillRadialGradientEndRadius()),E=0;E<T.length;E+=2)b.addColorStop(T[E],T[E+1]);return b}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var T=r.Util.colorToRGBA(this.shadowColor());if(T)return"rgba("+T.r+","+T.g+","+T.b+","+T.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const T=this.hitStrokeWidth();return T==="auto"?this.hasStroke():this.strokeEnabled()&&!!T}intersects(T){var R=this.getStage(),N=R.bufferHitCanvas,g;return N.getContext().clear(),this.drawHit(N,null,!0),g=N.context.getImageData(Math.round(T.x),Math.round(T.y),1,1).data,g[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(T){var R;if(!this.getStage()||!((R=this.attrs.perfectDrawEnabled)!==null&&R!==void 0?R:!0))return!1;const g=T||this.hasFill(),b=this.hasStroke(),E=this.getAbsoluteOpacity()!==1;if(g&&b&&E)return!0;const A=this.hasShadow(),M=this.shadowForStrokeEnabled();return!!(g&&b&&A&&M)}setStrokeHitEnabled(T){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),T?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var T=this.size();return{x:this._centroid?-T.width/2:0,y:this._centroid?-T.height/2:0,width:T.width,height:T.height}}getClientRect(T={}){const R=T.skipTransform,N=T.relativeTo,g=this.getSelfRect(),E=!T.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,A=g.width+E,M=g.height+E,L=!T.skipShadow&&this.hasShadow(),G=L?this.shadowOffsetX():0,B=L?this.shadowOffsetY():0,K=A+Math.abs(G),X=M+Math.abs(B),z=L&&this.shadowBlur()||0,et=K+z*2,rt=X+z*2,it={width:et,height:rt,x:-(E/2+z)+Math.min(G,0)+g.x,y:-(E/2+z)+Math.min(B,0)+g.y};return R?it:this._transformedRect(it,N)}drawScene(T,R){var N=this.getLayer(),g=T||N.getCanvas(),b=g.getContext(),E=this._getCanvasCache(),A=this.getSceneFunc(),M=this.hasShadow(),L,G,B,K=g.isCache,X=R===this;if(!this.isVisible()&&!X)return this;if(E){b.save();var z=this.getAbsoluteTransform(R).getMatrix();return b.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedSceneCanvas(b),b.restore(),this}if(!A)return this;if(b.save(),this._useBufferCanvas()&&!K){L=this.getStage(),G=L.bufferCanvas,B=G.getContext(),B.clear(),B.save(),B._applyLineJoin(this);var et=this.getAbsoluteTransform(R).getMatrix();B.transform(et[0],et[1],et[2],et[3],et[4],et[5]),A.call(this,B,this),B.restore();var rt=G.pixelRatio;M&&b._applyShadow(this),b._applyOpacity(this),b._applyGlobalCompositeOperation(this),b.drawImage(G._canvas,0,0,G.width/rt,G.height/rt)}else{if(b._applyLineJoin(this),!X){var et=this.getAbsoluteTransform(R).getMatrix();b.transform(et[0],et[1],et[2],et[3],et[4],et[5]),b._applyOpacity(this),b._applyGlobalCompositeOperation(this)}M&&b._applyShadow(this),A.call(this,b,this)}return b.restore(),this}drawHit(T,R,N=!1){if(!this.shouldDrawHit(R,N))return this;var g=this.getLayer(),b=T||g.hitCanvas,E=b&&b.getContext(),A=this.hitFunc()||this.sceneFunc(),M=this._getCanvasCache(),L=M&&M.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){E.save();var G=this.getAbsoluteTransform(R).getMatrix();return E.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(E),E.restore(),this}if(!A)return this;if(E.save(),E._applyLineJoin(this),!(this===R)){var K=this.getAbsoluteTransform(R).getMatrix();E.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return A.call(this,E,this),E.restore(),this}drawHitFromCache(T=0){var R=this._getCanvasCache(),N=this._getCachedSceneCanvas(),g=R.hit,b=g.getContext(),E=g.getWidth(),A=g.getHeight(),M,L,G,B,K,X;b.clear(),b.drawImage(N._canvas,0,0,E,A);try{for(M=b.getImageData(0,0,E,A),L=M.data,G=L.length,B=r.Util._hexToRgb(this.colorKey),K=0;K<G;K+=4)X=L[K+3],X>T?(L[K]=B.r,L[K+1]=B.g,L[K+2]=B.b,L[K+3]=255):L[K+3]=0;b.putImageData(M,0,0)}catch(z){r.Util.error("Unable to draw hit graph from cached scene canvas. "+z.message)}return this}hasPointerCapture(T){return o.hasPointerCapture(T,this)}setPointerCapture(T){o.setPointerCapture(T,this)}releaseCapture(T){o.releaseCapture(T,this)}}t.Shape=w,w.prototype._fillFunc=y,w.prototype._strokeFunc=C,w.prototype._fillFuncHit=x,w.prototype._strokeFuncHit=c,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,a._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",O),i.Factory.addGetterSetter(w,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"lineJoin"),i.Factory.addGetterSetter(w,"lineCap"),i.Factory.addGetterSetter(w,"sceneFunc"),i.Factory.addGetterSetter(w,"hitFunc"),i.Factory.addGetterSetter(w,"dash"),i.Factory.addGetterSetter(w,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(w,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternImage"),i.Factory.addGetterSetter(w,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(w,"fillEnabled",!0),i.Factory.addGetterSetter(w,"strokeEnabled",!0),i.Factory.addGetterSetter(w,"shadowEnabled",!0),i.Factory.addGetterSetter(w,"dashEnabled",!0),i.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(w,"fillPriority","color"),i.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(w,"fillPatternRotation",0),i.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(is)),is}var So;function yc(){if(So)return Fr;So=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Layer=void 0;const t=Nt(),e=Hn(),r=Ft(),i=gt(),n=Vn(),s=_t(),a=Lt(),o=mt();var h="#",u="beforeDraw",p="draw",d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],_=d.length;let m=class extends e.Container{constructor(y){super(y),this.canvas=new n.SceneCanvas,this.hitCanvas=new n.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),y<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[y+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:C}){return this.canvas.setSize(y,C),this.hitCanvas.setSize(y,C),this._setSmoothEnabled(),this}_validateAdd(y){var C=y.getType();C!=="Group"&&C!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var C=1,x=!1;;){for(let c=0;c<_;c++){const l=d[c],v=this._getIntersection({x:y.x+l.x*C,y:y.y+l.y*C}),S=v.shape;if(S)return S;if(x=!!v.antialiased,!v.antialiased)break}if(x)C+=1;else return null}}_getIntersection(y){const C=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*C),Math.round(y.y*C),1,1).data,c=x[3];if(c===255){const l=t.Util._rgbToHex(x[0],x[1],x[2]),v=a.shapes[h+l];return v?{shape:v}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(y,C){var x=this.getLayer(),c=y||x&&x.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),e.Container.prototype.drawScene.call(this,c,C),this._fire(p,{node:this}),this}drawHit(y,C){var x=this.getLayer(),c=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,c,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,C=!!this.hitCanvas._canvas.parentNode;C?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Fr.Layer=m,m.prototype.nodeType="Layer",(0,o._registerNode)(m),i.Factory.addGetterSetter(m,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(m,"clearBeforeDraw",!0),i.Factory.addGetterSetter(m,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Fr}var Mr={},wo;function E1(){if(wo)return Mr;wo=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FastLayer=void 0;const t=Nt(),e=yc(),r=mt();let i=class extends e.Layer{constructor(s){super(s),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Mr.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),Mr}var Ir={},xo;function ua(){if(xo)return Ir;xo=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Group=void 0;const t=Nt(),e=Hn(),r=mt();let i=class extends e.Container{_validateAdd(s){var a=s.getType();a!=="Group"&&a!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Ir.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),Ir}var Lr={},To;function da(){if(To)return Lr;To=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Animation=void 0;const t=mt(),e=Nt();var r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class hr{constructor(s,a){this.id=hr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=s,this.setLayers(a)}setLayers(s){var a=[];return s?s.length>0?a=s:a=[s]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(s){var a=this.layers,o=a.length,h;for(h=0;h<o;h++)if(a[h]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){var s=hr,a=s.animations,o=a.length,h;for(h=0;h<o;h++)if(a[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),hr._addAnimation(this),this}stop(){return hr._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){var a=s.id,o=this.animations,h=o.length,u;for(u=0;u<h;u++)if(o[u].id===a){this.animations.splice(u,1);break}}static _runFrames(){var s={},a=this.animations,o,h,u,p,d,_,m,f,y;for(p=0;p<a.length;p++)if(o=a[p],h=o.layers,u=o.func,o._updateFrameObject(r()),_=h.length,u?y=u.call(o,o.frame)!==!1:y=!0,!!y)for(d=0;d<_;d++)m=h[d],m._id!==void 0&&(s[m._id]=m);for(f in s)s.hasOwnProperty(f)&&s[f].batchDraw()}static _animationLoop(){var s=hr;s.animations.length?(s._runFrames(),e.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return i.animations=[],i.animIdCounter=0,i.animRunning=!1,Lr.Animation=i,Lr}var ns={},Eo;function P1(){return Eo||(Eo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Nt(),r=da(),i=Ft(),n=mt();var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,h=3,u=0,p=["fill","stroke","shadowColor"];class d{constructor(f,y,C,x,c,l,v){this.prop=f,this.propFunc=y,this.begin=x,this._pos=x,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=c-this.begin,this.pause()}fire(f){var y=this[f];y&&y()}setTime(f){f>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():f<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=f,this.update())}getTime(){return this._time}setPosition(f){this.prevPos=this._pos,this.propFunc(f),this._pos=f}getPosition(f){return f===void 0&&(f=this._time),this.func(f,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(f){this.pause(),this._time=f,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var f=this.getTimer()-this._startTime;this.state===o?this.setTime(f):this.state===h&&this.setTime(this.duration-f)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class _{constructor(f){var y=this,C=f.node,x=C._id,c,l=f.easing||t.Easings.Linear,v=!!f.yoyo,S;typeof f.duration>"u"?c=.3:f.duration===0?c=.001:c=f.duration,this.node=C,this._id=u++;var P=C.getLayer()||(C instanceof n.Konva.Stage?C.getLayers():null);P||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},P),this.tween=new d(S,function(O){y._tweenFunc(O)},l,0,1,c*1e3,v),this._addListeners(),_.attrs[x]||(_.attrs[x]={}),_.attrs[x][this._id]||(_.attrs[x][this._id]={}),_.tweens[x]||(_.tweens[x]={});for(S in f)s[S]===void 0&&this._addAttr(S,f[S]);this.reset(),this.onFinish=f.onFinish,this.onReset=f.onReset,this.onUpdate=f.onUpdate}_addAttr(f,y){var C=this.node,x=C._id,c,l,v,S,P,O,w,k;if(v=_.tweens[x][f],v&&delete _.attrs[x][v][f],c=C.getAttr(f),e.Util._isArray(y))if(l=[],P=Math.max(y.length,c.length),f==="points"&&y.length!==c.length&&(y.length>c.length?(w=c,c=e.Util._prepareArrayForTween(c,y,C.closed())):(O=y,y=e.Util._prepareArrayForTween(y,c,C.closed()))),f.indexOf("fill")===0)for(S=0;S<P;S++)if(S%2===0)l.push(y[S]-c[S]);else{var T=e.Util.colorToRGBA(c[S]);k=e.Util.colorToRGBA(y[S]),c[S]=T,l.push({r:k.r-T.r,g:k.g-T.g,b:k.b-T.b,a:k.a-T.a})}else for(S=0;S<P;S++)l.push(y[S]-c[S]);else p.indexOf(f)!==-1?(c=e.Util.colorToRGBA(c),k=e.Util.colorToRGBA(y),l={r:k.r-c.r,g:k.g-c.g,b:k.b-c.b,a:k.a-c.a}):l=y-c;_.attrs[x][this._id][f]={start:c,diff:l,end:y,trueEnd:O,trueStart:w},_.tweens[x][f]=this._id}_tweenFunc(f){var y=this.node,C=_.attrs[y._id][this._id],x,c,l,v,S,P,O,w;for(x in C){if(c=C[x],l=c.start,v=c.diff,w=c.end,e.Util._isArray(l))if(S=[],O=Math.max(l.length,w.length),x.indexOf("fill")===0)for(P=0;P<O;P++)P%2===0?S.push((l[P]||0)+v[P]*f):S.push("rgba("+Math.round(l[P].r+v[P].r*f)+","+Math.round(l[P].g+v[P].g*f)+","+Math.round(l[P].b+v[P].b*f)+","+(l[P].a+v[P].a*f)+")");else for(P=0;P<O;P++)S.push((l[P]||0)+v[P]*f);else p.indexOf(x)!==-1?S="rgba("+Math.round(l.r+v.r*f)+","+Math.round(l.g+v.g*f)+","+Math.round(l.b+v.b*f)+","+(l.a+v.a*f)+")":S=l+v*f;y.setAttr(x,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var f=this.node,y=_.attrs[f._id][this._id];y.points&&y.points.trueEnd&&f.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var f=this.node,y=_.attrs[f._id][this._id];y.points&&y.points.trueStart&&f.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(f){return this.tween.seek(f*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var f=this.node._id,y=this._id,C=_.tweens[f],x;this.pause();for(x in C)delete _.tweens[f][x];delete _.attrs[f][y]}}_.attrs={},_.tweens={},t.Tween=_,i.Node.prototype.to=function(m){var f=m.onFinish;m.node=this,m.onFinish=function(){this.destroy(),f&&f()};var y=new _(m);y.play()},t.Easings={BackEaseIn(m,f,y,C){var x=1.70158;return y*(m/=C)*m*((x+1)*m-x)+f},BackEaseOut(m,f,y,C){var x=1.70158;return y*((m=m/C-1)*m*((x+1)*m+x)+1)+f},BackEaseInOut(m,f,y,C){var x=1.70158;return(m/=C/2)<1?y/2*(m*m*(((x*=1.525)+1)*m-x))+f:y/2*((m-=2)*m*(((x*=1.525)+1)*m+x)+2)+f},ElasticEaseIn(m,f,y,C,x,c){var l=0;return m===0?f:(m/=C)===1?f+y:(c||(c=C*.3),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(m-=1))*Math.sin((m*C-l)*(2*Math.PI)/c))+f)},ElasticEaseOut(m,f,y,C,x,c){var l=0;return m===0?f:(m/=C)===1?f+y:(c||(c=C*.3),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*m)*Math.sin((m*C-l)*(2*Math.PI)/c)+y+f)},ElasticEaseInOut(m,f,y,C,x,c){var l=0;return m===0?f:(m/=C/2)===2?f+y:(c||(c=C*(.3*1.5)),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),m<1?-.5*(x*Math.pow(2,10*(m-=1))*Math.sin((m*C-l)*(2*Math.PI)/c))+f:x*Math.pow(2,-10*(m-=1))*Math.sin((m*C-l)*(2*Math.PI)/c)*.5+y+f)},BounceEaseOut(m,f,y,C){return(m/=C)<1/2.75?y*(7.5625*m*m)+f:m<2/2.75?y*(7.5625*(m-=1.5/2.75)*m+.75)+f:m<2.5/2.75?y*(7.5625*(m-=2.25/2.75)*m+.9375)+f:y*(7.5625*(m-=2.625/2.75)*m+.984375)+f},BounceEaseIn(m,f,y,C){return y-t.Easings.BounceEaseOut(C-m,0,y,C)+f},BounceEaseInOut(m,f,y,C){return m<C/2?t.Easings.BounceEaseIn(m*2,0,y,C)*.5+f:t.Easings.BounceEaseOut(m*2-C,0,y,C)*.5+y*.5+f},EaseIn(m,f,y,C){return y*(m/=C)*m+f},EaseOut(m,f,y,C){return-y*(m/=C)*(m-2)+f},EaseInOut(m,f,y,C){return(m/=C/2)<1?y/2*m*m+f:-y/2*(--m*(m-2)-1)+f},StrongEaseIn(m,f,y,C){return y*(m/=C)*m*m*m*m+f},StrongEaseOut(m,f,y,C){return y*((m=m/C-1)*m*m*m*m+1)+f},StrongEaseInOut(m,f,y,C){return(m/=C/2)<1?y/2*m*m*m*m*m+f:y/2*((m-=2)*m*m*m*m+2)+f},Linear(m,f,y,C){return y*m/C+f}}}(ns)),ns}var Po;function k1(){return Po||(Po=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=mt(),r=Nt(),i=Ft(),n=Hn(),s=T1(),a=yc(),o=E1(),h=ua(),u=ca(),p=Lt(),d=da(),_=P1(),m=_c(),f=Vn();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:n.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:h.Group,DD:u.DD,Shape:p.Shape,shapes:p.shapes,Animation:d.Animation,Tween:_.Tween,Easings:_.Easings,Context:m.Context,Canvas:f.Canvas}),t.default=t.Konva}(Jn)),Jn}var Gr={},ko;function A1(){if(ko)return Gr;ko=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Arc=void 0;const t=gt(),e=Lt(),r=mt(),i=_t(),n=mt();let s=class extends e.Shape{_sceneFunc(o){var h=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,h,u),o.arc(0,0,this.innerRadius(),h,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),h=this.outerRadius(),u=this.clockwise(),p=r.Konva.getAngle(u?360-this.angle():this.angle()),d=Math.cos(Math.min(p,Math.PI)),_=1,m=Math.sin(Math.min(Math.max(Math.PI,p),3*Math.PI/2)),f=Math.sin(Math.min(p,Math.PI/2)),y=d*(d>0?o:h),C=_*h,x=m*(m>0?o:h),c=f*(f>0?h:o);return{x:y,y:u?-1*c:x,width:C-y,height:c-x}}};return Gr.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1,(0,i.getBooleanValidator)()),Gr}var Dr={},Br={},Ao;function bc(){if(Ao)return Br;Ao=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Line=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();function n(o,h,u,p,d,_,m){var f=Math.sqrt(Math.pow(u-o,2)+Math.pow(p-h,2)),y=Math.sqrt(Math.pow(d-u,2)+Math.pow(_-p,2)),C=m*f/(f+y),x=m*y/(f+y),c=u-C*(d-o),l=p-C*(_-h),v=u+x*(d-o),S=p+x*(_-h);return[c,l,v,S]}function s(o,h){var u=o.length,p=[],d,_;for(d=2;d<u-2;d+=2)_=n(o[d-2],o[d-1],o[d],o[d+1],o[d+2],o[d+3],h),!isNaN(_[0])&&(p.push(_[0]),p.push(_[1]),p.push(o[d]),p.push(o[d+1]),p.push(_[2]),p.push(_[3]));return p}let a=class extends e.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){var u=this.points(),p=u.length,d=this.tension(),_=this.closed(),m=this.bezier(),f,y,C;if(p){if(h.beginPath(),h.moveTo(u[0],u[1]),d!==0&&p>4){for(f=this.getTensionPoints(),y=f.length,C=_?0:4,_||h.quadraticCurveTo(f[0],f[1],f[2],f[3]);C<y-2;)h.bezierCurveTo(f[C++],f[C++],f[C++],f[C++],f[C++],f[C++]);_||h.quadraticCurveTo(f[y-2],f[y-1],u[p-2],u[p-1])}else if(m)for(C=2;C<p;)h.bezierCurveTo(u[C++],u[C++],u[C++],u[C++],u[C++],u[C++]);else for(C=2;C<p;C+=2)h.lineTo(u[C],u[C+1]);_?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){var h=this.points(),u=h.length,p=this.tension(),d=n(h[u-2],h[u-1],h[0],h[1],h[2],h[3],p),_=n(h[u-4],h[u-3],h[u-2],h[u-1],h[0],h[1],p),m=s(h,p),f=[d[2],d[3]].concat(m).concat([_[0],_[1],h[u-2],h[u-1],_[2],_[3],d[0],d[1],h[0],h[1]]);return f}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();for(var u=h[0],p=h[0],d=h[1],_=h[1],m,f,y=0;y<h.length/2;y++)m=h[y*2],f=h[y*2+1],u=Math.min(u,m),p=Math.max(p,m),d=Math.min(d,f),_=Math.max(_,f);return{x:u,y:d,width:p-u,height:_-d}}};return Br.Line=a,a.prototype.className="Line",a.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"closed",!1),t.Factory.addGetterSetter(a,"bezier",!1),t.Factory.addGetterSetter(a,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"points",[],(0,r.getNumberArrayValidator)()),Br}var Ur={},ss={},Ro;function R1(){return Ro||(Ro=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,h)=>{let u,p,d;u=h/2,p=0;for(let m=0;m<20;m++)d=u*t.tValues[20][m]+u,p+=t.cValues[20][m]*i(a,o,d);return u*p};t.getCubicArcLength=e;const r=(a,o,h)=>{h===void 0&&(h=1);const u=a[0]-2*a[1]+a[2],p=o[0]-2*o[1]+o[2],d=2*a[1]-2*a[0],_=2*o[1]-2*o[0],m=4*(u*u+p*p),f=4*(u*d+p*_),y=d*d+_*_;if(m===0)return h*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const C=f/(2*m),x=y/m,c=h+C,l=x-C*C,v=c*c+l>0?Math.sqrt(c*c+l):0,S=C*C+l>0?Math.sqrt(C*C+l):0,P=C+Math.sqrt(C*C+l)!==0?l*Math.log(Math.abs((c+v)/(C+S))):0;return Math.sqrt(m)/2*(c*v-C*S+P)};t.getQuadraticArcLength=r;function i(a,o,h){const u=n(1,h,a),p=n(1,h,o),d=u*u+p*p;return Math.sqrt(d)}const n=(a,o,h)=>{const u=h.length-1;let p,d;if(u===0)return 0;if(a===0){d=0;for(let _=0;_<=u;_++)d+=t.binomialCoefficients[u][_]*Math.pow(1-o,u-_)*Math.pow(o,_)*h[_];return d}else{p=new Array(u);for(let _=0;_<u;_++)p[_]=u*(h[_+1]-h[_]);return n(a-1,o,p)}},s=(a,o,h)=>{let u=1,p=a/o,d=(a-h(p))/o,_=0;for(;u>.001;){const m=h(p+d),f=Math.abs(a-m)/o;if(f<u)u=f,p+=d;else{const y=h(p-d),C=Math.abs(a-y)/o;C<u?(u=C,p-=d):d/=2}if(_++,_>500)break}return p};t.t2length=s}(ss)),ss}var Oo;function fa(){if(Oo)return Ur;Oo=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Path=void 0;const t=gt(),e=Lt(),r=mt(),i=R1();let n=class Ht extends e.Shape{constructor(a){super(a),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ht.parsePathData(this.data()),this.pathLength=Ht.getPathLength(this.dataArray)}_sceneFunc(a){var o=this.dataArray;a.beginPath();for(var h=!1,u=0;u<o.length;u++){var p=o[u].command,d=o[u].points;switch(p){case"L":a.lineTo(d[0],d[1]);break;case"M":a.moveTo(d[0],d[1]);break;case"C":a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case"Q":a.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;case"A":var _=d[0],m=d[1],f=d[2],y=d[3],C=d[4],x=d[5],c=d[6],l=d[7],v=f>y?f:y,S=f>y?1:f/y,P=f>y?y/f:1;a.translate(_,m),a.rotate(c),a.scale(S,P),a.arc(0,0,v,C,C+x,1-l),a.scale(1/S,1/P),a.rotate(-c),a.translate(-_,-m);break;case"z":h=!0,a.closePath();break}}!h&&!this.hasFill()?a.strokeShape(this):a.fillStrokeShape(this)}getSelfRect(){var a=[];this.dataArray.forEach(function(f){if(f.command==="A"){var y=f.points[4],C=f.points[5],x=f.points[4]+C,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),C<0)for(let l=y-c;l>x;l-=c){const v=Ht.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],l,0);a.push(v.x,v.y)}else for(let l=y+c;l<x;l+=c){const v=Ht.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],l,0);a.push(v.x,v.y)}}else if(f.command==="C")for(let l=0;l<=1;l+=.01){const v=Ht.getPointOnCubicBezier(l,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);a.push(v.x,v.y)}else a=a.concat(f.points)});for(var o=a[0],h=a[0],u=a[1],p=a[1],d,_,m=0;m<a.length/2;m++)d=a[m*2],_=a[m*2+1],isNaN(d)||(o=Math.min(o,d),h=Math.max(h,d)),isNaN(_)||(u=Math.min(u,_),p=Math.max(p,_));return{x:o,y:u,width:h-o,height:p-u}}getLength(){return this.pathLength}getPointAtLength(a){return Ht.getPointAtLengthOfDataArray(a,this.dataArray)}static getLineLength(a,o,h,u){return Math.sqrt((h-a)*(h-a)+(u-o)*(u-o))}static getPathLength(a){let o=0;for(var h=0;h<a.length;++h)o+=a[h].pathLength;return o}static getPointAtLengthOfDataArray(a,o){var h,u=0,p=o.length;if(!p)return null;for(;u<p&&a>o[u].pathLength;)a-=o[u].pathLength,++u;if(u===p)return h=o[u-1].points.slice(-2),{x:h[0],y:h[1]};if(a<.01)return h=o[u].points.slice(0,2),{x:h[0],y:h[1]};var d=o[u],_=d.points;switch(d.command){case"L":return Ht.getPointOnLine(a,d.start.x,d.start.y,_[0],_[1]);case"C":return Ht.getPointOnCubicBezier((0,i.t2length)(a,Ht.getPathLength(o),v=>(0,i.getCubicArcLength)([d.start.x,_[0],_[2],_[4]],[d.start.y,_[1],_[3],_[5]],v)),d.start.x,d.start.y,_[0],_[1],_[2],_[3],_[4],_[5]);case"Q":return Ht.getPointOnQuadraticBezier((0,i.t2length)(a,Ht.getPathLength(o),v=>(0,i.getQuadraticArcLength)([d.start.x,_[0],_[2]],[d.start.y,_[1],_[3]],v)),d.start.x,d.start.y,_[0],_[1],_[2],_[3]);case"A":var m=_[0],f=_[1],y=_[2],C=_[3],x=_[4],c=_[5],l=_[6];return x+=c*a/d.pathLength,Ht.getPointOnEllipticalArc(m,f,y,C,x,l)}return null}static getPointOnLine(a,o,h,u,p,d,_){d===void 0&&(d=o),_===void 0&&(_=h);var m=(p-h)/(u-o+1e-8),f=Math.sqrt(a*a/(1+m*m));u<o&&(f*=-1);var y=m*f,C;if(u===o)C={x:d,y:_+y};else if((_-h)/(d-o+1e-8)===m)C={x:d+f,y:_+y};else{var x,c,l=this.getLineLength(o,h,u,p),v=(d-o)*(u-o)+(_-h)*(p-h);v=v/(l*l),x=o+v*(u-o),c=h+v*(p-h);var S=this.getLineLength(d,_,x,c),P=Math.sqrt(a*a-S*S);f=Math.sqrt(P*P/(1+m*m)),u<o&&(f*=-1),y=m*f,C={x:x+f,y:c+y}}return C}static getPointOnCubicBezier(a,o,h,u,p,d,_,m,f){function y(S){return S*S*S}function C(S){return 3*S*S*(1-S)}function x(S){return 3*S*(1-S)*(1-S)}function c(S){return(1-S)*(1-S)*(1-S)}var l=m*y(a)+d*C(a)+u*x(a)+o*c(a),v=f*y(a)+_*C(a)+p*x(a)+h*c(a);return{x:l,y:v}}static getPointOnQuadraticBezier(a,o,h,u,p,d,_){function m(c){return c*c}function f(c){return 2*c*(1-c)}function y(c){return(1-c)*(1-c)}var C=d*m(a)+u*f(a)+o*y(a),x=_*m(a)+p*f(a)+h*y(a);return{x:C,y:x}}static getPointOnEllipticalArc(a,o,h,u,p,d){var _=Math.cos(d),m=Math.sin(d),f={x:h*Math.cos(p),y:u*Math.sin(p)};return{x:a+(f.x*_-f.y*m),y:o+(f.x*m+f.y*_)}}static parsePathData(a){if(!a)return[];var o=a,h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<h.length;u++)o=o.replace(new RegExp(h[u],"g"),"|"+h[u]);var p=o.split("|"),d=[],_=[],m=0,f=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,C;for(u=1;u<p.length;u++){var x=p[u],c=x.charAt(0);for(x=x.slice(1),_.length=0;C=y.exec(x);)_.push(C[0]);for(var l=[],v=0,S=_.length;v<S;v++){if(_[v]==="00"){l.push(0,0);continue}var P=parseFloat(_[v]);isNaN(P)?l.push(0):l.push(P)}for(;l.length>0&&!isNaN(l[0]);){var O=null,w=[],k=m,T=f,R,N,g,b,E,A,M,L,G,B;switch(c){case"l":m+=l.shift(),f+=l.shift(),O="L",w.push(m,f);break;case"L":m=l.shift(),f=l.shift(),w.push(m,f);break;case"m":var K=l.shift(),X=l.shift();if(m+=K,f+=X,O="M",d.length>2&&d[d.length-1].command==="z"){for(var z=d.length-2;z>=0;z--)if(d[z].command==="M"){m=d[z].points[0]+K,f=d[z].points[1]+X;break}}w.push(m,f),c="l";break;case"M":m=l.shift(),f=l.shift(),O="M",w.push(m,f),c="L";break;case"h":m+=l.shift(),O="L",w.push(m,f);break;case"H":m=l.shift(),O="L",w.push(m,f);break;case"v":f+=l.shift(),O="L",w.push(m,f);break;case"V":f=l.shift(),O="L",w.push(m,f);break;case"C":w.push(l.shift(),l.shift(),l.shift(),l.shift()),m=l.shift(),f=l.shift(),w.push(m,f);break;case"c":w.push(m+l.shift(),f+l.shift(),m+l.shift(),f+l.shift()),m+=l.shift(),f+=l.shift(),O="C",w.push(m,f);break;case"S":N=m,g=f,R=d[d.length-1],R.command==="C"&&(N=m+(m-R.points[2]),g=f+(f-R.points[3])),w.push(N,g,l.shift(),l.shift()),m=l.shift(),f=l.shift(),O="C",w.push(m,f);break;case"s":N=m,g=f,R=d[d.length-1],R.command==="C"&&(N=m+(m-R.points[2]),g=f+(f-R.points[3])),w.push(N,g,m+l.shift(),f+l.shift()),m+=l.shift(),f+=l.shift(),O="C",w.push(m,f);break;case"Q":w.push(l.shift(),l.shift()),m=l.shift(),f=l.shift(),w.push(m,f);break;case"q":w.push(m+l.shift(),f+l.shift()),m+=l.shift(),f+=l.shift(),O="Q",w.push(m,f);break;case"T":N=m,g=f,R=d[d.length-1],R.command==="Q"&&(N=m+(m-R.points[0]),g=f+(f-R.points[1])),m=l.shift(),f=l.shift(),O="Q",w.push(N,g,m,f);break;case"t":N=m,g=f,R=d[d.length-1],R.command==="Q"&&(N=m+(m-R.points[0]),g=f+(f-R.points[1])),m+=l.shift(),f+=l.shift(),O="Q",w.push(N,g,m,f);break;case"A":b=l.shift(),E=l.shift(),A=l.shift(),M=l.shift(),L=l.shift(),G=m,B=f,m=l.shift(),f=l.shift(),O="A",w=this.convertEndpointToCenterParameterization(G,B,m,f,M,L,b,E,A);break;case"a":b=l.shift(),E=l.shift(),A=l.shift(),M=l.shift(),L=l.shift(),G=m,B=f,m+=l.shift(),f+=l.shift(),O="A",w=this.convertEndpointToCenterParameterization(G,B,m,f,M,L,b,E,A);break}d.push({command:O||c,points:w,start:{x:k,y:T},pathLength:this.calcLength(k,T,O||c,w)})}(c==="z"||c==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(a,o,h,u){var p,d,_,m,f=Ht;switch(h){case"L":return f.getLineLength(a,o,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([a,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([a,u[0],u[2]],[o,u[1],u[3]],1);case"A":p=0;var y=u[4],C=u[5],x=u[4]+C,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),d=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),C<0)for(m=y-c;m>x;m-=c)_=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],m,0),p+=f.getLineLength(d.x,d.y,_.x,_.y),d=_;else for(m=y+c;m<x;m+=c)_=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],m,0),p+=f.getLineLength(d.x,d.y,_.x,_.y),d=_;return _=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],x,0),p+=f.getLineLength(d.x,d.y,_.x,_.y),p}return 0}static convertEndpointToCenterParameterization(a,o,h,u,p,d,_,m,f){var y=f*(Math.PI/180),C=Math.cos(y)*(a-h)/2+Math.sin(y)*(o-u)/2,x=-1*Math.sin(y)*(a-h)/2+Math.cos(y)*(o-u)/2,c=C*C/(_*_)+x*x/(m*m);c>1&&(_*=Math.sqrt(c),m*=Math.sqrt(c));var l=Math.sqrt((_*_*(m*m)-_*_*(x*x)-m*m*(C*C))/(_*_*(x*x)+m*m*(C*C)));p===d&&(l*=-1),isNaN(l)&&(l=0);var v=l*_*x/m,S=l*-m*C/_,P=(a+h)/2+Math.cos(y)*v-Math.sin(y)*S,O=(o+u)/2+Math.sin(y)*v+Math.cos(y)*S,w=function(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])},k=function(E,A){return(E[0]*A[0]+E[1]*A[1])/(w(E)*w(A))},T=function(E,A){return(E[0]*A[1]<E[1]*A[0]?-1:1)*Math.acos(k(E,A))},R=T([1,0],[(C-v)/_,(x-S)/m]),N=[(C-v)/_,(x-S)/m],g=[(-1*C-v)/_,(-1*x-S)/m],b=T(N,g);return k(N,g)<=-1&&(b=Math.PI),k(N,g)>=1&&(b=0),d===0&&b>0&&(b=b-2*Math.PI),d===1&&b<0&&(b=b+2*Math.PI),[P,O,_,m,R,b,y,d]}};return Ur.Path=n,n.prototype.className="Path",n.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"data"),Ur}var No;function O1(){if(No)return Dr;No=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Arrow=void 0;const t=gt(),e=bc(),r=_t(),i=mt(),n=fa();let s=class extends e.Line{_sceneFunc(o){super._sceneFunc(o);var h=Math.PI*2,u=this.points(),p=u,d=this.tension()!==0&&u.length>4;d&&(p=this.getTensionPoints());var _=this.pointerLength(),m=u.length,f,y;if(d){const c=[p[p.length-4],p[p.length-3],p[p.length-2],p[p.length-1],u[m-2],u[m-1]],l=n.Path.calcLength(p[p.length-4],p[p.length-3],"C",c),v=n.Path.getPointOnQuadraticBezier(Math.min(1,1-_/l),c[0],c[1],c[2],c[3],c[4],c[5]);f=u[m-2]-v.x,y=u[m-1]-v.y}else f=u[m-2]-u[m-4],y=u[m-1]-u[m-3];var C=(Math.atan2(y,f)+h)%h,x=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[m-2],u[m-1]),o.rotate(C),o.moveTo(0,0),o.lineTo(-_,x/2),o.lineTo(-_,-x/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),d?(f=(p[0]+p[2])/2-u[0],y=(p[1]+p[3])/2-u[1]):(f=u[2]-u[0],y=u[3]-u[1]),o.rotate((Math.atan2(-y,-f)+h)%h),o.moveTo(0,0),o.lineTo(-_,x/2),o.lineTo(-_,-x/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),h=this.pointerWidth()/2;return{x:o.x-h,y:o.y-h,width:o.width+h*2,height:o.height+h*2}}};return Dr.Arrow=s,s.prototype.className="Arrow",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerAtBeginning",!1),t.Factory.addGetterSetter(s,"pointerAtEnding",!0),Dr}var Vr={},Fo;function N1(){if(Fo)return Vr;Fo=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Circle=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();let n=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius()!==a/2&&this.radius(a/2)}setHeight(a){this.radius()!==a/2&&this.radius(a/2)}};return Vr.Circle=n,n.prototype._centroid=!0,n.prototype.className="Circle",n.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,r.getNumberValidator)()),Vr}var Hr={},Mo;function F1(){if(Mo)return Hr;Mo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Ellipse=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();let n=class extends e.Shape{_sceneFunc(a){var o=this.radiusX(),h=this.radiusY();a.beginPath(),a.save(),o!==h&&a.scale(1,h/o),a.arc(0,0,o,0,Math.PI*2,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(a){this.radiusX(a/2)}setHeight(a){this.radiusY(a/2)}};return Hr.Ellipse=n,n.prototype.className="Ellipse",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(n),t.Factory.addComponentsGetterSetter(n,"radius",["x","y"]),t.Factory.addGetterSetter(n,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"radiusY",0,(0,r.getNumberValidator)()),Hr}var qr={},Io;function M1(){if(Io)return qr;Io=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Image=void 0;const t=Nt(),e=gt(),r=Lt(),i=mt(),n=_t();let s=class Cc extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const h=this.getWidth(),u=this.getHeight(),p=this.cornerRadius(),d=this.attrs.image;let _;if(d){const m=this.attrs.cropWidth,f=this.attrs.cropHeight;m&&f?_=[d,this.cropX(),this.cropY(),m,f,0,0,h,u]:_=[d,0,0,h,u]}(this.hasFill()||this.hasStroke()||p)&&(o.beginPath(),p?t.Util.drawRoundedRectPath(o,h,u,p):o.rect(0,0,h,u),o.closePath(),o.fillStrokeShape(this)),d&&(p&&o.clip(),o.drawImage.apply(o,_))}_hitFunc(o){var h=this.width(),u=this.height(),p=this.cornerRadius();o.beginPath(),p?t.Util.drawRoundedRectPath(o,h,u,p):o.rect(0,0,h,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,h;return(o=this.attrs.width)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var o,h;return(o=this.attrs.height)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(o,h,u=null){var p=t.Util.createImageElement();p.onload=function(){var d=new Cc({image:p});h(d)},p.onerror=u,p.crossOrigin="Anonymous",p.src=o}};return qr.Image=s,s.prototype.className="Image",(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(s,"image"),e.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(s,"cropX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropY",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropHeight",0,(0,n.getNumberValidator)()),qr}var Ke={},Lo;function I1(){if(Lo)return Ke;Lo=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Tag=Ke.Label=void 0;const t=gt(),e=Lt(),r=ua(),i=_t(),n=mt();var s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="Change.konva",o="none",h="up",u="right",p="down",d="left",_=s.length;let m=class extends r.Group{constructor(C){super(C),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){var x=this,c,l=function(){x._sync()};for(c=0;c<_;c++)C.on(s[c]+a,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var C=this.getText(),x=this.getTag(),c,l,v,S,P,O,w;if(C&&x){switch(c=C.width(),l=C.height(),v=x.pointerDirection(),S=x.pointerWidth(),w=x.pointerHeight(),P=0,O=0,v){case h:P=c/2,O=-1*w;break;case u:P=c+S,O=l/2;break;case p:P=c/2,O=l+w;break;case d:P=-1*S,O=l/2;break}x.setAttrs({x:-1*P,y:-1*O,width:c,height:l}),C.setAttrs({x:-1*P,y:-1*O})}}};Ke.Label=m,m.prototype.className="Label",(0,n._registerNode)(m);class f extends e.Shape{_sceneFunc(C){var x=this.width(),c=this.height(),l=this.pointerDirection(),v=this.pointerWidth(),S=this.pointerHeight(),P=this.cornerRadius();let O=0,w=0,k=0,T=0;typeof P=="number"?O=w=k=T=Math.min(P,x/2,c/2):(O=Math.min(P[0]||0,x/2,c/2),w=Math.min(P[1]||0,x/2,c/2),T=Math.min(P[2]||0,x/2,c/2),k=Math.min(P[3]||0,x/2,c/2)),C.beginPath(),C.moveTo(O,0),l===h&&(C.lineTo((x-v)/2,0),C.lineTo(x/2,-1*S),C.lineTo((x+v)/2,0)),C.lineTo(x-w,0),C.arc(x-w,w,w,Math.PI*3/2,0,!1),l===u&&(C.lineTo(x,(c-S)/2),C.lineTo(x+v,c/2),C.lineTo(x,(c+S)/2)),C.lineTo(x,c-T),C.arc(x-T,c-T,T,0,Math.PI/2,!1),l===p&&(C.lineTo((x+v)/2,c),C.lineTo(x/2,c+S),C.lineTo((x-v)/2,c)),C.lineTo(k,c),C.arc(k,c-k,k,Math.PI/2,Math.PI,!1),l===d&&(C.lineTo(0,(c+S)/2),C.lineTo(-1*v,c/2),C.lineTo(0,(c-S)/2)),C.lineTo(0,O),C.arc(O,O,O,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){var C=0,x=0,c=this.pointerWidth(),l=this.pointerHeight(),v=this.pointerDirection(),S=this.width(),P=this.height();return v===h?(x-=l,P+=l):v===p?P+=l:v===d?(C-=c*1.5,S+=c):v===u&&(S+=c*1.5),{x:C,y:x,width:S,height:P}}}return Ke.Tag=f,f.prototype.className="Tag",(0,n._registerNode)(f),t.Factory.addGetterSetter(f,"pointerDirection",o),t.Factory.addGetterSetter(f,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(f,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(f,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Ke}var jr={},Go;function Sc(){if(Go)return jr;Go=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Rect=void 0;const t=gt(),e=Lt(),r=mt(),i=Nt(),n=_t();class s extends e.Shape{_sceneFunc(o){var h=this.cornerRadius(),u=this.width(),p=this.height();o.beginPath(),h?i.Util.drawRoundedRectPath(o,u,p,h):o.rect(0,0,u,p),o.closePath(),o.fillStrokeShape(this)}}return jr.Rect=s,s.prototype.className="Rect",(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),jr}var Kr={},Do;function L1(){if(Do)return Kr;Do=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.RegularPolygon=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();let n=class extends e.Shape{_sceneFunc(a){const o=this._getPoints();a.beginPath(),a.moveTo(o[0].x,o[0].y);for(var h=1;h<o.length;h++)a.lineTo(o[h].x,o[h].y);a.closePath(),a.fillStrokeShape(this)}_getPoints(){const a=this.attrs.sides,o=this.attrs.radius||0,h=[];for(var u=0;u<a;u++)h.push({x:o*Math.sin(u*2*Math.PI/a),y:-1*o*Math.cos(u*2*Math.PI/a)});return h}getSelfRect(){const a=this._getPoints();var o=a[0].x,h=a[0].y,u=a[0].x,p=a[0].y;return a.forEach(d=>{o=Math.min(o,d.x),h=Math.max(h,d.x),u=Math.min(u,d.y),p=Math.max(p,d.y)}),{x:o,y:u,width:h-o,height:p-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Kr.RegularPolygon=n,n.prototype.className="RegularPolygon",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"sides",0,(0,r.getNumberValidator)()),Kr}var Wr={},Bo;function G1(){if(Bo)return Wr;Bo=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Ring=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();var n=Math.PI*2;let s=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,n,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),n,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Wr.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),Wr}var zr={},Uo;function D1(){if(Uo)return zr;Uo=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Sprite=void 0;const t=gt(),e=Lt(),r=da(),i=_t(),n=mt();let s=class extends e.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var h=this.animation(),u=this.frameIndex(),p=u*4,d=this.animations()[h],_=this.frameOffsets(),m=d[p+0],f=d[p+1],y=d[p+2],C=d[p+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,C),o.closePath(),o.fillStrokeShape(this)),x)if(_){var c=_[h],l=u*2;o.drawImage(x,m,f,y,C,c[l+0],c[l+1],y,C)}else o.drawImage(x,m,f,y,C,0,0,y,C)}_hitFunc(o){var h=this.animation(),u=this.frameIndex(),p=u*4,d=this.animations()[h],_=this.frameOffsets(),m=d[p+2],f=d[p+3];if(o.beginPath(),_){var y=_[h],C=u*2;o.rect(y[C+0],y[C+1],m,f)}else o.rect(0,0,m,f);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),h=this.animation(),u=this.animations(),p=u[h],d=p.length/4;o<d-1?this.frameIndex(o+1):this.frameIndex(0)}};return zr.Sprite=s,s.prototype.className="Sprite",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"animation"),t.Factory.addGetterSetter(s,"animations"),t.Factory.addGetterSetter(s,"frameOffsets"),t.Factory.addGetterSetter(s,"image"),t.Factory.addGetterSetter(s,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),zr}var Yr={},Vo;function B1(){if(Vo)return Yr;Vo=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Star=void 0;const t=gt(),e=Lt(),r=_t(),i=mt();let n=class extends e.Shape{_sceneFunc(a){var o=this.innerRadius(),h=this.outerRadius(),u=this.numPoints();a.beginPath(),a.moveTo(0,0-h);for(var p=1;p<u*2;p++){var d=p%2===0?h:o,_=d*Math.sin(p*Math.PI/u),m=-1*d*Math.cos(p*Math.PI/u);a.lineTo(_,m)}a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Yr.Star=n,n.prototype.className="Star",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,r.getNumberValidator)()),Yr}var We={},Ho;function wc(){if(Ho)return We;Ho=1,Object.defineProperty(We,"__esModule",{value:!0}),We.Text=We.stringToArray=void 0;const t=Nt(),e=gt(),r=Lt(),i=_t(),n=mt();function s(G){return Array.from(G)}We.stringToArray=s;var a="auto",o="center",h="justify",u="Change.konva",p="2d",d="-",_="left",m="text",f="Text",y="top",C="bottom",x="middle",c="normal",l="px ",v=" ",S="right",P="word",O="char",w="none",k="…",T=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],R=T.length;function N(G){return G.split(",").map(B=>{B=B.trim();const K=B.indexOf(" ")>=0,X=B.indexOf('"')>=0||B.indexOf("'")>=0;return K&&!X&&(B=`"${B}"`),B}).join(", ")}var g;function b(){return g||(g=t.Util.createCanvasElement().getContext(p),g)}function E(G){G.fillText(this._partialText,this._partialTextX,this._partialTextY)}function A(G){G.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function M(G){return G=G||{},!G.fillLinearGradientColorStops&&!G.fillRadialGradientColorStops&&!G.fillPatternImage&&(G.fill=G.fill||"black"),G}let L=class extends r.Shape{constructor(B){super(M(B)),this._partialTextX=0,this._partialTextY=0;for(var K=0;K<R;K++)this.on(T[K]+u,this._setTextData);this._setTextData()}_sceneFunc(B){var K=this.textArr,X=K.length;if(this.text()){var z=this.padding(),et=this.fontSize(),rt=this.lineHeight()*et,it=this.verticalAlign(),I=0,U=this.align(),Y=this.getWidth(),ht=this.letterSpacing(),ot=this.fill(),F=this.textDecoration(),D=F.indexOf("underline")!==-1,V=F.indexOf("line-through")!==-1,H,q=0,q=rt/2,j=0,J=0;for(B.setAttr("font",this._getContextFont()),B.setAttr("textBaseline",x),B.setAttr("textAlign",_),it===x?I=(this.getHeight()-X*rt-z*2)/2:it===C&&(I=this.getHeight()-X*rt-z*2),B.translate(z,I+z),H=0;H<X;H++){var j=0,J=0,$=K[H],Q=$.text,W=$.width,nt=$.lastInParagraph,Z,st,lt;if(B.save(),U===S?j+=Y-W-z*2:U===o&&(j+=(Y-W-z*2)/2),D){B.save(),B.beginPath(),B.moveTo(j,q+J+Math.round(et/2)),Z=Q.split(" ").length-1,st=Z===0,lt=U===h&&!nt?Y-z*2:W,B.lineTo(j+Math.round(lt),q+J+Math.round(et/2)),B.lineWidth=et/15;const re=this._getLinearGradient();B.strokeStyle=re||ot,B.stroke(),B.restore()}if(V){B.save(),B.beginPath(),B.moveTo(j,q+J),Z=Q.split(" ").length-1,st=Z===0,lt=U===h&&nt&&!st?Y-z*2:W,B.lineTo(j+Math.round(lt),q+J),B.lineWidth=et/15;const re=this._getLinearGradient();B.strokeStyle=re||ot,B.stroke(),B.restore()}if(ht!==0||U===h){Z=Q.split(" ").length-1;for(var dt=s(Q),bt=0;bt<dt.length;bt++){var pt=dt[bt];pt===" "&&!nt&&U===h&&(j+=(Y-z*2-W)/Z),this._partialTextX=j,this._partialTextY=q+J,this._partialText=pt,B.fillStrokeShape(this),j+=this.measureSize(pt).width+ht}}else this._partialTextX=j,this._partialTextY=q+J,this._partialText=Q,B.fillStrokeShape(this);B.restore(),X>1&&(q+=rt)}}}_hitFunc(B){var K=this.getWidth(),X=this.getHeight();B.beginPath(),B.rect(0,0,K,X),B.closePath(),B.fillStrokeShape(this)}setText(B){var K=t.Util._isString(B)?B:B==null?"":B+"";return this._setAttr(m,K),this}getWidth(){var B=this.attrs.width===a||this.attrs.width===void 0;return B?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var B=this.attrs.height===a||this.attrs.height===void 0;return B?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(B){var K=b(),X=this.fontSize(),z;return K.save(),K.font=this._getContextFont(),z=K.measureText(B),K.restore(),{width:z.width,height:X}}_getContextFont(){return this.fontStyle()+v+this.fontVariant()+v+(this.fontSize()+l)+N(this.fontFamily())}_addTextLine(B){this.align()===h&&(B=B.trim());var X=this._getTextWidth(B);return this.textArr.push({text:B,width:X,lastInParagraph:!1})}_getTextWidth(B){var K=this.letterSpacing(),X=B.length;return b().measureText(B).width+(X?K*(X-1):0)}_setTextData(){var B=this.text().split(`
`),K=+this.fontSize(),X=0,z=this.lineHeight()*K,et=this.attrs.width,rt=this.attrs.height,it=et!==a&&et!==void 0,I=rt!==a&&rt!==void 0,U=this.padding(),Y=et-U*2,ht=rt-U*2,ot=0,F=this.wrap(),D=F!==w,V=F!==O&&D,H=this.ellipsis();this.textArr=[],b().font=this._getContextFont();for(var q=H?this._getTextWidth(k):0,j=0,J=B.length;j<J;++j){var $=B[j],Q=this._getTextWidth($);if(it&&Q>Y)for(;$.length>0;){for(var W=0,nt=$.length,Z="",st=0;W<nt;){var lt=W+nt>>>1,dt=$.slice(0,lt+1),bt=this._getTextWidth(dt)+q;bt<=Y?(W=lt+1,Z=dt,st=bt):nt=lt}if(Z){if(V){var pt,kt=$[Z.length],$t=kt===v||kt===d;$t&&st<=Y?pt=Z.length:pt=Math.max(Z.lastIndexOf(v),Z.lastIndexOf(d))+1,pt>0&&(W=pt,Z=Z.slice(0,W),st=this._getTextWidth(Z))}Z=Z.trimRight(),this._addTextLine(Z),X=Math.max(X,st),ot+=z;var re=this._shouldHandleEllipsis(ot);if(re){this._tryToAddEllipsisToLastLine();break}if($=$.slice(W),$=$.trimLeft(),$.length>0&&(Q=this._getTextWidth($),Q<=Y)){this._addTextLine($),ot+=z,X=Math.max(X,Q);break}}else break}else this._addTextLine($),ot+=z,X=Math.max(X,Q),this._shouldHandleEllipsis(ot)&&j<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),I&&ot+z>ht)break}this.textHeight=K,this.textWidth=X}_shouldHandleEllipsis(B){var K=+this.fontSize(),X=this.lineHeight()*K,z=this.attrs.height,et=z!==a&&z!==void 0,rt=this.padding(),it=z-rt*2,I=this.wrap(),U=I!==w;return!U||et&&B+X>it}_tryToAddEllipsisToLastLine(){var B=this.attrs.width,K=B!==a&&B!==void 0,X=this.padding(),z=B-X*2,et=this.ellipsis(),rt=this.textArr[this.textArr.length-1];if(!(!rt||!et)){if(K){var it=this._getTextWidth(rt.text+k)<z;it||(rt.text=rt.text.slice(0,rt.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(rt.text+k)}}getStrokeScaleEnabled(){return!0}};return We.Text=L,L.prototype._fillFunc=E,L.prototype._strokeFunc=A,L.prototype.className=f,L.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,n._registerNode)(L),e.Factory.overWriteSetter(L,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(L,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(L,"fontFamily","Arial"),e.Factory.addGetterSetter(L,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(L,"fontStyle",c),e.Factory.addGetterSetter(L,"fontVariant",c),e.Factory.addGetterSetter(L,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(L,"align",_),e.Factory.addGetterSetter(L,"verticalAlign",y),e.Factory.addGetterSetter(L,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(L,"wrap",P),e.Factory.addGetterSetter(L,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(L,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(L,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(L,"textDecoration",""),We}var $r={},qo;function U1(){if(qo)return $r;qo=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.TextPath=void 0;const t=Nt(),e=gt(),r=Lt(),i=fa(),n=wc(),s=_t(),a=mt();var o="",h="normal";function u(_){_.fillText(this.partialText,0,0)}function p(_){_.strokeText(this.partialText,0,0)}let d=class extends r.Shape{constructor(m){super(m),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(m){if(!this.attrs.data)return null;const f=this.pathLength;return m-1>f?null:i.Path.getPointAtLengthOfDataArray(m,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(m){m.setAttr("font",this._getContextFont()),m.setAttr("textBaseline",this.textBaseline()),m.setAttr("textAlign","left"),m.save();var f=this.textDecoration(),y=this.fill(),C=this.fontSize(),x=this.glyphInfo;f==="underline"&&m.beginPath();for(var c=0;c<x.length;c++){m.save();var l=x[c].p0;m.translate(l.x,l.y),m.rotate(x[c].rotation),this.partialText=x[c].text,m.fillStrokeShape(this),f==="underline"&&(c===0&&m.moveTo(0,C/2+1),m.lineTo(C,C/2+1)),m.restore()}f==="underline"&&(m.strokeStyle=y,m.lineWidth=C/20,m.stroke()),m.restore()}_hitFunc(m){m.beginPath();var f=this.glyphInfo;if(f.length>=1){var y=f[0].p0;m.moveTo(y.x,y.y)}for(var C=0;C<f.length;C++){var x=f[C].p1;m.lineTo(x.x,x.y)}m.setAttr("lineWidth",this.fontSize()),m.setAttr("strokeStyle",this.colorKey),m.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(m){return n.Text.prototype.setText.call(this,m)}_getContextFont(){return n.Text.prototype._getContextFont.call(this)}_getTextSize(m){var f=this.dummyCanvas,y=f.getContext("2d");y.save(),y.font=this._getContextFont();var C=y.measureText(m);return y.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:m,height:f}=this._getTextSize(this.attrs.text);if(this.textWidth=m,this.textHeight=f,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),C=this.align(),x=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let l=0;C==="center"&&(l=Math.max(0,this.pathLength/2-c/2)),C==="right"&&(l=Math.max(0,this.pathLength-c));const v=(0,n.stringToArray)(this.text());let S=l;for(var P=0;P<v.length;P++){const O=this._getPointAtLength(S);if(!O)return;let w=this._getTextSize(v[P]).width+y;if(v[P]===" "&&C==="justify"){const b=this.text().split(" ").length-1;w+=(this.pathLength-c)/b}const k=this._getPointAtLength(S+w);if(!k)return;const T=i.Path.getLineLength(O.x,O.y,k.x,k.y);let R=0;if(x)try{R=x(v[P-1],v[P])*this.fontSize()}catch{R=0}O.x+=R,k.x+=R,this.textWidth+=R;const N=i.Path.getPointOnLine(R+T/2,O.x,O.y,k.x,k.y),g=Math.atan2(k.y-O.y,k.x-O.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:v[P],rotation:g,p0:O,p1:k}),S+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var m=[];this.glyphInfo.forEach(function(P){m.push(P.p0.x),m.push(P.p0.y),m.push(P.p1.x),m.push(P.p1.y)});for(var f=m[0]||0,y=m[0]||0,C=m[1]||0,x=m[1]||0,c,l,v=0;v<m.length/2;v++)c=m[v*2],l=m[v*2+1],f=Math.min(f,c),y=Math.max(y,c),C=Math.min(C,l),x=Math.max(x,l);var S=this.fontSize();return{x:f-S/2,y:C-S/2,width:y-f+S,height:x-C+S}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return $r.TextPath=d,d.prototype._fillFunc=u,d.prototype._strokeFunc=p,d.prototype._fillFuncHit=u,d.prototype._strokeFuncHit=p,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(d),e.Factory.addGetterSetter(d,"data"),e.Factory.addGetterSetter(d,"fontFamily","Arial"),e.Factory.addGetterSetter(d,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(d,"fontStyle",h),e.Factory.addGetterSetter(d,"align","left"),e.Factory.addGetterSetter(d,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(d,"textBaseline","middle"),e.Factory.addGetterSetter(d,"fontVariant",h),e.Factory.addGetterSetter(d,"text",o),e.Factory.addGetterSetter(d,"textDecoration",null),e.Factory.addGetterSetter(d,"kerningFunc",null),$r}var Xr={},jo;function V1(){if(jo)return Xr;jo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Transformer=void 0;const t=Nt(),e=gt(),r=Ft(),i=Lt(),n=Sc(),s=ua(),a=mt(),o=_t(),h=mt();var u="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(w=>w+`.${u}`).join(" "),d="nodesRect",_=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const f="ontouchstart"in a.Konva._global;function y(w,k){if(w==="rotater")return"crosshair";k+=t.Util.degToRad(m[w]||0);var T=(t.Util.radToDeg(k)%360+360)%360;return t.Util._inRange(T,315+22.5,360)||t.Util._inRange(T,0,22.5)?"ns-resize":t.Util._inRange(T,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(T,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(T,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(T,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(T,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(T,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(T,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+T),"pointer")}var C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],x=1e8;function c(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function l(w,k,T){const R=T.x+(w.x-T.x)*Math.cos(k)-(w.y-T.y)*Math.sin(k),N=T.y+(w.x-T.x)*Math.sin(k)+(w.y-T.y)*Math.cos(k);return Object.assign(Object.assign({},w),{rotation:w.rotation+k,x:R,y:N})}function v(w,k){const T=c(w);return l(w,k,T)}function S(w,k,T){let R=k;for(let N=0;N<w.length;N++){const g=a.Konva.getAngle(w[N]),b=Math.abs(g-k)%(Math.PI*2);Math.min(b,Math.PI*2-b)<T&&(R=g)}return R}let P=class extends s.Group{constructor(k){super(k),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(k){return this.setNode(k),this}setNode(k){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([k])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(k=[]){this._nodes&&this._nodes.length&&this.detach();const T=k.filter(N=>N.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=k=T,k.length===1&&this.useSingleNodeRotation()?this.rotation(k[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const g=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},b=N._attrsAffectingSize.map(E=>E+"Change."+this._getEventNamespace()).join(" ");N.on(b,g),N.on(_.map(E=>E+`.${this._getEventNamespace()}`).join(" "),g),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,g),this._proxyDrag(N)}),this._resetTransformCache();var R=!!this.findOne(".top-left");return R&&this.update(),this}_proxyDrag(k){let T;k.on(`dragstart.${this._getEventNamespace()}`,R=>{T=k.getAbsolutePosition(),!this.isDragging()&&k!==this.findOne(".back")&&this.startDrag(R,!1)}),k.on(`dragmove.${this._getEventNamespace()}`,R=>{if(!T)return;const N=k.getAbsolutePosition(),g=N.x-T.x,b=N.y-T.y;this.nodes().forEach(E=>{if(E===k||E.isDragging())return;const A=E.getAbsolutePosition();E.setAbsolutePosition({x:A.x+g,y:A.y+b}),E.startDrag(R)}),T=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(k=>{k.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d,this.__getNodeRect)}__getNodeShape(k,T=this.rotation(),R){var N=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=k.getAbsoluteScale(R),b=k.getAbsolutePosition(R),E=N.x*g.x-k.offsetX()*g.x,A=N.y*g.y-k.offsetY()*g.y;const M=(a.Konva.getAngle(k.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:b.x+E*Math.cos(M)+A*Math.sin(-M),y:b.y+A*Math.cos(M)+E*Math.sin(M),width:N.width*g.x,height:N.height*g.y,rotation:M};return l(L,-a.Konva.getAngle(T),{x:0,y:0})}__getNodeRect(){var k=this.getNode();if(!k)return{x:-x,y:-x,width:0,height:0,rotation:0};const T=[];this.nodes().map(M=>{const L=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var G=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],B=M.getAbsoluteTransform();G.forEach(function(K){var X=B.point(K);T.push(X)})});const R=new t.Transform;R.rotate(-a.Konva.getAngle(this.rotation()));var N,g,b,E;T.forEach(function(M){var L=R.point(M);N===void 0&&(N=b=L.x,g=E=L.y),N=Math.min(N,L.x),g=Math.min(g,L.y),b=Math.max(b,L.x),E=Math.max(E,L.y)}),R.invert();const A=R.point({x:N,y:g});return{x:A.x,y:A.y,width:b-N,height:E-g,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(function(k){this._createAnchor(k)}.bind(this)),this._createAnchor("rotater")}_createAnchor(k){var T=new n.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:k+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:f?10:"auto"}),R=this;T.on("mousedown touchstart",function(N){R._handleMouseDown(N)}),T.on("dragstart",N=>{T.stopDrag(),N.cancelBubble=!0}),T.on("dragend",N=>{N.cancelBubble=!0}),T.on("mouseenter",()=>{var N=a.Konva.getAngle(this.rotation()),g=y(k,N);T.getStage().content&&(T.getStage().content.style.cursor=g),this._cursorChange=!0}),T.on("mouseout",()=>{T.getStage().content&&(T.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(T)}_createBack(){var k=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(T){var R=this.getParent(),N=R.padding();T.beginPath(),T.rect(-N,-N,this.width()+N*2,this.height()+N*2),T.moveTo(this.width()/2,-N),R.rotateEnabled()&&T.lineTo(this.width()/2,-R.rotateAnchorOffset()*t.Util._sign(this.height())-N),T.fillStrokeShape(this)},hitFunc:(T,R)=>{if(this.shouldOverdrawWholeArea()){var N=this.padding();T.beginPath(),T.rect(-N,-N,R.width()+N*2,R.height()+N*2),T.fillStrokeShape(R)}}});this.add(k),this._proxyDrag(k),k.on("dragstart",T=>{T.cancelBubble=!0}),k.on("dragmove",T=>{T.cancelBubble=!0}),k.on("dragend",T=>{T.cancelBubble=!0}),this.on("dragmove",T=>{this.update()})}_handleMouseDown(k){this._movingAnchorName=k.target.name().split(" ")[0];var T=this._getNodeRect(),R=T.width,N=T.height,g=Math.sqrt(Math.pow(R,2)+Math.pow(N,2));this.sin=Math.abs(N/g),this.cos=Math.abs(R/g),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var b=k.target.getAbsolutePosition(),E=k.target.getStage().getPointerPosition();this._anchorDragOffset={x:E.x-b.x,y:E.y-b.y},this._fire("transformstart",{evt:k.evt,target:this.getNode()}),this._nodes.forEach(A=>{A._fire("transformstart",{evt:k.evt,target:A})})}_handleMouseMove(k){var T,R,N,g=this.findOne("."+this._movingAnchorName),b=g.getStage();b.setPointersPositions(k);const E=b.getPointerPosition();let A={x:E.x-this._anchorDragOffset.x,y:E.y-this._anchorDragOffset.y};const M=g.getAbsolutePosition();this.anchorDragBoundFunc()&&(A=this.anchorDragBoundFunc()(M,A,k)),g.setAbsolutePosition(A);const L=g.getAbsolutePosition();if(!(M.x===L.x&&M.y===L.y)){if(this._movingAnchorName==="rotater"){var G=this._getNodeRect();T=g.x()-G.width/2,R=-g.y()+G.height/2;let j=Math.atan2(-R,T)+Math.PI/2;G.height<0&&(j-=Math.PI);var B=a.Konva.getAngle(this.rotation());const J=B+j,$=a.Konva.getAngle(this.rotationSnapTolerance()),W=S(this.rotationSnaps(),J,$)-G.rotation,nt=v(G,W);this._fitNodesInto(nt,k);return}var K=this.shiftBehavior(),X;K==="inverted"?X=this.keepRatio()&&!k.shiftKey:K==="none"?X=this.keepRatio():X=this.keepRatio()||k.shiftKey;var I=this.centeredScaling()||k.altKey;if(this._movingAnchorName==="top-left"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(z.x-g.x(),2)+Math.pow(z.y-g.y(),2));var et=this.findOne(".top-left").x()>z.x?-1:1,rt=this.findOne(".top-left").y()>z.y?-1:1;T=N*this.cos*et,R=N*this.sin*rt,this.findOne(".top-left").x(z.x-T),this.findOne(".top-left").y(z.y-R)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(g.y());else if(this._movingAnchorName==="top-right"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(g.x()-z.x,2)+Math.pow(z.y-g.y(),2));var et=this.findOne(".top-right").x()<z.x?-1:1,rt=this.findOne(".top-right").y()>z.y?-1:1;T=N*this.cos*et,R=N*this.sin*rt,this.findOne(".top-right").x(z.x+T),this.findOne(".top-right").y(z.y-R)}var it=g.position();this.findOne(".top-left").y(it.y),this.findOne(".bottom-right").x(it.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(g.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(g.x());else if(this._movingAnchorName==="bottom-left"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(z.x-g.x(),2)+Math.pow(g.y()-z.y,2));var et=z.x<g.x()?-1:1,rt=g.y()<z.y?-1:1;T=N*this.cos*et,R=N*this.sin*rt,g.x(z.x-T),g.y(z.y+R)}it=g.position(),this.findOne(".top-left").x(it.x),this.findOne(".bottom-right").y(it.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(g.y());else if(this._movingAnchorName==="bottom-right"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(g.x()-z.x,2)+Math.pow(g.y()-z.y,2));var et=this.findOne(".bottom-right").x()<z.x?-1:1,rt=this.findOne(".bottom-right").y()<z.y?-1:1;T=N*this.cos*et,R=N*this.sin*rt,this.findOne(".bottom-right").x(z.x+T),this.findOne(".bottom-right").y(z.y+R)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var I=this.centeredScaling()||k.altKey;if(I){var U=this.findOne(".top-left"),Y=this.findOne(".bottom-right"),ht=U.x(),ot=U.y(),F=this.getWidth()-Y.x(),D=this.getHeight()-Y.y();Y.move({x:-ht,y:-ot}),U.move({x:F,y:D})}var V=this.findOne(".top-left").getAbsolutePosition();T=V.x,R=V.y;var H=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),q=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:T,y:R,width:H,height:q,rotation:a.Konva.getAngle(this.rotation())},k)}}_handleMouseUp(k){this._removeEvents(k)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(k){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var T=this.getNode();this._fire("transformend",{evt:k,target:T}),T&&this._nodes.forEach(R=>{R._fire("transformend",{evt:k,target:R})}),this._movingAnchorName=null}}_fitNodesInto(k,T){var R=this._getNodeRect();const N=1;if(t.Util._inRange(k.width,-this.padding()*2-N,N)){this.update();return}if(t.Util._inRange(k.height,-this.padding()*2-N,N)){this.update();return}const g=this.flipEnabled();var b=new t.Transform;if(b.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("left")>=0){const G=b.point({x:-this.padding()*2,y:0});if(k.x+=G.x,k.y+=G.y,k.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,!g){this.update();return}}else if(this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("right")>=0){const G=b.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,k.width+=this.padding()*2,!g){this.update();return}}if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("top")>=0){const G=b.point({x:0,y:-this.padding()*2});if(k.x+=G.x,k.y+=G.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,k.height+=this.padding()*2,!g){this.update();return}}else if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const G=b.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,k.height+=this.padding()*2,!g){this.update();return}}if(this.boundBoxFunc()){const G=this.boundBoxFunc()(R,k);G?k=G:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const E=1e7,A=new t.Transform;A.translate(R.x,R.y),A.rotate(R.rotation),A.scale(R.width/E,R.height/E);const M=new t.Transform;M.translate(k.x,k.y),M.rotate(k.rotation),M.scale(k.width/E,k.height/E);const L=M.multiply(A.invert());this._nodes.forEach(G=>{var B;const K=G.getParent().getAbsoluteTransform(),X=G.getTransform().copy();X.translate(G.offsetX(),G.offsetY());const z=new t.Transform;z.multiply(K.copy().invert()).multiply(L).multiply(K).multiply(X);const et=z.decompose();G.setAttrs(et),this._fire("transform",{evt:T,target:G}),G._fire("transform",{evt:T,target:G}),(B=G.getLayer())===null||B===void 0||B.batchDraw()}),this.rotation(t.Util._getRotation(k.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(k,T){this.findOne(k).setAttrs(T)}update(){var k,T=this._getNodeRect();this.rotation(t.Util._getRotation(T.rotation));var R=T.width,N=T.height,g=this.enabledAnchors(),b=this.resizeEnabled(),E=this.padding(),A=this.anchorSize();this.find("._anchor").forEach(M=>{M.setAttrs({width:A,height:A,offsetX:A/2,offsetY:A/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:A/2+E,offsetY:A/2+E,visible:b&&g.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:R/2,y:0,offsetY:A/2+E,visible:b&&g.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:R,y:0,offsetX:A/2-E,offsetY:A/2+E,visible:b&&g.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:A/2+E,visible:b&&g.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:R,y:N/2,offsetX:A/2-E,visible:b&&g.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:A/2+E,offsetY:A/2-E,visible:b&&g.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:R/2,y:N,offsetY:A/2-E,visible:b&&g.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:R,y:N,offsetX:A/2-E,offsetY:A/2-E,visible:b&&g.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:R/2,y:-this.rotateAnchorOffset()*t.Util._sign(N)-E,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:R,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(k=this.getLayer())===null||k===void 0||k.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var k=this.findOne("."+this._movingAnchorName);k&&k.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(k){var T=r.Node.prototype.clone.call(this,k);return T}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Xr.Transformer=P;function O(w){return w instanceof Array||t.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(k){C.indexOf(k)===-1&&t.Util.warn("Unknown anchor name: "+k+". Available names are: "+C.join(", "))}),w||[]}return P.prototype.className="Transformer",(0,h._registerNode)(P),e.Factory.addGetterSetter(P,"enabledAnchors",C,O),e.Factory.addGetterSetter(P,"flipEnabled",!0,(0,o.getBooleanValidator)()),e.Factory.addGetterSetter(P,"resizeEnabled",!0),e.Factory.addGetterSetter(P,"anchorSize",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"rotateEnabled",!0),e.Factory.addGetterSetter(P,"rotationSnaps",[]),e.Factory.addGetterSetter(P,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"borderEnabled",!0),e.Factory.addGetterSetter(P,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(P,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"anchorFill","white"),e.Factory.addGetterSetter(P,"anchorCornerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(P,"borderStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"borderDash"),e.Factory.addGetterSetter(P,"keepRatio",!0),e.Factory.addGetterSetter(P,"shiftBehavior","default"),e.Factory.addGetterSetter(P,"centeredScaling",!1),e.Factory.addGetterSetter(P,"ignoreStroke",!1),e.Factory.addGetterSetter(P,"padding",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(P,"node"),e.Factory.addGetterSetter(P,"nodes"),e.Factory.addGetterSetter(P,"boundBoxFunc"),e.Factory.addGetterSetter(P,"anchorDragBoundFunc"),e.Factory.addGetterSetter(P,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(P,"useSingleNodeRotation",!0),e.Factory.backCompat(P,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Xr}var Jr={},Ko;function H1(){if(Ko)return Jr;Ko=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Wedge=void 0;const t=gt(),e=Lt(),r=mt(),i=_t(),n=mt();let s=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Jr.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1),t.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Jr}var Qr={},Wo;function q1(){if(Wo)return Qr;Wo=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Blur=void 0;const t=gt(),e=Ft(),r=_t();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function a(h,u){var p=h.data,d=h.width,_=h.height,m,f,y,C,x,c,l,v,S,P,O,w,k,T,R,N,g,b,E,A,M,L,G,B,K=u+u+1,X=d-1,z=_-1,et=u+1,rt=et*(et+1)/2,it=new i,I=null,U=it,Y=null,ht=null,ot=n[u],F=s[u];for(y=1;y<K;y++)U=U.next=new i,y===et&&(I=U);for(U.next=it,l=c=0,f=0;f<_;f++){for(N=g=b=E=v=S=P=O=0,w=et*(A=p[c]),k=et*(M=p[c+1]),T=et*(L=p[c+2]),R=et*(G=p[c+3]),v+=rt*A,S+=rt*M,P+=rt*L,O+=rt*G,U=it,y=0;y<et;y++)U.r=A,U.g=M,U.b=L,U.a=G,U=U.next;for(y=1;y<et;y++)C=c+((X<y?X:y)<<2),v+=(U.r=A=p[C])*(B=et-y),S+=(U.g=M=p[C+1])*B,P+=(U.b=L=p[C+2])*B,O+=(U.a=G=p[C+3])*B,N+=A,g+=M,b+=L,E+=G,U=U.next;for(Y=it,ht=I,m=0;m<d;m++)p[c+3]=G=O*ot>>F,G!==0?(G=255/G,p[c]=(v*ot>>F)*G,p[c+1]=(S*ot>>F)*G,p[c+2]=(P*ot>>F)*G):p[c]=p[c+1]=p[c+2]=0,v-=w,S-=k,P-=T,O-=R,w-=Y.r,k-=Y.g,T-=Y.b,R-=Y.a,C=l+((C=m+u+1)<X?C:X)<<2,N+=Y.r=p[C],g+=Y.g=p[C+1],b+=Y.b=p[C+2],E+=Y.a=p[C+3],v+=N,S+=g,P+=b,O+=E,Y=Y.next,w+=A=ht.r,k+=M=ht.g,T+=L=ht.b,R+=G=ht.a,N-=A,g-=M,b-=L,E-=G,ht=ht.next,c+=4;l+=d}for(m=0;m<d;m++){for(g=b=E=N=S=P=O=v=0,c=m<<2,w=et*(A=p[c]),k=et*(M=p[c+1]),T=et*(L=p[c+2]),R=et*(G=p[c+3]),v+=rt*A,S+=rt*M,P+=rt*L,O+=rt*G,U=it,y=0;y<et;y++)U.r=A,U.g=M,U.b=L,U.a=G,U=U.next;for(x=d,y=1;y<=u;y++)c=x+m<<2,v+=(U.r=A=p[c])*(B=et-y),S+=(U.g=M=p[c+1])*B,P+=(U.b=L=p[c+2])*B,O+=(U.a=G=p[c+3])*B,N+=A,g+=M,b+=L,E+=G,U=U.next,y<z&&(x+=d);for(c=m,Y=it,ht=I,f=0;f<_;f++)C=c<<2,p[C+3]=G=O*ot>>F,G>0?(G=255/G,p[C]=(v*ot>>F)*G,p[C+1]=(S*ot>>F)*G,p[C+2]=(P*ot>>F)*G):p[C]=p[C+1]=p[C+2]=0,v-=w,S-=k,P-=T,O-=R,w-=Y.r,k-=Y.g,T-=Y.b,R-=Y.a,C=m+((C=f+et)<z?C:z)*d<<2,v+=N+=Y.r=p[C],S+=g+=Y.g=p[C+1],P+=b+=Y.b=p[C+2],O+=E+=Y.a=p[C+3],Y=Y.next,w+=A=ht.r,k+=M=ht.g,T+=L=ht.b,R+=G=ht.a,N-=A,g-=M,b-=L,E-=G,ht=ht.next,c+=d}}const o=function(u){var p=Math.round(this.blurRadius());p>0&&a(u,p)};return Qr.Blur=o,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Qr}var Zr={},zo;function j1(){if(zo)return Zr;zo=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Brighten=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=this.brightness()*255,a=n.data,o=a.length,h;for(h=0;h<o;h+=4)a[h]+=s,a[h+1]+=s,a[h+2]+=s};return Zr.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Zr}var ti={},Yo;function K1(){if(Yo)return ti;Yo=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Contrast=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=Math.pow((this.contrast()+100)/100,2),a=n.data,o=a.length,h=150,u=150,p=150,d;for(d=0;d<o;d+=4)h=a[d],u=a[d+1],p=a[d+2],h/=255,h-=.5,h*=s,h+=.5,h*=255,u/=255,u-=.5,u*=s,u+=.5,u*=255,p/=255,p-=.5,p*=s,p+=.5,p*=255,h=h<0?0:h>255?255:h,u=u<0?0:u>255?255:u,p=p<0?0:p>255?255:p,a[d]=h,a[d+1]=u,a[d+2]=p};return ti.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ti}var ei={},$o;function W1(){if($o)return ei;$o=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Emboss=void 0;const t=gt(),e=Ft(),r=Nt(),i=_t(),n=function(s){var a=this.embossStrength()*10,o=this.embossWhiteLevel()*255,h=this.embossDirection(),u=this.embossBlend(),p=0,d=0,_=s.data,m=s.width,f=s.height,y=m*4,C=f;switch(h){case"top-left":p=-1,d=-1;break;case"top":p=-1,d=0;break;case"top-right":p=-1,d=1;break;case"right":p=0,d=1;break;case"bottom-right":p=1,d=1;break;case"bottom":p=1,d=0;break;case"bottom-left":p=1,d=-1;break;case"left":p=0,d=-1;break;default:r.Util.error("Unknown emboss direction: "+h)}do{var x=(C-1)*y,c=p;C+c<1&&(c=0),C+c>f&&(c=0);var l=(C-1+c)*m*4,v=m;do{var S=x+(v-1)*4,P=d;v+P<1&&(P=0),v+P>m&&(P=0);var O=l+(v-1+P)*4,w=_[S]-_[O],k=_[S+1]-_[O+1],T=_[S+2]-_[O+2],R=w,N=R>0?R:-R,g=k>0?k:-k,b=T>0?T:-T;if(g>N&&(R=k),b>N&&(R=T),R*=a,u){var E=_[S]+R,A=_[S+1]+R,M=_[S+2]+R;_[S]=E>255?255:E<0?0:E,_[S+1]=A>255?255:A<0?0:A,_[S+2]=M>255?255:M<0?0:M}else{var L=o-R;L<0?L=0:L>255&&(L=255),_[S]=_[S+1]=_[S+2]=L}}while(--v)}while(--C)};return ei.Emboss=n,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),ei}var ri={},Xo;function z1(){if(Xo)return ri;Xo=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Enhance=void 0;const t=gt(),e=Ft(),r=_t();function i(s,a,o,h,u){var p=o-a,d=u-h,_;return p===0?h+d/2:d===0?h:(_=(s-a)/p,_=d*_+h,_)}const n=function(s){var a=s.data,o=a.length,h=a[0],u=h,p,d=a[1],_=d,m,f=a[2],y=f,C,x,c=this.enhance();if(c!==0){for(x=0;x<o;x+=4)p=a[x+0],p<h?h=p:p>u&&(u=p),m=a[x+1],m<d?d=m:m>_&&(_=m),C=a[x+2],C<f?f=C:C>y&&(y=C);u===h&&(u=255,h=0),_===d&&(_=255,d=0),y===f&&(y=255,f=0);var l,v,S,P,O,w,k,T,R;for(c>0?(v=u+c*(255-u),S=h-c*(h-0),O=_+c*(255-_),w=d-c*(d-0),T=y+c*(255-y),R=f-c*(f-0)):(l=(u+h)*.5,v=u+c*(u-l),S=h+c*(h-l),P=(_+d)*.5,O=_+c*(_-P),w=d+c*(d-P),k=(y+f)*.5,T=y+c*(y-k),R=f+c*(f-k)),x=0;x<o;x+=4)a[x+0]=i(a[x+0],h,u,S,v),a[x+1]=i(a[x+1],d,_,w,O),a[x+2]=i(a[x+2],f,y,R,T)}};return ri.Enhance=n,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ri}var ii={},Jo;function Y1(){if(Jo)return ii;Jo=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Grayscale=void 0;const t=function(e){var r=e.data,i=r.length,n,s;for(n=0;n<i;n+=4)s=.34*r[n]+.5*r[n+1]+.16*r[n+2],r[n]=s,r[n+1]=s,r[n+2]=s};return ii.Grayscale=t,ii}var ni={},Qo;function $1(){if(Qo)return ni;Qo=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.HSL=void 0;const t=gt(),e=Ft(),r=_t();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(n){var s=n.data,a=s.length,o=1,h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,p=this.luminance()*127,d,_=o*h*Math.cos(u*Math.PI/180),m=o*h*Math.sin(u*Math.PI/180),f=.299*o+.701*_+.167*m,y=.587*o-.587*_+.33*m,C=.114*o-.114*_-.497*m,x=.299*o-.299*_-.328*m,c=.587*o+.413*_+.035*m,l=.114*o-.114*_+.293*m,v=.299*o-.3*_+1.25*m,S=.587*o-.586*_-1.05*m,P=.114*o+.886*_-.2*m,O,w,k,T;for(d=0;d<a;d+=4)O=s[d+0],w=s[d+1],k=s[d+2],T=s[d+3],s[d+0]=f*O+y*w+C*k+p,s[d+1]=x*O+c*w+l*k+p,s[d+2]=v*O+S*w+P*k+p,s[d+3]=T};return ni.HSL=i,ni}var si={},Zo;function X1(){if(Zo)return si;Zo=1,Object.defineProperty(si,"__esModule",{value:!0}),si.HSV=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=n.data,a=s.length,o=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,p,d=o*h*Math.cos(u*Math.PI/180),_=o*h*Math.sin(u*Math.PI/180),m=.299*o+.701*d+.167*_,f=.587*o-.587*d+.33*_,y=.114*o-.114*d-.497*_,C=.299*o-.299*d-.328*_,x=.587*o+.413*d+.035*_,c=.114*o-.114*d+.293*_,l=.299*o-.3*d+1.25*_,v=.587*o-.586*d-1.05*_,S=.114*o+.886*d-.2*_,P,O,w,k;for(p=0;p<a;p+=4)P=s[p+0],O=s[p+1],w=s[p+2],k=s[p+3],s[p+0]=m*P+f*O+y*w,s[p+1]=C*P+x*O+c*w,s[p+2]=l*P+v*O+S*w,s[p+3]=k};return si.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),si}var ai={},tl;function J1(){if(tl)return ai;tl=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Invert=void 0;const t=function(e){var r=e.data,i=r.length,n;for(n=0;n<i;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2]};return ai.Invert=t,ai}var oi={},el;function Q1(){if(el)return oi;el=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Kaleidoscope=void 0;const t=gt(),e=Ft(),r=Nt(),i=_t();var n=function(o,h,u){var p=o.data,d=h.data,_=o.width,m=o.height,f=u.polarCenterX||_/2,y=u.polarCenterY||m/2,C,x,c,l=0,v=0,S=0,P=0,O,w=Math.sqrt(f*f+y*y);x=_-f,c=m-y,O=Math.sqrt(x*x+c*c),w=O>w?O:w;var k=m,T=_,R,N,g=360/T*Math.PI/180,b,E;for(N=0;N<T;N+=1)for(b=Math.sin(N*g),E=Math.cos(N*g),R=0;R<k;R+=1)x=Math.floor(f+w*R/k*E),c=Math.floor(y+w*R/k*b),C=(c*_+x)*4,l=p[C+0],v=p[C+1],S=p[C+2],P=p[C+3],C=(N+R*_)*4,d[C+0]=l,d[C+1]=v,d[C+2]=S,d[C+3]=P},s=function(o,h,u){var p=o.data,d=h.data,_=o.width,m=o.height,f=u.polarCenterX||_/2,y=u.polarCenterY||m/2,C,x,c,l,v,S=0,P=0,O=0,w=0,k,T=Math.sqrt(f*f+y*y);x=_-f,c=m-y,k=Math.sqrt(x*x+c*c),T=k>T?k:T;var R=m,N=_,g,b,E=u.polarRotation||0,A,M;for(x=0;x<_;x+=1)for(c=0;c<m;c+=1)l=x-f,v=c-y,g=Math.sqrt(l*l+v*v)*R/T,b=(Math.atan2(v,l)*180/Math.PI+360+E)%360,b=b*N/360,A=Math.floor(b),M=Math.floor(g),C=(M*_+A)*4,S=p[C+0],P=p[C+1],O=p[C+2],w=p[C+3],C=(c*_+x)*4,d[C+0]=S,d[C+1]=P,d[C+2]=O,d[C+3]=w};const a=function(o){var h=o.width,u=o.height,p,d,_,m,f,y,C,x,c,l,v=Math.round(this.kaleidoscopePower()),S=Math.round(this.kaleidoscopeAngle()),P=Math.floor(h*(S%360)/360);if(!(v<1)){var O=r.Util.createCanvasElement();O.width=h,O.height=u;var w=O.getContext("2d").getImageData(0,0,h,u);r.Util.releaseCanvas(O),n(o,w,{polarCenterX:h/2,polarCenterY:u/2});for(var k=h/Math.pow(2,v);k<=8;)k=k*2,v-=1;k=Math.ceil(k);var T=k,R=0,N=T,g=1;for(P+k>h&&(R=T,N=0,g=-1),d=0;d<u;d+=1)for(p=R;p!==N;p+=g)_=Math.round(p+P)%h,c=(h*d+_)*4,f=w.data[c+0],y=w.data[c+1],C=w.data[c+2],x=w.data[c+3],l=(h*d+p)*4,w.data[l+0]=f,w.data[l+1]=y,w.data[l+2]=C,w.data[l+3]=x;for(d=0;d<u;d+=1)for(T=Math.floor(k),m=0;m<v;m+=1){for(p=0;p<T+1;p+=1)c=(h*d+p)*4,f=w.data[c+0],y=w.data[c+1],C=w.data[c+2],x=w.data[c+3],l=(h*d+T*2-p-1)*4,w.data[l+0]=f,w.data[l+1]=y,w.data[l+2]=C,w.data[l+3]=x;T*=2}s(w,o,{polarRotation:0})}};return oi.Kaleidoscope=a,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),oi}var li={},rl;function Z1(){if(rl)return li;rl=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Mask=void 0;const t=gt(),e=Ft(),r=_t();function i(_,m,f){var y=(f*_.width+m)*4,C=[];return C.push(_.data[y++],_.data[y++],_.data[y++],_.data[y++]),C}function n(_,m){return Math.sqrt(Math.pow(_[0]-m[0],2)+Math.pow(_[1]-m[1],2)+Math.pow(_[2]-m[2],2))}function s(_){for(var m=[0,0,0],f=0;f<_.length;f++)m[0]+=_[f][0],m[1]+=_[f][1],m[2]+=_[f][2];return m[0]/=_.length,m[1]/=_.length,m[2]/=_.length,m}function a(_,m){var f=i(_,0,0),y=i(_,_.width-1,0),C=i(_,0,_.height-1),x=i(_,_.width-1,_.height-1),c=m||10;if(n(f,y)<c&&n(y,x)<c&&n(x,C)<c&&n(C,f)<c){for(var l=s([y,f,x,C]),v=[],S=0;S<_.width*_.height;S++){var P=n(l,[_.data[S*4],_.data[S*4+1],_.data[S*4+2]]);v[S]=P<c?0:255}return v}}function o(_,m){for(var f=0;f<_.width*_.height;f++)_.data[4*f+3]=m[f]}function h(_,m,f){for(var y=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<m;v++){for(var S=l*m+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var k=l+O-x,T=v+w-x;if(k>=0&&k<f&&T>=0&&T<m){var R=k*m+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P===255*8?255:0}return c}function u(_,m,f){for(var y=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<m;v++){for(var S=l*m+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var k=l+O-x,T=v+w-x;if(k>=0&&k<f&&T>=0&&T<m){var R=k*m+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P>=255*4?255:0}return c}function p(_,m,f){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<m;v++){for(var S=l*m+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var k=l+O-x,T=v+w-x;if(k>=0&&k<f&&T>=0&&T<m){var R=k*m+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P}return c}const d=function(_){var m=this.threshold(),f=a(_,m);return f&&(f=h(f,_.width,_.height),f=u(f,_.width,_.height),f=p(f,_.width,_.height),o(_,f)),_};return li.Mask=d,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),li}var hi={},il;function tg(){if(il)return hi;il=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Noise=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=this.noise()*255,a=n.data,o=a.length,h=s/2,u;for(u=0;u<o;u+=4)a[u+0]+=h-2*h*Math.random(),a[u+1]+=h-2*h*Math.random(),a[u+2]+=h-2*h*Math.random()};return hi.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),hi}var ci={},nl;function eg(){if(nl)return ci;nl=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Pixelate=void 0;const t=gt(),e=Nt(),r=Ft(),i=_t(),n=function(s){var a=Math.ceil(this.pixelSize()),o=s.width,h=s.height,u,p,d,_,m,f,y,C=Math.ceil(o/a),x=Math.ceil(h/a),c,l,v,S,P,O,w,k=s.data;if(a<=0){e.Util.error("pixelSize value can not be <= 0");return}for(P=0;P<C;P+=1)for(O=0;O<x;O+=1){for(_=0,m=0,f=0,y=0,c=P*a,l=c+a,v=O*a,S=v+a,w=0,u=c;u<l;u+=1)if(!(u>=o))for(p=v;p<S;p+=1)p>=h||(d=(o*p+u)*4,_+=k[d+0],m+=k[d+1],f+=k[d+2],y+=k[d+3],w+=1);for(_=_/w,m=m/w,f=f/w,y=y/w,u=c;u<l;u+=1)if(!(u>=o))for(p=v;p<S;p+=1)p>=h||(d=(o*p+u)*4,k[d+0]=_,k[d+1]=m,k[d+2]=f,k[d+3]=y)}};return ci.Pixelate=n,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ci}var ui={},sl;function rg(){if(sl)return ui;sl=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Posterize=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=Math.round(this.levels()*254)+1,a=n.data,o=a.length,h=255/s,u;for(u=0;u<o;u+=1)a[u]=Math.floor(a[u]/h)*h};return ui.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ui}var di={},al;function ig(){if(al)return di;al=1,Object.defineProperty(di,"__esModule",{value:!0}),di.RGB=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=n.data,a=s.length,o=this.red(),h=this.green(),u=this.blue(),p,d;for(p=0;p<a;p+=4)d=(.34*s[p]+.5*s[p+1]+.16*s[p+2])/255,s[p]=d*o,s[p+1]=d*h,s[p+2]=d*u,s[p+3]=s[p+3]};return di.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),di}var fi={},ol;function ng(){if(ol)return fi;ol=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.RGBA=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=n.data,a=s.length,o=this.red(),h=this.green(),u=this.blue(),p=this.alpha(),d,_;for(d=0;d<a;d+=4)_=1-p,s[d]=o*p+s[d]*_,s[d+1]=h*p+s[d+1]*_,s[d+2]=u*p+s[d+2]*_};return fi.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n}),fi}var gi={},ll;function sg(){if(ll)return gi;ll=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Sepia=void 0;const t=function(e){var r=e.data,i=r.length,n,s,a,o;for(n=0;n<i;n+=4)s=r[n+0],a=r[n+1],o=r[n+2],r[n+0]=Math.min(255,s*.393+a*.769+o*.189),r[n+1]=Math.min(255,s*.349+a*.686+o*.168),r[n+2]=Math.min(255,s*.272+a*.534+o*.131)};return gi.Sepia=t,gi}var pi={},hl;function ag(){if(hl)return pi;hl=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Solarize=void 0;const t=function(e){var r=e.data,i=e.width,n=e.height,s=i*4,a=n;do{var o=(a-1)*s,h=i;do{var u=o+(h-1)*4,p=r[u],d=r[u+1],_=r[u+2];p>127&&(p=255-p),d>127&&(d=255-d),_>127&&(_=255-_),r[u]=p,r[u+1]=d,r[u+2]=_}while(--h)}while(--a)};return pi.Solarize=t,pi}var mi={},cl;function og(){if(cl)return mi;cl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Threshold=void 0;const t=gt(),e=Ft(),r=_t(),i=function(n){var s=this.threshold()*255,a=n.data,o=a.length,h;for(h=0;h<o;h+=1)a[h]=a[h]<s?0:255};return mi.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),mi}var ul;function lg(){if(ul)return Rr;ul=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Konva=void 0;const t=k1(),e=A1(),r=O1(),i=N1(),n=F1(),s=M1(),a=I1(),o=bc(),h=fa(),u=Sc(),p=L1(),d=G1(),_=D1(),m=B1(),f=wc(),y=U1(),C=V1(),x=H1(),c=q1(),l=j1(),v=K1(),S=W1(),P=z1(),O=Y1(),w=$1(),k=X1(),T=J1(),R=Q1(),N=Z1(),g=tg(),b=eg(),E=rg(),A=ig(),M=ng(),L=sg(),G=ag(),B=og();return Rr.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:n.Ellipse,Image:s.Image,Label:a.Label,Tag:a.Tag,Line:o.Line,Path:h.Path,Rect:u.Rect,RegularPolygon:p.RegularPolygon,Ring:d.Ring,Sprite:_.Sprite,Star:m.Star,Text:f.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:x.Wedge,Filters:{Blur:c.Blur,Brighten:l.Brighten,Contrast:v.Contrast,Emboss:S.Emboss,Enhance:P.Enhance,Grayscale:O.Grayscale,HSL:w.HSL,HSV:k.HSV,Invert:T.Invert,Kaleidoscope:R.Kaleidoscope,Mask:N.Mask,Noise:g.Noise,Pixelate:b.Pixelate,Posterize:E.Posterize,RGB:A.RGB,RGBA:M.RGBA,Sepia:L.Sepia,Solarize:G.Solarize,Threshold:B.Threshold}}),Rr}var hg=on.exports,dl;function xc(){if(dl)return on.exports;dl=1,Object.defineProperty(hg,"__esModule",{value:!0});const t=lg();return on.exports=t.Konva,on.exports}var cg=xc();const pe=mc(cg),ug={props:{layerBackground:Object,tailleGrille:Number,width:Number,height:Number},watch:{layerBackground:{immediate:!0,handler(t){if(t){const e=new Konva.Rect({id:"fond",x:0,y:0,width:this.tailleGrille*(this.width/this.tailleGrille)-this.width/this.tailleGrille/6,height:this.tailleGrille*(this.height/this.tailleGrille)-this.height/this.tailleGrille/6,fill:"#0B0B0B"});t.add(e),t.draw()}}}}},dg={ref:"background"};function fg(t,e,r,i,n,s){return ct(),ft("div",null,[tt("div",dg,null,512)])}const gg=Yt(ug,[["render",fg]]),pg={props:{layerCell:Object,tailleGrille:Number,width:Number,height:Number,roomId:Number,socket:Object},data(){return{myTurn:null,valid:[]}},mounted(){this.socket.on("my turn",t=>{this.myTurn=t,console.log("cellule : my turn "+this.myTurn)}),this.socket.on("cells checked",t=>{console.log(t),this.valid=t,this.layerCell.getChildren().forEach(e=>{e.fill("#0B0B0B"),e.valid=!1}),t.forEach(e=>{this.layerCell.find(r=>r.attrs.x1===e.x&&r.attrs.y1===e.y)[0].fill("#333363"),this.layerCell.draw()})})},watch:{layerCell:{immediate:!0,handler(t){const e=this;if(t){for(let r=0;r<this.tailleGrille;r++)for(let i=0;i<this.tailleGrille;i++){console.log(this.height/this.tailleGrille-this.height/this.tailleGrille/6);const n=new Konva.Rect({id:""+r+i,x1:r,y1:i,x:this.width/this.tailleGrille*r,y:this.height/this.tailleGrille*i,width:this.width/this.tailleGrille-this.width/this.tailleGrille/6,height:this.height/this.tailleGrille-this.height/this.tailleGrille/6,fill:"#0B0B0B",stroke:"#217BFF"});n.on("click",function(s){let a=!1;e.valid.find(o=>o.x===s.target.attrs.x1&&o.y===s.target.attrs.y1)&&(a=!0),e.myTurn&&a&&(console.log("event-turn"),console.log(s.target),e.socket.emit("nextplayer",e.roomId),e.socket.emit("coord",e.roomId,{x:s.target.attrs.x1,y:s.target.attrs.y1}),e.layerCell.getChildren().forEach(o=>{o.fill("#0B0B0B"),o.valid=!1}))}),t.add(n)}t.draw()}}}}},mg={ref:"cell"};function _g(t,e,r,i,n,s){return ct(),ft("div",null,[tt("div",mg,null,512)])}const vg=Yt(pg,[["render",_g]]),yg={props:{layerPion:Object,tailleGrille:Number,listeJoueur:Object,width:Number,height:Number,otherInitGame:Object,myInitGame:Object,newPosition:Object},data(){return{mx:this.width/this.tailleGrille,sx:-(this.width/this.tailleGrille)/2-this.width/this.tailleGrille/12}},watch:{newPosition:function(t,e){const r=this;console.log("La valeur de la prop myProp a changé de",e,"à",t);let i=this.layerPion.find(s=>s.attrs.owner===t.id)[0];const n=new pe.Tween({node:i,duration:.5,x:(1+t.coord.x)*this.mx+this.sx,y:(1+t.coord.y)*this.mx+this.sx,opacity:1,onFinish:function(){i.setAttrs({x:(1+t.coord.x)*r.mx+r.sx,y:(1+t.coord.y)*r.mx+r.sx})}});console.log(i),n.play()},layerPion:{immediate:!0,handler(t){if(t){const e=[[(1+this.myInitGame.positionStart.x)*this.mx+this.sx,(1+this.myInitGame.positionStart.y)*this.mx+this.sx]];this.otherInitGame.forEach(r=>{e.push([(1+r.positionStart.x)*this.mx+this.sx,(1+r.positionStart.y)*this.mx+this.sx])});for(const r in this.listeJoueur){const i=new pe.Circle({owner:this.listeJoueur[r][0],x:e[r][0],y:e[r][1],radius:.4*(this.width/this.tailleGrille-this.width/this.tailleGrille/6),fill:this.listeJoueur[r][1]});t.add(i)}t.draw()}}}}},bg={ref:"pion"};function Cg(t,e,r,i,n,s){return ct(),ft("div",null,[tt("div",bg,null,512)])}const Sg=Yt(yg,[["render",Cg]]),wg={props:{layerBarEmpl:Object,tailleGrille:Number,width:Number,height:Number,selected:Array,roomId:Number,socket:Object},watch:{layerBarEmpl:{immediate:!0,handler(t){const e=this;if(t){for(let r=0;r<this.tailleGrille-1;r++)for(let i=0;i<this.tailleGrille;i++){let n=new pe.Rect({id:""+r+i,x:this.width/this.tailleGrille*r+this.width/this.tailleGrille*.875,y:this.height/this.tailleGrille*i+this.height/this.tailleGrille*.125/3,x1:r,y1:i,width:this.width/this.tailleGrille/12,height:this.height/this.tailleGrille*.75,fill:"#464646",name:"V"});i!==this.tailleGrille-1&&n.on("click",function(s){let a={name:s.target.attrs.name,x1:s.target.attrs.x1,y1:s.target.attrs.y1},o=t.find(u=>u.attrs.x1===s.target.attrs.x1&&u.attrs.y1===s.target.attrs.y1+1&&u.attrs.name==="V")[0],h={name:o.attrs.name,x1:o.attrs.x1,y1:o.attrs.y1};console.log(a),e.socket.emit("testBar",e.roomId,a,h),e.socket.on("valid Bar",u=>{u&&(s.target.fill("#EDED5E"),console.log("[barV] "+s.target.attrs.id),t.find(p=>p.attrs.x1===s.target.attrs.x1&&p.attrs.y1===s.target.attrs.y1+1&&p.attrs.name==="V")[0].fill("#EDED5E"),t.draw())})}),t.add(n)}for(let r=0;r<this.tailleGrille;r++)for(let i=0;i<this.tailleGrille-1;i++){let n=new pe.Rect({id:""+r+i,x:this.width/this.tailleGrille*r+this.width/this.tailleGrille*.125/3,y:this.height/this.tailleGrille*i+this.height/this.tailleGrille*.875,x1:r,y1:i,width:this.width/this.tailleGrille*.75,height:this.height/this.tailleGrille/12,fill:"#464646",name:"H"});r!==this.tailleGrille-1&&n.on("click",function(s){let a={name:s.target.attrs.name,x1:s.target.attrs.x1,y1:s.target.attrs.y1},o=t.find(u=>u.attrs.x1===s.target.attrs.x1+1&&u.attrs.y1===s.target.attrs.y1&&u.attrs.name==="H")[0];console.log(o.attrs);let h={name:o.attrs.name,x1:o.attrs.x1,y1:o.attrs.y1};console.log(h),e.socket.emit("testBar",e.roomId,a,h),e.socket.on("valid Bar",u=>{u&&(s.target.fill("#EDED5E"),console.log("[barH] "+s.target.attrs.id),t.find(p=>p.attrs.x1===s.target.attrs.x1+1&&p.attrs.y1===s.target.attrs.y1&&p.attrs.name==="H")[0].fill("#EDED5E"),t.draw())})}),t.add(n)}console.log(t),t.draw()}}}}},xg={ref:"barEmpl"};function Tg(t,e,r,i,n,s){return ct(),ft("div",null,[tt("div",xg,null,512)])}const Eg=Yt(wg,[["render",Tg]]),Pg={props:{layerBar:Object,tailleGrille:Number,nbBarriere:Number,listeJoueur:Object,width:Number,height:Number},watch:{layerBar:{immediate:!0,handler(t){if(t){for(const e in this.listeJoueur)for(let r=0;r<this.nbBarriere;r++){const i=new Konva.Rect({id:"("+r+")",owner:this.listeJoueur[e][0],x:e*this.tailleGrille*100/4,y:20*r+this.tailleGrille*120,width:90,height:10,fill:this.listeJoueur[e][1]});t.add(i)}t.draw()}}}}},kg={ref:"barriere"};function Ag(t,e,r,i,n,s){return ct(),ft("div",null,[tt("div",kg,null,512)])}const Rg=Yt(Pg,[["render",Ag]]);const Og={name:"PlateauComponent",data(){return{width:800,height:800,listeJoueur:[],layerBackground:null,layerCell:null,layerBarEmpl:null,layerBar:null,layerPion:null}},props:["nbSquares","myInitGame","otherInitGame","myTurn","newPosition","nbBarriere","roomId","socket"],components:{Background:gg,Rect:vg,Pion:Sg,BarrierEmpl:Eg,BarrierObj:Rg},computed:{stage(){return this.$refs.stage}},methods:{changeturn(t){this.$emit("event-turn",t)}},mounted(){this.listeJoueur.push([this.myInitGame.socketId,this.myInitGame.color]),this.otherInitGame.forEach(a=>this.listeJoueur.push([a.socketId,a.color])),console.log("plateau joueurs : "+this.listeJoueur);const t=new pe.Stage({container:this.$refs.plateau,width:this.width,height:this.height}),e=new pe.Layer({fill:"blue"});t.add(e),this.layerBackground=e;const r=new pe.Layer({fill:"blue"});t.add(r),this.layerCell=r;const i=new pe.Layer({fill:"blue"});t.add(i),this.layerBarEmpl=i;const n=new pe.Layer({fill:"blue"});t.add(n),this.layerBar=n;const s=new pe.Layer({fill:"blue"});t.add(s),this.layerPion=s,t.draw()}},Ng={class:"container"},Fg={ref:"plateau"};function Mg(t,e,r,i,n,s){const a=jt("Background"),o=jt("Rect"),h=jt("BarrierEmpl"),u=jt("Pion");return ct(),ft("div",Ng,[tt("div",Fg,[St(a,{width:n.width,height:n.height,layerBackground:n.layerBackground,"taille-grille":r.nbSquares},null,8,["width","height","layerBackground","taille-grille"]),St(o,{roomId:r.roomId,socket:r.socket,width:n.width,height:n.height,layerCell:n.layerCell,"taille-grille":r.nbSquares},null,8,["roomId","socket","width","height","layerCell","taille-grille"]),St(h,{roomId:r.roomId,socket:r.socket,width:n.width,height:n.height,layerBarEmpl:n.layerBarEmpl,"taille-grille":r.nbSquares},null,8,["roomId","socket","width","height","layerBarEmpl","taille-grille"]),St(u,{newPosition:r.newPosition,myInitGame:r.myInitGame,otherInitGame:r.otherInitGame,width:n.width,height:n.height,layerPion:n.layerPion,listeJoueur:n.listeJoueur,"taille-grille":r.nbSquares},null,8,["newPosition","myInitGame","otherInitGame","width","height","layerPion","listeJoueur","taille-grille"])],512)])}const Ig=Yt(Og,[["render",Mg],["__scopeId","data-v-a9ec098a"]]);const Lg={name:"Regles",props:["revele","toggleModale"]},Gg={key:0,class:"overlay"},Dg={key:1,class:"bloc-modale"},Bg=yh('<div class="row" data-v-af2c760d><div class="col" data-v-af2c760d><button class="btn btn-primary" data-v-af2c760d> A </button></div><div class="col" data-v-af2c760d><button class="btn btn-info" data-v-af2c760d> BLABKAS </button></div></div>',1);function Ug(t,e,r,i,n,s){return ct(),ft(At,null,[r.revele?(ct(),ft("div",Gg)):Tt("",!0),r.revele?(ct(),ft("div",Dg,[tt("button",{onClick:e[0]||(e[0]=(...a)=>r.toggleModale&&r.toggleModale(...a)),class:"btn-closei btn btn-danger"},"X"),Bg])):Tt("",!0)],64)}const Vg=Yt(Lg,[["render",Ug],["__scopeId","data-v-af2c760d"]]);const Hg={props:["username","socket","roomId"],data(){return{text:"",messages:[],isTyping:!1,timeout:null}},created(){this.onSubmit()},methods:{onSubmit(){this.socket.on("message recu",t=>{this.messages=[...this.messages,t]}),this.socket.on("typing",t=>{const e=t.username;e!==this.username&&(document.getElementById("typing-indicator").innerHTML=`${e} est en train d'écrire`)}),this.socket.on("stop typing",()=>{this.socket.emit("stop typing",{username:this.username}),document.getElementById("typing-indicator").innerHTML=""})},scrollToBottom(){this.$nextTick(()=>{this.$refs.messages&&(this.$refs.messages.scrollToBottom=this.$refs.messages.scrollHeight)})},onTyping(){this.isTyping=!1,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.isTyping=!0,this.socket.emit("typing",{username:this.username})},500)},sendMessage(){this.isTyping=!1;const t={id:new Date().getTime(),text:this.text,user:this.username,socketId:this.socket.id};this.messages=[...this.messages,t],this.text="",this.socket.emit("message",t),this.scrollToBottom()}},watch(){this.$refs.messages.scrollTop=this.$refs.messages.scrollHeight}},ga=t=>(kn("data-v-1b140940"),t=t(),An(),t),qg={class:"chat__layer"},jg={class:"container"},Kg=ga(()=>tt("div",null,[tt("h2",{id:"chatty"},"Chat"),tt("button",{class:"future_modal"},"📨")],-1)),Wg={ref:"messages",id:"messages"},zg=ga(()=>tt("div",{id:"emoji_list"},null,-1)),Yg={key:0},$g=ga(()=>tt("div",{id:"typing-indicator"},null,-1));function Xg(t,e,r,i,n,s){return ct(),ft("div",qg,[tt("div",jg,[Kg,tt("div",Wg,[zg,(ct(!0),ft(At,null,In(n.messages,a=>(ct(),ft("div",{key:a.id,class:br([{"message-from-me":a.socketId===r.socket.id,"message-from-others":a.socketId!==r.socket.id&&a.user!==r.username},"mt-3"])},[a.user!==r.username?(ct(),ft("div",Yg,[tt("span",null,[tt("b",null,te(a.user),1)])])):Tt("",!0),tt("div",null,[tt("p",null,te(a.text),1),tt("span",null,te(new Date(a.id).toLocaleTimeString()),1)])],2))),128))],512),tt("div",null,[oe(tt("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.text=a),placeholder:"write a message...",class:"text-message",onKeyup:[e[1]||(e[1]=Kh((...a)=>s.sendMessage&&s.sendMessage(...a),["enter"])),e[2]||(e[2]=(...a)=>s.onTyping&&s.onTyping(...a))]},null,544),[[Ve,n.text]])]),$g])])}const Jg=Yt(Hg,[["render",Xg],["__scopeId","data-v-1b140940"]]),Qg={name:"infoBarriere",props:["username","nb_Walls","new_nb_Walls"],data(){return{myValue:this.new_nb_Walls*100/this.nb_Walls}},computed:{progressBarValue(){return this.myValue},progressBarWidth(){return`${this.myValue}%`}}},Zg={class:"container"},t2={class:"progress"};function e2(t,e,r,i,n,s){return ct(),ft("div",Zg,[tt("h2",null,te(r.username),1),tt("div",t2,[tt("div",{class:"progress-bar",role:"progressbar",style:yr({width:s.progressBarWidth}),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},te(r.new_nb_Walls)+" / "+te(r.nb_Walls)+" Murs ",5)])])}const r2=Yt(Qg,[["render",e2]]);const i2={data(){return{player:null,socket:an(),roomId:null,playGame:!1,color:null,nbSquares:null,nbBarriere:null,myInitGame:null,otherInitGame:[],myTurn:!1,start:!1,newPosition:null,game:null,reveleCreer:!1,reveleRejoindre:!1,reveleRegles:!1}},components:{NewRoomComponent:s1,JoinRoomComponent:w1,ListeRoomComponent:pc,ListeUserComponent:ha,PlateauComponent:Ig,Regles:Vg,chat:Jg,infoBarriere:r2},created(){this.socket.on("start game",({info:t,initGame:e})=>{this.nbSquares=t.nb_Squares,this.nbBarriere=t.nb_Walls,this.start=!0,this.socket.emit("game",this.roomId),e.forEach(r=>{r.socketId===this.socket.id?this.myInitGame=r:this.otherInitGame.push(r)}),this.playGame=!0}),this.socket.on("my turn",t=>{this.myTurn=t,console.log("my turn "+this.myTurn)}),this.socket.on("change",t=>{console.log(t),this.newPosition=t})},methods:{setRoomId(t){this.player=t.player,console.log("[App.vue] : "+this.player),this.roomId=t.roomId,console.log("[App.vue] : "+this.roomId),this.game=t.game},changeturn(t){this.myTurn=t.myTurn,this.socket.emit("coord",this.roomId,t.coord),console.log("payload "+this.myTurn)},toggleCreer:function(){this.reveleCreer=!this.reveleCreer},toggleRejoindre:function(){this.reveleRejoindre=!this.reveleRejoindre},toggleRegles:function(){this.reveleRegles=!this.reveleRegles}}},n2={class:"template"},s2={class:"one"},a2={key:3,class:"alert alert-success"},o2=tt("strong",null,"Your turn man!",-1),l2=[o2],h2={key:4,class:"alert alert-warning"},c2=tt("strong",null,"Wait bro is not your turn!",-1),u2=[c2],d2={class:"boutons"},f2={class:"game_rule"},g2={class:"two"};function p2(t,e,r,i,n,s){const a=jt("NewRoomComponent"),o=jt("JoinRoomComponent"),h=jt("regles"),u=jt("infoBarriere"),p=jt("PlateauComponent"),d=jt("chat");return ct(),ft("div",n2,[Gn(te(n.myTurn)+" ",1),tt("div",s2,[n.playGame?Tt("",!0):(ct(),ce(a,{key:0,socket:n.socket,onEventRoomId:s.setRoomId,revele:n.reveleCreer,toggleModale:s.toggleCreer},null,8,["socket","onEventRoomId","revele","toggleModale"])),n.playGame?Tt("",!0):(ct(),ce(o,{key:1,socket:n.socket,onEventRoomId:s.setRoomId,revele:n.reveleRejoindre,toggleModale:s.toggleRejoindre},null,8,["socket","onEventRoomId","revele","toggleModale"])),St(h,{revele:n.reveleRegles,toggleModale:s.toggleRegles},null,8,["revele","toggleModale"]),n.playGame?(ct(),ce(u,{key:2,username:n.player.username,"nb_-walls":n.game.nb_Walls,"new_nb_-walls":n.game.new_nb_Walls},null,8,["username","nb_-walls","new_nb_-walls"])):Tt("",!0),n.playGame&&n.myTurn?(ct(),ft("div",a2,l2)):Tt("",!0),n.playGame&&!n.myTurn?(ct(),ft("div",h2,u2)):Tt("",!0),tt("div",d2,[n.playGame?Tt("",!0):(ct(),ft("div",{key:0,onClick:e[0]||(e[0]=(..._)=>s.toggleCreer&&s.toggleCreer(..._)),class:"btn btn-success"},"Créer une partie")),n.playGame?Tt("",!0):(ct(),ft("div",{key:1,onClick:e[1]||(e[1]=(..._)=>s.toggleRejoindre&&s.toggleRejoindre(..._)),class:"btn btn-success"},"Rejoindre une partie"))]),tt("div",f2,[tt("div",{onClick:e[2]||(e[2]=(..._)=>s.toggleRegles&&s.toggleRegles(..._)),class:"btn btn-success"},"Regles")]),n.playGame?(ct(),ce(p,{key:5,socket:n.socket,roomId:n.roomId,onEventTurn:s.changeturn,myTurn:n.myTurn,color:n.color,nbSquares:n.nbSquares,nbBarriere:n.nbBarriere,myInitGame:n.myInitGame,otherInitGame:n.otherInitGame,newPosition:n.newPosition},null,8,["socket","roomId","onEventTurn","myTurn","color","nbSquares","nbBarriere","myInitGame","otherInitGame","newPosition"])):Tt("",!0)]),tt("div",g2,[n.playGame?(ct(),ce(d,{key:0,socket:n.socket,username:n.player.username,"room-id":n.roomId},null,8,["socket","username","room-id"])):Tt("",!0)])])}const m2=Yt(i2,[["render",p2]]);var Tc={exports:{}};const _2=x1(Vf);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(i,n){t.exports=n(_2,xc())})(As,function(r,i){return function(n){var s={};function a(o){if(s[o])return s[o].exports;var h=s[o]={i:o,l:!1,exports:{}};return n[o].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=n,a.c=s,a.d=function(o,h,u){a.o(o,h)||Object.defineProperty(o,h,{enumerable:!0,get:u})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,h){if(h&1&&(o=a(o)),h&8||h&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),h&2&&typeof o!="string")for(var p in o)a.d(u,p,function(d){return o[d]}.bind(null,p));return u},a.n=function(o){var h=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(h,"a",h),h},a.o=function(o,h){return Object.prototype.hasOwnProperty.call(o,h)},a.p="",a(a.s=2)}([function(n,s){n.exports=r},function(n,s){n.exports=i},function(n,s,a){n.exports=a(3)},function(n,s,a){a.r(s);var o=a(0),h=a(1),u=a.n(h);function p(g){if(!u.a.autoDrawEnabled){var b=g.getLayer()||g.getStage();b&&b.batchDraw()}}var d={key:!0,style:!0,elm:!0,isRootInsert:!0},_=".vue-konva-event";function m(g,b,E,A){b===void 0&&(b={}),E===void 0&&(E={});var M=g.__konvaNode,L={},G=!1;for(var B in E)if(!d[B]){var K=B.slice(0,2)==="on",X=E[B]!==b[B];if(K&&X){var z=B.substr(2).toLowerCase();z.substr(0,7)==="content"&&(z="content"+z.substr(7,1).toUpperCase()+z.substr(8)),M.off(z+_,E[B])}var et=!b.hasOwnProperty(B);et&&M.setAttr(B,void 0)}for(var rt in b)if(!d[rt]){var it=rt.slice(0,2)==="on",I=E[rt]!==b[rt];if(it&&I){var U=rt.substr(2).toLowerCase();U.substr(0,7)==="content"&&(U="content"+U.substr(7,1).toUpperCase()+U.substr(8)),b[rt]&&(M.off(U+_),M.on(U+_,b[rt]))}!it&&(b[rt]!==E[rt]||A&&b[rt]!==M.getAttr(rt))&&(G=!0,L[rt]=b[rt])}G&&(M.setAttrs(L),p(M))}var f="v";function y(g){function b(E){return E.__konvaNode?E:E.parent?b(E.parent):(console.error("vue-konva error: Can not find parent node"),{})}return b(g.parent)}function C(g){if(g!=null&&g.component)return g.component.__konvaNode||C(g.component.subTree)}function x(g){var b=g.el,E=g.component,A=C(g);if(b!=null&&b.tagName&&E&&!A){var M=b&&b.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+M+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return A}function c(g){var b=[];return g.children&&g.children.forEach(function(E){!E.component&&Array.isArray(E.children)&&E.children.forEach(function(A){!A.component&&Array.isArray(A.children)?b.push.apply(b,A.children):b.push(A)}),E.component&&b.push(E)}),b}function l(g,b){var E=c(g),A=[];E.forEach(function(L){var G=x(L);G&&A.push(G)});var M=!1;A.forEach(function(L,G){L.getZIndex()!==G&&(L.setZIndex(G),M=!0)}),M&&p(b)}function v(){return v=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},v.apply(this,arguments)}var S={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(b,E){var A=E.attrs,M=E.slots,L=E.expose;E.emits;var G=Object(o.getCurrentInstance)(),B=Object(o.reactive)({}),K=Object(o.ref)(null),X=new window.Konva.Stage({width:b.config.width,height:b.config.height,container:document.createElement("div")});G.__konvaNode=X,rt();function z(){return G.__konvaNode}function et(){return G.__konvaNode}function rt(){var it=B||{},I=v({},A,b.config);m(G,I,it,b.__useStrictMode),Object.assign(B,I)}return Object(o.onMounted)(function(){K.value.innerHTML="",X.container(K.value),rt()}),Object(o.onUpdated)(function(){rt(),l(G.subTree,X)}),Object(o.onBeforeUnmount)(function(){X.destroy()}),Object(o.watch)(function(){return b.config},rt,{deep:!0}),L({getStage:et,getNode:z}),function(){var it;return Object(o.h)("div",{ref:K},(it=M.default)===null||it===void 0?void 0:it.call(M))}}};function P(){return P=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},P.apply(this,arguments)}var O=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},k=function(g){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(E,A){var M=A.attrs,L=A.slots,G=A.expose,B=Object(o.getCurrentInstance)(),K=Object(o.reactive)({}),X=window.Konva[g];if(!X){console.error("vue-konva error: Can not find node "+g);return}var z=new X;B.__konvaNode=z,B.vnode.__konvaNode=z,it();function et(){return B.__konvaNode}function rt(){return B.__konvaNode}function it(){var U={};for(var Y in B.vnode.props)Y.slice(0,2)==="on"&&(U[Y]=B.vnode.props[Y]);var ht=K||{},ot=P({},M,E.config,U);m(B,ot,ht,E.__useStrictMode),Object.assign(K,ot)}Object(o.onMounted)(function(){var U=y(B).__konvaNode;U.add(z),p(z)}),Object(o.onUnmounted)(function(){p(z),z.destroy(),z.off(O)}),Object(o.onUpdated)(function(){it(),l(B.subTree,z)}),Object(o.watch)(function(){return E.config},it,{deep:!0}),G({getStage:rt,getNode:et});var I=w[g];return I?function(){var U;return Object(o.h)("template",{},(U=L.default)===null||U===void 0?void 0:U.call(L))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var T=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],R=[{name:"Stage",component:S}].concat(T.map(function(g){return{name:g,component:k(g)}})),N={install:function(b,E){var A=f;E&&E.prefix&&(A=E.prefix),R.forEach(function(M){b.component(""+A+M.name,M.component)})}};s.default=N}]).default})})(Tc);var v2=Tc.exports;const y2=mc(v2),Ec=Jh(m2);Ec.use(y2);Ec.mount("#app");
